(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function a(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=a(l);fetch(l.href,c)}})();function Cu(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ol={exports:{}},_a={},Il={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If;function h0(){if(If)return ve;If=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(T){return T===null||typeof T!="object"?null:(T=v&&T[v]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function b(T,$,ae){this.props=T,this.context=$,this.refs=k,this.updater=ae||S}b.prototype.isReactComponent={},b.prototype.setState=function(T,$){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,$,"setState")},b.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function _(){}_.prototype=b.prototype;function j(T,$,ae){this.props=T,this.context=$,this.refs=k,this.updater=ae||S}var P=j.prototype=new _;P.constructor=j,N(P,b.prototype),P.isPureReactComponent=!0;var M=Array.isArray,A=Object.prototype.hasOwnProperty,F={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function V(T,$,ae){var ge,we={},ke=null,Re=null;if($!=null)for(ge in $.ref!==void 0&&(Re=$.ref),$.key!==void 0&&(ke=""+$.key),$)A.call($,ge)&&!D.hasOwnProperty(ge)&&(we[ge]=$[ge]);var be=arguments.length-2;if(be===1)we.children=ae;else if(1<be){for(var Ie=Array(be),vt=0;vt<be;vt++)Ie[vt]=arguments[vt+2];we.children=Ie}if(T&&T.defaultProps)for(ge in be=T.defaultProps,be)we[ge]===void 0&&(we[ge]=be[ge]);return{$$typeof:s,type:T,key:ke,ref:Re,props:we,_owner:F.current}}function W(T,$){return{$$typeof:s,type:T.type,key:$,ref:T.ref,props:T.props,_owner:T._owner}}function se(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function X(T){var $={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ae){return $[ae]})}var de=/\/+/g;function me(T,$){return typeof T=="object"&&T!==null&&T.key!=null?X(""+T.key):$.toString(36)}function ye(T,$,ae,ge,we){var ke=typeof T;(ke==="undefined"||ke==="boolean")&&(T=null);var Re=!1;if(T===null)Re=!0;else switch(ke){case"string":case"number":Re=!0;break;case"object":switch(T.$$typeof){case s:case r:Re=!0}}if(Re)return Re=T,we=we(Re),T=ge===""?"."+me(Re,0):ge,M(we)?(ae="",T!=null&&(ae=T.replace(de,"$&/")+"/"),ye(we,$,ae,"",function(vt){return vt})):we!=null&&(se(we)&&(we=W(we,ae+(!we.key||Re&&Re.key===we.key?"":(""+we.key).replace(de,"$&/")+"/")+T)),$.push(we)),1;if(Re=0,ge=ge===""?".":ge+":",M(T))for(var be=0;be<T.length;be++){ke=T[be];var Ie=ge+me(ke,be);Re+=ye(ke,$,ae,Ie,we)}else if(Ie=w(T),typeof Ie=="function")for(T=Ie.call(T),be=0;!(ke=T.next()).done;)ke=ke.value,Ie=ge+me(ke,be++),Re+=ye(ke,$,ae,Ie,we);else if(ke==="object")throw $=String(T),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Re}function Pe(T,$,ae){if(T==null)return T;var ge=[],we=0;return ye(T,ge,"","",function(ke){return $.call(ae,ke,we++)}),ge}function G(T){if(T._status===-1){var $=T._result;$=$(),$.then(function(ae){(T._status===0||T._status===-1)&&(T._status=1,T._result=ae)},function(ae){(T._status===0||T._status===-1)&&(T._status=2,T._result=ae)}),T._status===-1&&(T._status=0,T._result=$)}if(T._status===1)return T._result.default;throw T._result}var U={current:null},B={transition:null},q={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:B,ReactCurrentOwner:F};function z(){throw Error("act(...) is not supported in production builds of React.")}return ve.Children={map:Pe,forEach:function(T,$,ae){Pe(T,function(){$.apply(this,arguments)},ae)},count:function(T){var $=0;return Pe(T,function(){$++}),$},toArray:function(T){return Pe(T,function($){return $})||[]},only:function(T){if(!se(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ve.Component=b,ve.Fragment=a,ve.Profiler=l,ve.PureComponent=j,ve.StrictMode=i,ve.Suspense=m,ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,ve.act=z,ve.cloneElement=function(T,$,ae){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var ge=N({},T.props),we=T.key,ke=T.ref,Re=T._owner;if($!=null){if($.ref!==void 0&&(ke=$.ref,Re=F.current),$.key!==void 0&&(we=""+$.key),T.type&&T.type.defaultProps)var be=T.type.defaultProps;for(Ie in $)A.call($,Ie)&&!D.hasOwnProperty(Ie)&&(ge[Ie]=$[Ie]===void 0&&be!==void 0?be[Ie]:$[Ie])}var Ie=arguments.length-2;if(Ie===1)ge.children=ae;else if(1<Ie){be=Array(Ie);for(var vt=0;vt<Ie;vt++)be[vt]=arguments[vt+2];ge.children=be}return{$$typeof:s,type:T.type,key:we,ref:ke,props:ge,_owner:Re}},ve.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:c,_context:T},T.Consumer=T},ve.createElement=V,ve.createFactory=function(T){var $=V.bind(null,T);return $.type=T,$},ve.createRef=function(){return{current:null}},ve.forwardRef=function(T){return{$$typeof:y,render:T}},ve.isValidElement=se,ve.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:G}},ve.memo=function(T,$){return{$$typeof:p,type:T,compare:$===void 0?null:$}},ve.startTransition=function(T){var $=B.transition;B.transition={};try{T()}finally{B.transition=$}},ve.unstable_act=z,ve.useCallback=function(T,$){return U.current.useCallback(T,$)},ve.useContext=function(T){return U.current.useContext(T)},ve.useDebugValue=function(){},ve.useDeferredValue=function(T){return U.current.useDeferredValue(T)},ve.useEffect=function(T,$){return U.current.useEffect(T,$)},ve.useId=function(){return U.current.useId()},ve.useImperativeHandle=function(T,$,ae){return U.current.useImperativeHandle(T,$,ae)},ve.useInsertionEffect=function(T,$){return U.current.useInsertionEffect(T,$)},ve.useLayoutEffect=function(T,$){return U.current.useLayoutEffect(T,$)},ve.useMemo=function(T,$){return U.current.useMemo(T,$)},ve.useReducer=function(T,$,ae){return U.current.useReducer(T,$,ae)},ve.useRef=function(T){return U.current.useRef(T)},ve.useState=function(T){return U.current.useState(T)},ve.useSyncExternalStore=function(T,$,ae){return U.current.useSyncExternalStore(T,$,ae)},ve.useTransition=function(){return U.current.useTransition()},ve.version="18.3.1",ve}var Lf;function qa(){return Lf||(Lf=1,Il.exports=h0()),Il.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Af;function m0(){if(Af)return _a;Af=1;var s=qa(),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(y,m,p){var g,v={},w=null,S=null;p!==void 0&&(w=""+p),m.key!==void 0&&(w=""+m.key),m.ref!==void 0&&(S=m.ref);for(g in m)i.call(m,g)&&!c.hasOwnProperty(g)&&(v[g]=m[g]);if(y&&y.defaultProps)for(g in m=y.defaultProps,m)v[g]===void 0&&(v[g]=m[g]);return{$$typeof:r,type:y,key:w,ref:S,props:v,_owner:l.current}}return _a.Fragment=a,_a.jsx=h,_a.jsxs=h,_a}var Ff;function p0(){return Ff||(Ff=1,Ol.exports=m0()),Ol.exports}var d=p0(),oe=qa();const et=Cu(oe);var ui={},Ll={exports:{}},yt={},Al={exports:{}},Fl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf;function g0(){return zf||(zf=1,function(s){function r(B,q){var z=B.length;B.push(q);e:for(;0<z;){var T=z-1>>>1,$=B[T];if(0<l($,q))B[T]=q,B[z]=$,z=T;else break e}}function a(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var q=B[0],z=B.pop();if(z!==q){B[0]=z;e:for(var T=0,$=B.length,ae=$>>>1;T<ae;){var ge=2*(T+1)-1,we=B[ge],ke=ge+1,Re=B[ke];if(0>l(we,z))ke<$&&0>l(Re,we)?(B[T]=Re,B[ke]=z,T=ke):(B[T]=we,B[ge]=z,T=ge);else if(ke<$&&0>l(Re,z))B[T]=Re,B[ke]=z,T=ke;else break e}}return q}function l(B,q){var z=B.sortIndex-q.sortIndex;return z!==0?z:B.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,y=h.now();s.unstable_now=function(){return h.now()-y}}var m=[],p=[],g=1,v=null,w=3,S=!1,N=!1,k=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(B){for(var q=a(p);q!==null;){if(q.callback===null)i(p);else if(q.startTime<=B)i(p),q.sortIndex=q.expirationTime,r(m,q);else break;q=a(p)}}function M(B){if(k=!1,P(B),!N)if(a(m)!==null)N=!0,G(A);else{var q=a(p);q!==null&&U(M,q.startTime-B)}}function A(B,q){N=!1,k&&(k=!1,_(V),V=-1),S=!0;var z=w;try{for(P(q),v=a(m);v!==null&&(!(v.expirationTime>q)||B&&!X());){var T=v.callback;if(typeof T=="function"){v.callback=null,w=v.priorityLevel;var $=T(v.expirationTime<=q);q=s.unstable_now(),typeof $=="function"?v.callback=$:v===a(m)&&i(m),P(q)}else i(m);v=a(m)}if(v!==null)var ae=!0;else{var ge=a(p);ge!==null&&U(M,ge.startTime-q),ae=!1}return ae}finally{v=null,w=z,S=!1}}var F=!1,D=null,V=-1,W=5,se=-1;function X(){return!(s.unstable_now()-se<W)}function de(){if(D!==null){var B=s.unstable_now();se=B;var q=!0;try{q=D(!0,B)}finally{q?me():(F=!1,D=null)}}else F=!1}var me;if(typeof j=="function")me=function(){j(de)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Pe=ye.port2;ye.port1.onmessage=de,me=function(){Pe.postMessage(null)}}else me=function(){b(de,0)};function G(B){D=B,F||(F=!0,me())}function U(B,q){V=b(function(){B(s.unstable_now())},q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_continueExecution=function(){N||S||(N=!0,G(A))},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return a(m)},s.unstable_next=function(B){switch(w){case 1:case 2:case 3:var q=3;break;default:q=w}var z=w;w=q;try{return B()}finally{w=z}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var z=w;w=B;try{return q()}finally{w=z}},s.unstable_scheduleCallback=function(B,q,z){var T=s.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?T+z:T):z=T,B){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=z+$,B={id:g++,callback:q,priorityLevel:B,startTime:z,expirationTime:$,sortIndex:-1},z>T?(B.sortIndex=z,r(p,B),a(m)===null&&B===a(p)&&(k?(_(V),V=-1):k=!0,U(M,z-T))):(B.sortIndex=$,r(m,B),N||S||(N=!0,G(A))),B},s.unstable_shouldYield=X,s.unstable_wrapCallback=function(B){var q=w;return function(){var z=w;w=q;try{return B.apply(this,arguments)}finally{w=z}}}}(Fl)),Fl}var Uf;function y0(){return Uf||(Uf=1,Al.exports=g0()),Al.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf;function v0(){if(Bf)return yt;Bf=1;var s=qa(),r=y0();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function c(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(e){return m.call(v,e)?!0:m.call(g,e)?!1:p.test(e)?v[e]=!0:(g[e]=!0,!1)}function S(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,t,n,o){if(t===null||typeof t>"u"||S(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function k(e,t,n,o,u,f,x){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=u,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=x}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){b[e]=new k(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];b[t]=new k(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){b[e]=new k(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){b[e]=new k(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){b[e]=new k(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){b[e]=new k(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){b[e]=new k(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){b[e]=new k(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){b[e]=new k(e,5,!1,e.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function j(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_,j);b[t]=new k(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_,j);b[t]=new k(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_,j);b[t]=new k(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){b[e]=new k(e,1,!1,e.toLowerCase(),null,!1,!1)}),b.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){b[e]=new k(e,1,!1,e.toLowerCase(),null,!0,!0)});function P(e,t,n,o){var u=b.hasOwnProperty(t)?b[t]:null;(u!==null?u.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N(t,n,u,o)&&(n=null),o||u===null?w(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):u.mustUseProperty?e[u.propertyName]=n===null?u.type===3?!1:"":n:(t=u.attributeName,o=u.attributeNamespace,n===null?e.removeAttribute(t):(u=u.type,n=u===3||u===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var M=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),F=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),X=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),B=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var z=Object.assign,T;function $(e){if(T===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||""}return`
`+T+e}var ae=!1;function ge(e,t){if(!e||ae)return"";ae=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(L){var o=L}Reflect.construct(e,[],t)}else{try{t.call()}catch(L){o=L}e.call(t.prototype)}else{try{throw Error()}catch(L){o=L}e()}}catch(L){if(L&&o&&typeof L.stack=="string"){for(var u=L.stack.split(`
`),f=o.stack.split(`
`),x=u.length-1,C=f.length-1;1<=x&&0<=C&&u[x]!==f[C];)C--;for(;1<=x&&0<=C;x--,C--)if(u[x]!==f[C]){if(x!==1||C!==1)do if(x--,C--,0>C||u[x]!==f[C]){var E=`
`+u[x].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=x&&0<=C);break}}}finally{ae=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function we(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=ge(e.type,!1),e;case 11:return e=ge(e.type.render,!1),e;case 1:return e=ge(e.type,!0),e;default:return""}}function ke(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case F:return"Portal";case W:return"Profiler";case V:return"StrictMode";case me:return"Suspense";case ye:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case X:return(e.displayName||"Context")+".Consumer";case se:return(e._context.displayName||"Context")+".Provider";case de:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pe:return t=e.displayName||null,t!==null?t:ke(e.type)||"Memo";case G:t=e._payload,e=e._init;try{return ke(e(t))}catch{}}return null}function Re(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(t);case 8:return t===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function be(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ie(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vt(e){var t=Ie(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var u=n.get,f=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(x){o=""+x,f.call(this,x)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Za(e){e._valueTracker||(e._valueTracker=vt(e))}function Uu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=Ie(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function es(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ui(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Bu(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=be(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $u(e,t){t=t.checked,t!=null&&P(e,"checked",t,!1)}function Bi(e,t){$u(e,t);var n=be(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$i(e,t.type,n):t.hasOwnProperty("defaultValue")&&$i(e,t.type,be(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $i(e,t,n){(t!=="number"||es(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wn=Array.isArray;function on(e,t,n,o){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&o&&(e[n].defaultSelected=!0)}else{for(n=""+be(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Wi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ku(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(a(92));if(Wn(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:be(n)}}function Hu(e,t){var n=be(t.value),o=be(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function Vu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ki(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ts,Yu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,u){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,u)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ts=ts||document.createElement("div"),ts.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ts.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ym=["Webkit","ms","Moz","O"];Object.keys(Hn).forEach(function(e){ym.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hn[t]=Hn[e]})});function qu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hn.hasOwnProperty(e)&&Hn[e]?(""+t).trim():t+"px"}function Gu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,u=qu(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,u):e[n]=u}}var vm=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hi(e,t){if(t){if(vm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function Vi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qi=null;function Yi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qi=null,ln=null,un=null;function Xu(e){if(e=ha(e)){if(typeof qi!="function")throw Error(a(280));var t=e.stateNode;t&&(t=bs(t),qi(e.stateNode,e.type,t))}}function Ju(e){ln?un?un.push(e):un=[e]:ln=e}function Zu(){if(ln){var e=ln,t=un;if(un=ln=null,Xu(e),t)for(e=0;e<t.length;e++)Xu(t[e])}}function ec(e,t){return e(t)}function tc(){}var Gi=!1;function rc(e,t,n){if(Gi)return e(t,n);Gi=!0;try{return ec(e,t,n)}finally{Gi=!1,(ln!==null||un!==null)&&(tc(),Zu())}}function Vn(e,t){var n=e.stateNode;if(n===null)return null;var o=bs(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(a(231,t,typeof n));return n}var Xi=!1;if(y)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){Xi=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{Xi=!1}function xm(e,t,n,o,u,f,x,C,E){var L=Array.prototype.slice.call(arguments,3);try{t.apply(n,L)}catch(H){this.onError(H)}}var Yn=!1,rs=null,ns=!1,Ji=null,wm={onError:function(e){Yn=!0,rs=e}};function km(e,t,n,o,u,f,x,C,E){Yn=!1,rs=null,xm.apply(wm,arguments)}function Sm(e,t,n,o,u,f,x,C,E){if(km.apply(this,arguments),Yn){if(Yn){var L=rs;Yn=!1,rs=null}else throw Error(a(198));ns||(ns=!0,Ji=L)}}function Ar(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ac(e){if(Ar(e)!==e)throw Error(a(188))}function Nm(e){var t=e.alternate;if(!t){if(t=Ar(e),t===null)throw Error(a(188));return t!==e?null:e}for(var n=e,o=t;;){var u=n.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){n=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===n)return ac(u),e;if(f===o)return ac(u),t;f=f.sibling}throw Error(a(188))}if(n.return!==o.return)n=u,o=f;else{for(var x=!1,C=u.child;C;){if(C===n){x=!0,n=u,o=f;break}if(C===o){x=!0,o=u,n=f;break}C=C.sibling}if(!x){for(C=f.child;C;){if(C===n){x=!0,n=f,o=u;break}if(C===o){x=!0,o=f,n=u;break}C=C.sibling}if(!x)throw Error(a(189))}}if(n.alternate!==o)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?e:t}function sc(e){return e=Nm(e),e!==null?ic(e):null}function ic(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ic(e);if(t!==null)return t;e=e.sibling}return null}var oc=r.unstable_scheduleCallback,lc=r.unstable_cancelCallback,bm=r.unstable_shouldYield,Cm=r.unstable_requestPaint,$e=r.unstable_now,jm=r.unstable_getCurrentPriorityLevel,Zi=r.unstable_ImmediatePriority,uc=r.unstable_UserBlockingPriority,as=r.unstable_NormalPriority,Em=r.unstable_LowPriority,cc=r.unstable_IdlePriority,ss=null,Ut=null;function _m(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(ss,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Pm,Rm=Math.log,Tm=Math.LN2;function Pm(e){return e>>>=0,e===0?32:31-(Rm(e)/Tm|0)|0}var is=64,os=4194304;function qn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ls(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,u=e.suspendedLanes,f=e.pingedLanes,x=n&268435455;if(x!==0){var C=x&~u;C!==0?o=qn(C):(f&=x,f!==0&&(o=qn(f)))}else x=n&~u,x!==0?o=qn(x):f!==0&&(o=qn(f));if(o===0)return 0;if(t!==0&&t!==o&&(t&u)===0&&(u=o&-o,f=t&-t,u>=f||u===16&&(f&4194240)!==0))return t;if((o&4)!==0&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-Dt(t),u=1<<n,o|=e[n],t&=~u;return o}function Dm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mm(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes;0<f;){var x=31-Dt(f),C=1<<x,E=u[x];E===-1?((C&n)===0||(C&o)!==0)&&(u[x]=Dm(C,t)):E<=t&&(e.expiredLanes|=C),f&=~C}}function eo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dc(){var e=is;return is<<=1,(is&4194240)===0&&(is=64),e}function to(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=n}function Om(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var u=31-Dt(n),f=1<<u;t[u]=0,o[u]=-1,e[u]=-1,n&=~f}}function ro(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-Dt(n),u=1<<o;u&t|e[o]&t&&(e[o]|=t),n&=~u}}var Ce=0;function fc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var hc,no,mc,pc,gc,ao=!1,us=[],dr=null,fr=null,hr=null,Xn=new Map,Jn=new Map,mr=[],Im="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yc(e,t){switch(e){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":Xn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jn.delete(t.pointerId)}}function Zn(e,t,n,o,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:f,targetContainers:[u]},t!==null&&(t=ha(t),t!==null&&no(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Lm(e,t,n,o,u){switch(t){case"focusin":return dr=Zn(dr,e,t,n,o,u),!0;case"dragenter":return fr=Zn(fr,e,t,n,o,u),!0;case"mouseover":return hr=Zn(hr,e,t,n,o,u),!0;case"pointerover":var f=u.pointerId;return Xn.set(f,Zn(Xn.get(f)||null,e,t,n,o,u)),!0;case"gotpointercapture":return f=u.pointerId,Jn.set(f,Zn(Jn.get(f)||null,e,t,n,o,u)),!0}return!1}function vc(e){var t=Fr(e.target);if(t!==null){var n=Ar(t);if(n!==null){if(t=n.tag,t===13){if(t=nc(n),t!==null){e.blockedOn=t,gc(e.priority,function(){mc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=io(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);Qi=o,n.target.dispatchEvent(o),Qi=null}else return t=ha(n),t!==null&&no(t),e.blockedOn=n,!1;t.shift()}return!0}function xc(e,t,n){cs(e)&&n.delete(t)}function Am(){ao=!1,dr!==null&&cs(dr)&&(dr=null),fr!==null&&cs(fr)&&(fr=null),hr!==null&&cs(hr)&&(hr=null),Xn.forEach(xc),Jn.forEach(xc)}function ea(e,t){e.blockedOn===t&&(e.blockedOn=null,ao||(ao=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Am)))}function ta(e){function t(u){return ea(u,e)}if(0<us.length){ea(us[0],e);for(var n=1;n<us.length;n++){var o=us[n];o.blockedOn===e&&(o.blockedOn=null)}}for(dr!==null&&ea(dr,e),fr!==null&&ea(fr,e),hr!==null&&ea(hr,e),Xn.forEach(t),Jn.forEach(t),n=0;n<mr.length;n++)o=mr[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<mr.length&&(n=mr[0],n.blockedOn===null);)vc(n),n.blockedOn===null&&mr.shift()}var cn=M.ReactCurrentBatchConfig,ds=!0;function Fm(e,t,n,o){var u=Ce,f=cn.transition;cn.transition=null;try{Ce=1,so(e,t,n,o)}finally{Ce=u,cn.transition=f}}function zm(e,t,n,o){var u=Ce,f=cn.transition;cn.transition=null;try{Ce=4,so(e,t,n,o)}finally{Ce=u,cn.transition=f}}function so(e,t,n,o){if(ds){var u=io(e,t,n,o);if(u===null)bo(e,t,o,fs,n),yc(e,o);else if(Lm(u,e,t,n,o))o.stopPropagation();else if(yc(e,o),t&4&&-1<Im.indexOf(e)){for(;u!==null;){var f=ha(u);if(f!==null&&hc(f),f=io(e,t,n,o),f===null&&bo(e,t,o,fs,n),f===u)break;u=f}u!==null&&o.stopPropagation()}else bo(e,t,o,null,n)}}var fs=null;function io(e,t,n,o){if(fs=null,e=Yi(o),e=Fr(e),e!==null)if(t=Ar(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fs=e,null}function wc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jm()){case Zi:return 1;case uc:return 4;case as:case Em:return 16;case cc:return 536870912;default:return 16}default:return 16}}var pr=null,oo=null,hs=null;function kc(){if(hs)return hs;var e,t=oo,n=t.length,o,u="value"in pr?pr.value:pr.textContent,f=u.length;for(e=0;e<n&&t[e]===u[e];e++);var x=n-e;for(o=1;o<=x&&t[n-o]===u[f-o];o++);return hs=u.slice(e,1<o?1-o:void 0)}function ms(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ps(){return!0}function Sc(){return!1}function xt(e){function t(n,o,u,f,x){this._reactName=n,this._targetInst=u,this.type=o,this.nativeEvent=f,this.target=x,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(n=e[C],this[C]=n?n(f):f[C]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ps:Sc,this.isPropagationStopped=Sc,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),t}var dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=xt(dn),ra=z({},dn,{view:0,detail:0}),Um=xt(ra),uo,co,na,gs=z({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ho,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==na&&(na&&e.type==="mousemove"?(uo=e.screenX-na.screenX,co=e.screenY-na.screenY):co=uo=0,na=e),uo)},movementY:function(e){return"movementY"in e?e.movementY:co}}),Nc=xt(gs),Bm=z({},gs,{dataTransfer:0}),$m=xt(Bm),Wm=z({},ra,{relatedTarget:0}),fo=xt(Wm),Km=z({},dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hm=xt(Km),Vm=z({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qm=xt(Vm),Ym=z({},dn,{data:0}),bc=xt(Ym),qm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xm[e])?!!t[e]:!1}function ho(){return Jm}var Zm=z({},ra,{key:function(e){if(e.key){var t=qm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ho,charCode:function(e){return e.type==="keypress"?ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ep=xt(Zm),tp=z({},gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cc=xt(tp),rp=z({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ho}),np=xt(rp),ap=z({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),sp=xt(ap),ip=z({},gs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),op=xt(ip),lp=[9,13,27,32],mo=y&&"CompositionEvent"in window,aa=null;y&&"documentMode"in document&&(aa=document.documentMode);var up=y&&"TextEvent"in window&&!aa,jc=y&&(!mo||aa&&8<aa&&11>=aa),Ec=" ",_c=!1;function Rc(e,t){switch(e){case"keyup":return lp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fn=!1;function cp(e,t){switch(e){case"compositionend":return Tc(t);case"keypress":return t.which!==32?null:(_c=!0,Ec);case"textInput":return e=t.data,e===Ec&&_c?null:e;default:return null}}function dp(e,t){if(fn)return e==="compositionend"||!mo&&Rc(e,t)?(e=kc(),hs=oo=pr=null,fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jc&&t.locale!=="ko"?null:t.data;default:return null}}var fp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fp[e.type]:t==="textarea"}function Dc(e,t,n,o){Ju(o),t=ks(t,"onChange"),0<t.length&&(n=new lo("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var sa=null,ia=null;function hp(e){Gc(e,0)}function ys(e){var t=yn(e);if(Uu(t))return e}function mp(e,t){if(e==="change")return t}var Mc=!1;if(y){var po;if(y){var go="oninput"in document;if(!go){var Oc=document.createElement("div");Oc.setAttribute("oninput","return;"),go=typeof Oc.oninput=="function"}po=go}else po=!1;Mc=po&&(!document.documentMode||9<document.documentMode)}function Ic(){sa&&(sa.detachEvent("onpropertychange",Lc),ia=sa=null)}function Lc(e){if(e.propertyName==="value"&&ys(ia)){var t=[];Dc(t,ia,e,Yi(e)),rc(hp,t)}}function pp(e,t,n){e==="focusin"?(Ic(),sa=t,ia=n,sa.attachEvent("onpropertychange",Lc)):e==="focusout"&&Ic()}function gp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ys(ia)}function yp(e,t){if(e==="click")return ys(t)}function vp(e,t){if(e==="input"||e==="change")return ys(t)}function xp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:xp;function oa(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var u=n[o];if(!m.call(t,u)||!Mt(e[u],t[u]))return!1}return!0}function Ac(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fc(e,t){var n=Ac(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ac(n)}}function zc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uc(){for(var e=window,t=es();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=es(e.document)}return t}function yo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wp(e){var t=Uc(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zc(n.ownerDocument.documentElement,n)){if(o!==null&&yo(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=n.textContent.length,f=Math.min(o.start,u);o=o.end===void 0?f:Math.min(o.end,u),!e.extend&&f>o&&(u=o,o=f,f=u),u=Fc(n,f);var x=Fc(n,o);u&&x&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==x.node||e.focusOffset!==x.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),f>o?(e.addRange(t),e.extend(x.node,x.offset)):(t.setEnd(x.node,x.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kp=y&&"documentMode"in document&&11>=document.documentMode,hn=null,vo=null,la=null,xo=!1;function Bc(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xo||hn==null||hn!==es(o)||(o=hn,"selectionStart"in o&&yo(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),la&&oa(la,o)||(la=o,o=ks(vo,"onSelect"),0<o.length&&(t=new lo("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=hn)))}function vs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mn={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},wo={},$c={};y&&($c=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);function xs(e){if(wo[e])return wo[e];if(!mn[e])return e;var t=mn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $c)return wo[e]=t[n];return e}var Wc=xs("animationend"),Kc=xs("animationiteration"),Hc=xs("animationstart"),Vc=xs("transitionend"),Qc=new Map,Yc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gr(e,t){Qc.set(e,t),c(t,[e])}for(var ko=0;ko<Yc.length;ko++){var So=Yc[ko],Sp=So.toLowerCase(),Np=So[0].toUpperCase()+So.slice(1);gr(Sp,"on"+Np)}gr(Wc,"onAnimationEnd"),gr(Kc,"onAnimationIteration"),gr(Hc,"onAnimationStart"),gr("dblclick","onDoubleClick"),gr("focusin","onFocus"),gr("focusout","onBlur"),gr(Vc,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bp=new Set("cancel close invalid load scroll toggle".split(" ").concat(ua));function qc(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,Sm(o,t,void 0,e),e.currentTarget=null}function Gc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],u=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var x=o.length-1;0<=x;x--){var C=o[x],E=C.instance,L=C.currentTarget;if(C=C.listener,E!==f&&u.isPropagationStopped())break e;qc(u,C,L),f=E}else for(x=0;x<o.length;x++){if(C=o[x],E=C.instance,L=C.currentTarget,C=C.listener,E!==f&&u.isPropagationStopped())break e;qc(u,C,L),f=E}}}if(ns)throw e=Ji,ns=!1,Ji=null,e}function De(e,t){var n=t[To];n===void 0&&(n=t[To]=new Set);var o=e+"__bubble";n.has(o)||(Xc(t,e,2,!1),n.add(o))}function No(e,t,n){var o=0;t&&(o|=4),Xc(n,e,o,t)}var ws="_reactListening"+Math.random().toString(36).slice(2);function ca(e){if(!e[ws]){e[ws]=!0,i.forEach(function(n){n!=="selectionchange"&&(bp.has(n)||No(n,!1,e),No(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ws]||(t[ws]=!0,No("selectionchange",!1,t))}}function Xc(e,t,n,o){switch(wc(t)){case 1:var u=Fm;break;case 4:u=zm;break;default:u=so}n=u.bind(null,t,n,e),u=void 0,!Xi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function bo(e,t,n,o,u){var f=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var C=o.stateNode.containerInfo;if(C===u||C.nodeType===8&&C.parentNode===u)break;if(x===4)for(x=o.return;x!==null;){var E=x.tag;if((E===3||E===4)&&(E=x.stateNode.containerInfo,E===u||E.nodeType===8&&E.parentNode===u))return;x=x.return}for(;C!==null;){if(x=Fr(C),x===null)return;if(E=x.tag,E===5||E===6){o=f=x;continue e}C=C.parentNode}}o=o.return}rc(function(){var L=f,H=Yi(n),Q=[];e:{var K=Qc.get(e);if(K!==void 0){var J=lo,te=e;switch(e){case"keypress":if(ms(n)===0)break e;case"keydown":case"keyup":J=ep;break;case"focusin":te="focus",J=fo;break;case"focusout":te="blur",J=fo;break;case"beforeblur":case"afterblur":J=fo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=$m;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=np;break;case Wc:case Kc:case Hc:J=Hm;break;case Vc:J=sp;break;case"scroll":J=Um;break;case"wheel":J=op;break;case"copy":case"cut":case"paste":J=Qm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Cc}var re=(t&4)!==0,We=!re&&e==="scroll",O=re?K!==null?K+"Capture":null:K;re=[];for(var R=L,I;R!==null;){I=R;var Y=I.stateNode;if(I.tag===5&&Y!==null&&(I=Y,O!==null&&(Y=Vn(R,O),Y!=null&&re.push(da(R,Y,I)))),We)break;R=R.return}0<re.length&&(K=new J(K,te,null,n,H),Q.push({event:K,listeners:re}))}}if((t&7)===0){e:{if(K=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",K&&n!==Qi&&(te=n.relatedTarget||n.fromElement)&&(Fr(te)||te[qt]))break e;if((J||K)&&(K=H.window===H?H:(K=H.ownerDocument)?K.defaultView||K.parentWindow:window,J?(te=n.relatedTarget||n.toElement,J=L,te=te?Fr(te):null,te!==null&&(We=Ar(te),te!==We||te.tag!==5&&te.tag!==6)&&(te=null)):(J=null,te=L),J!==te)){if(re=Nc,Y="onMouseLeave",O="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(re=Cc,Y="onPointerLeave",O="onPointerEnter",R="pointer"),We=J==null?K:yn(J),I=te==null?K:yn(te),K=new re(Y,R+"leave",J,n,H),K.target=We,K.relatedTarget=I,Y=null,Fr(H)===L&&(re=new re(O,R+"enter",te,n,H),re.target=I,re.relatedTarget=We,Y=re),We=Y,J&&te)t:{for(re=J,O=te,R=0,I=re;I;I=pn(I))R++;for(I=0,Y=O;Y;Y=pn(Y))I++;for(;0<R-I;)re=pn(re),R--;for(;0<I-R;)O=pn(O),I--;for(;R--;){if(re===O||O!==null&&re===O.alternate)break t;re=pn(re),O=pn(O)}re=null}else re=null;J!==null&&Jc(Q,K,J,re,!1),te!==null&&We!==null&&Jc(Q,We,te,re,!0)}}e:{if(K=L?yn(L):window,J=K.nodeName&&K.nodeName.toLowerCase(),J==="select"||J==="input"&&K.type==="file")var ne=mp;else if(Pc(K))if(Mc)ne=vp;else{ne=gp;var ue=pp}else(J=K.nodeName)&&J.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(ne=yp);if(ne&&(ne=ne(e,L))){Dc(Q,ne,n,H);break e}ue&&ue(e,K,L),e==="focusout"&&(ue=K._wrapperState)&&ue.controlled&&K.type==="number"&&$i(K,"number",K.value)}switch(ue=L?yn(L):window,e){case"focusin":(Pc(ue)||ue.contentEditable==="true")&&(hn=ue,vo=L,la=null);break;case"focusout":la=vo=hn=null;break;case"mousedown":xo=!0;break;case"contextmenu":case"mouseup":case"dragend":xo=!1,Bc(Q,n,H);break;case"selectionchange":if(kp)break;case"keydown":case"keyup":Bc(Q,n,H)}var ce;if(mo)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else fn?Rc(e,n)&&(he="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(he="onCompositionStart");he&&(jc&&n.locale!=="ko"&&(fn||he!=="onCompositionStart"?he==="onCompositionEnd"&&fn&&(ce=kc()):(pr=H,oo="value"in pr?pr.value:pr.textContent,fn=!0)),ue=ks(L,he),0<ue.length&&(he=new bc(he,e,null,n,H),Q.push({event:he,listeners:ue}),ce?he.data=ce:(ce=Tc(n),ce!==null&&(he.data=ce)))),(ce=up?cp(e,n):dp(e,n))&&(L=ks(L,"onBeforeInput"),0<L.length&&(H=new bc("onBeforeInput","beforeinput",null,n,H),Q.push({event:H,listeners:L}),H.data=ce))}Gc(Q,t)})}function da(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ks(e,t){for(var n=t+"Capture",o=[];e!==null;){var u=e,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=Vn(e,n),f!=null&&o.unshift(da(e,f,u)),f=Vn(e,t),f!=null&&o.push(da(e,f,u))),e=e.return}return o}function pn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jc(e,t,n,o,u){for(var f=t._reactName,x=[];n!==null&&n!==o;){var C=n,E=C.alternate,L=C.stateNode;if(E!==null&&E===o)break;C.tag===5&&L!==null&&(C=L,u?(E=Vn(n,f),E!=null&&x.unshift(da(n,E,C))):u||(E=Vn(n,f),E!=null&&x.push(da(n,E,C)))),n=n.return}x.length!==0&&e.push({event:t,listeners:x})}var Cp=/\r\n?/g,jp=/\u0000|\uFFFD/g;function Zc(e){return(typeof e=="string"?e:""+e).replace(Cp,`
`).replace(jp,"")}function Ss(e,t,n){if(t=Zc(t),Zc(e)!==t&&n)throw Error(a(425))}function Ns(){}var Co=null,jo=null;function Eo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _o=typeof setTimeout=="function"?setTimeout:void 0,Ep=typeof clearTimeout=="function"?clearTimeout:void 0,ed=typeof Promise=="function"?Promise:void 0,_p=typeof queueMicrotask=="function"?queueMicrotask:typeof ed<"u"?function(e){return ed.resolve(null).then(e).catch(Rp)}:_o;function Rp(e){setTimeout(function(){throw e})}function Ro(e,t){var n=t,o=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"){if(o===0){e.removeChild(u),ta(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=u}while(n);ta(t)}function yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function td(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gn=Math.random().toString(36).slice(2),Bt="__reactFiber$"+gn,fa="__reactProps$"+gn,qt="__reactContainer$"+gn,To="__reactEvents$"+gn,Tp="__reactListeners$"+gn,Pp="__reactHandles$"+gn;function Fr(e){var t=e[Bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qt]||n[Bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=td(e);e!==null;){if(n=e[Bt])return n;e=td(e)}return t}e=n,n=e.parentNode}return null}function ha(e){return e=e[Bt]||e[qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function bs(e){return e[fa]||null}var Po=[],vn=-1;function vr(e){return{current:e}}function Me(e){0>vn||(e.current=Po[vn],Po[vn]=null,vn--)}function Te(e,t){vn++,Po[vn]=e.current,e.current=t}var xr={},rt=vr(xr),ft=vr(!1),zr=xr;function xn(e,t){var n=e.type.contextTypes;if(!n)return xr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in n)u[f]=t[f];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function ht(e){return e=e.childContextTypes,e!=null}function Cs(){Me(ft),Me(rt)}function rd(e,t,n){if(rt.current!==xr)throw Error(a(168));Te(rt,t),Te(ft,n)}function nd(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var u in o)if(!(u in t))throw Error(a(108,Re(e)||"Unknown",u));return z({},n,o)}function js(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xr,zr=rt.current,Te(rt,e),Te(ft,ft.current),!0}function ad(e,t,n){var o=e.stateNode;if(!o)throw Error(a(169));n?(e=nd(e,t,zr),o.__reactInternalMemoizedMergedChildContext=e,Me(ft),Me(rt),Te(rt,e)):Me(ft),Te(ft,n)}var Gt=null,Es=!1,Do=!1;function sd(e){Gt===null?Gt=[e]:Gt.push(e)}function Dp(e){Es=!0,sd(e)}function wr(){if(!Do&&Gt!==null){Do=!0;var e=0,t=Ce;try{var n=Gt;for(Ce=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}Gt=null,Es=!1}catch(u){throw Gt!==null&&(Gt=Gt.slice(e+1)),oc(Zi,wr),u}finally{Ce=t,Do=!1}}return null}var wn=[],kn=0,_s=null,Rs=0,jt=[],Et=0,Ur=null,Xt=1,Jt="";function Br(e,t){wn[kn++]=Rs,wn[kn++]=_s,_s=e,Rs=t}function id(e,t,n){jt[Et++]=Xt,jt[Et++]=Jt,jt[Et++]=Ur,Ur=e;var o=Xt;e=Jt;var u=32-Dt(o)-1;o&=~(1<<u),n+=1;var f=32-Dt(t)+u;if(30<f){var x=u-u%5;f=(o&(1<<x)-1).toString(32),o>>=x,u-=x,Xt=1<<32-Dt(t)+u|n<<u|o,Jt=f+e}else Xt=1<<f|n<<u|o,Jt=e}function Mo(e){e.return!==null&&(Br(e,1),id(e,1,0))}function Oo(e){for(;e===_s;)_s=wn[--kn],wn[kn]=null,Rs=wn[--kn],wn[kn]=null;for(;e===Ur;)Ur=jt[--Et],jt[Et]=null,Jt=jt[--Et],jt[Et]=null,Xt=jt[--Et],jt[Et]=null}var wt=null,kt=null,Le=!1,Ot=null;function od(e,t){var n=Pt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ld(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wt=e,kt=yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wt=e,kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ur!==null?{id:Xt,overflow:Jt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Pt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wt=e,kt=null,!0):!1;default:return!1}}function Io(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lo(e){if(Le){var t=kt;if(t){var n=t;if(!ld(e,t)){if(Io(e))throw Error(a(418));t=yr(n.nextSibling);var o=wt;t&&ld(e,t)?od(o,n):(e.flags=e.flags&-4097|2,Le=!1,wt=e)}}else{if(Io(e))throw Error(a(418));e.flags=e.flags&-4097|2,Le=!1,wt=e}}}function ud(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function Ts(e){if(e!==wt)return!1;if(!Le)return ud(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Eo(e.type,e.memoizedProps)),t&&(t=kt)){if(Io(e))throw cd(),Error(a(418));for(;t;)od(e,t),t=yr(t.nextSibling)}if(ud(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){kt=yr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}kt=null}}else kt=wt?yr(e.stateNode.nextSibling):null;return!0}function cd(){for(var e=kt;e;)e=yr(e.nextSibling)}function Sn(){kt=wt=null,Le=!1}function Ao(e){Ot===null?Ot=[e]:Ot.push(e)}var Mp=M.ReactCurrentBatchConfig;function ma(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(a(309));var o=n.stateNode}if(!o)throw Error(a(147,e));var u=o,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(x){var C=u.refs;x===null?delete C[f]:C[f]=x},t._stringRef=f,t)}if(typeof e!="string")throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ps(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dd(e){var t=e._init;return t(e._payload)}function fd(e){function t(O,R){if(e){var I=O.deletions;I===null?(O.deletions=[R],O.flags|=16):I.push(R)}}function n(O,R){if(!e)return null;for(;R!==null;)t(O,R),R=R.sibling;return null}function o(O,R){for(O=new Map;R!==null;)R.key!==null?O.set(R.key,R):O.set(R.index,R),R=R.sibling;return O}function u(O,R){return O=_r(O,R),O.index=0,O.sibling=null,O}function f(O,R,I){return O.index=I,e?(I=O.alternate,I!==null?(I=I.index,I<R?(O.flags|=2,R):I):(O.flags|=2,R)):(O.flags|=1048576,R)}function x(O){return e&&O.alternate===null&&(O.flags|=2),O}function C(O,R,I,Y){return R===null||R.tag!==6?(R=_l(I,O.mode,Y),R.return=O,R):(R=u(R,I),R.return=O,R)}function E(O,R,I,Y){var ne=I.type;return ne===D?H(O,R,I.props.children,Y,I.key):R!==null&&(R.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===G&&dd(ne)===R.type)?(Y=u(R,I.props),Y.ref=ma(O,R,I),Y.return=O,Y):(Y=ti(I.type,I.key,I.props,null,O.mode,Y),Y.ref=ma(O,R,I),Y.return=O,Y)}function L(O,R,I,Y){return R===null||R.tag!==4||R.stateNode.containerInfo!==I.containerInfo||R.stateNode.implementation!==I.implementation?(R=Rl(I,O.mode,Y),R.return=O,R):(R=u(R,I.children||[]),R.return=O,R)}function H(O,R,I,Y,ne){return R===null||R.tag!==7?(R=qr(I,O.mode,Y,ne),R.return=O,R):(R=u(R,I),R.return=O,R)}function Q(O,R,I){if(typeof R=="string"&&R!==""||typeof R=="number")return R=_l(""+R,O.mode,I),R.return=O,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case A:return I=ti(R.type,R.key,R.props,null,O.mode,I),I.ref=ma(O,null,R),I.return=O,I;case F:return R=Rl(R,O.mode,I),R.return=O,R;case G:var Y=R._init;return Q(O,Y(R._payload),I)}if(Wn(R)||q(R))return R=qr(R,O.mode,I,null),R.return=O,R;Ps(O,R)}return null}function K(O,R,I,Y){var ne=R!==null?R.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return ne!==null?null:C(O,R,""+I,Y);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case A:return I.key===ne?E(O,R,I,Y):null;case F:return I.key===ne?L(O,R,I,Y):null;case G:return ne=I._init,K(O,R,ne(I._payload),Y)}if(Wn(I)||q(I))return ne!==null?null:H(O,R,I,Y,null);Ps(O,I)}return null}function J(O,R,I,Y,ne){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return O=O.get(I)||null,C(R,O,""+Y,ne);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:return O=O.get(Y.key===null?I:Y.key)||null,E(R,O,Y,ne);case F:return O=O.get(Y.key===null?I:Y.key)||null,L(R,O,Y,ne);case G:var ue=Y._init;return J(O,R,I,ue(Y._payload),ne)}if(Wn(Y)||q(Y))return O=O.get(I)||null,H(R,O,Y,ne,null);Ps(R,Y)}return null}function te(O,R,I,Y){for(var ne=null,ue=null,ce=R,he=R=0,Xe=null;ce!==null&&he<I.length;he++){ce.index>he?(Xe=ce,ce=null):Xe=ce.sibling;var Se=K(O,ce,I[he],Y);if(Se===null){ce===null&&(ce=Xe);break}e&&ce&&Se.alternate===null&&t(O,ce),R=f(Se,R,he),ue===null?ne=Se:ue.sibling=Se,ue=Se,ce=Xe}if(he===I.length)return n(O,ce),Le&&Br(O,he),ne;if(ce===null){for(;he<I.length;he++)ce=Q(O,I[he],Y),ce!==null&&(R=f(ce,R,he),ue===null?ne=ce:ue.sibling=ce,ue=ce);return Le&&Br(O,he),ne}for(ce=o(O,ce);he<I.length;he++)Xe=J(ce,O,he,I[he],Y),Xe!==null&&(e&&Xe.alternate!==null&&ce.delete(Xe.key===null?he:Xe.key),R=f(Xe,R,he),ue===null?ne=Xe:ue.sibling=Xe,ue=Xe);return e&&ce.forEach(function(Rr){return t(O,Rr)}),Le&&Br(O,he),ne}function re(O,R,I,Y){var ne=q(I);if(typeof ne!="function")throw Error(a(150));if(I=ne.call(I),I==null)throw Error(a(151));for(var ue=ne=null,ce=R,he=R=0,Xe=null,Se=I.next();ce!==null&&!Se.done;he++,Se=I.next()){ce.index>he?(Xe=ce,ce=null):Xe=ce.sibling;var Rr=K(O,ce,Se.value,Y);if(Rr===null){ce===null&&(ce=Xe);break}e&&ce&&Rr.alternate===null&&t(O,ce),R=f(Rr,R,he),ue===null?ne=Rr:ue.sibling=Rr,ue=Rr,ce=Xe}if(Se.done)return n(O,ce),Le&&Br(O,he),ne;if(ce===null){for(;!Se.done;he++,Se=I.next())Se=Q(O,Se.value,Y),Se!==null&&(R=f(Se,R,he),ue===null?ne=Se:ue.sibling=Se,ue=Se);return Le&&Br(O,he),ne}for(ce=o(O,ce);!Se.done;he++,Se=I.next())Se=J(ce,O,he,Se.value,Y),Se!==null&&(e&&Se.alternate!==null&&ce.delete(Se.key===null?he:Se.key),R=f(Se,R,he),ue===null?ne=Se:ue.sibling=Se,ue=Se);return e&&ce.forEach(function(f0){return t(O,f0)}),Le&&Br(O,he),ne}function We(O,R,I,Y){if(typeof I=="object"&&I!==null&&I.type===D&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case A:e:{for(var ne=I.key,ue=R;ue!==null;){if(ue.key===ne){if(ne=I.type,ne===D){if(ue.tag===7){n(O,ue.sibling),R=u(ue,I.props.children),R.return=O,O=R;break e}}else if(ue.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===G&&dd(ne)===ue.type){n(O,ue.sibling),R=u(ue,I.props),R.ref=ma(O,ue,I),R.return=O,O=R;break e}n(O,ue);break}else t(O,ue);ue=ue.sibling}I.type===D?(R=qr(I.props.children,O.mode,Y,I.key),R.return=O,O=R):(Y=ti(I.type,I.key,I.props,null,O.mode,Y),Y.ref=ma(O,R,I),Y.return=O,O=Y)}return x(O);case F:e:{for(ue=I.key;R!==null;){if(R.key===ue)if(R.tag===4&&R.stateNode.containerInfo===I.containerInfo&&R.stateNode.implementation===I.implementation){n(O,R.sibling),R=u(R,I.children||[]),R.return=O,O=R;break e}else{n(O,R);break}else t(O,R);R=R.sibling}R=Rl(I,O.mode,Y),R.return=O,O=R}return x(O);case G:return ue=I._init,We(O,R,ue(I._payload),Y)}if(Wn(I))return te(O,R,I,Y);if(q(I))return re(O,R,I,Y);Ps(O,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,R!==null&&R.tag===6?(n(O,R.sibling),R=u(R,I),R.return=O,O=R):(n(O,R),R=_l(I,O.mode,Y),R.return=O,O=R),x(O)):n(O,R)}return We}var Nn=fd(!0),hd=fd(!1),Ds=vr(null),Ms=null,bn=null,Fo=null;function zo(){Fo=bn=Ms=null}function Uo(e){var t=Ds.current;Me(Ds),e._currentValue=t}function Bo(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Cn(e,t){Ms=e,Fo=bn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(mt=!0),e.firstContext=null)}function _t(e){var t=e._currentValue;if(Fo!==e)if(e={context:e,memoizedValue:t,next:null},bn===null){if(Ms===null)throw Error(a(308));bn=e,Ms.dependencies={lanes:0,firstContext:e}}else bn=bn.next=e;return t}var $r=null;function $o(e){$r===null?$r=[e]:$r.push(e)}function md(e,t,n,o){var u=t.interleaved;return u===null?(n.next=n,$o(t)):(n.next=u.next,u.next=n),t.interleaved=n,Zt(e,o)}function Zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kr=!1;function Wo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function er(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sr(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(xe&2)!==0){var u=o.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),o.pending=t,Zt(e,n)}return u=o.interleaved,u===null?(t.next=t,$o(o)):(t.next=u.next,u.next=t),o.interleaved=t,Zt(e,n)}function Os(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,ro(e,n)}}function gd(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var u=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var x={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};f===null?u=f=x:f=f.next=x,n=n.next}while(n!==null);f===null?u=f=t:f=f.next=t}else u=f=t;n={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Is(e,t,n,o){var u=e.updateQueue;kr=!1;var f=u.firstBaseUpdate,x=u.lastBaseUpdate,C=u.shared.pending;if(C!==null){u.shared.pending=null;var E=C,L=E.next;E.next=null,x===null?f=L:x.next=L,x=E;var H=e.alternate;H!==null&&(H=H.updateQueue,C=H.lastBaseUpdate,C!==x&&(C===null?H.firstBaseUpdate=L:C.next=L,H.lastBaseUpdate=E))}if(f!==null){var Q=u.baseState;x=0,H=L=E=null,C=f;do{var K=C.lane,J=C.eventTime;if((o&K)===K){H!==null&&(H=H.next={eventTime:J,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var te=e,re=C;switch(K=t,J=n,re.tag){case 1:if(te=re.payload,typeof te=="function"){Q=te.call(J,Q,K);break e}Q=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=re.payload,K=typeof te=="function"?te.call(J,Q,K):te,K==null)break e;Q=z({},Q,K);break e;case 2:kr=!0}}C.callback!==null&&C.lane!==0&&(e.flags|=64,K=u.effects,K===null?u.effects=[C]:K.push(C))}else J={eventTime:J,lane:K,tag:C.tag,payload:C.payload,callback:C.callback,next:null},H===null?(L=H=J,E=Q):H=H.next=J,x|=K;if(C=C.next,C===null){if(C=u.shared.pending,C===null)break;K=C,C=K.next,K.next=null,u.lastBaseUpdate=K,u.shared.pending=null}}while(!0);if(H===null&&(E=Q),u.baseState=E,u.firstBaseUpdate=L,u.lastBaseUpdate=H,t=u.shared.interleaved,t!==null){u=t;do x|=u.lane,u=u.next;while(u!==t)}else f===null&&(u.shared.lanes=0);Hr|=x,e.lanes=x,e.memoizedState=Q}}function yd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],u=o.callback;if(u!==null){if(o.callback=null,o=n,typeof u!="function")throw Error(a(191,u));u.call(o)}}}var pa={},$t=vr(pa),ga=vr(pa),ya=vr(pa);function Wr(e){if(e===pa)throw Error(a(174));return e}function Ko(e,t){switch(Te(ya,t),Te(ga,e),Te($t,pa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ki(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ki(t,e)}Me($t),Te($t,t)}function jn(){Me($t),Me(ga),Me(ya)}function vd(e){Wr(ya.current);var t=Wr($t.current),n=Ki(t,e.type);t!==n&&(Te(ga,e),Te($t,n))}function Ho(e){ga.current===e&&(Me($t),Me(ga))}var Fe=vr(0);function Ls(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vo=[];function Qo(){for(var e=0;e<Vo.length;e++)Vo[e]._workInProgressVersionPrimary=null;Vo.length=0}var As=M.ReactCurrentDispatcher,Yo=M.ReactCurrentBatchConfig,Kr=0,ze=null,Ve=null,qe=null,Fs=!1,va=!1,xa=0,Op=0;function nt(){throw Error(a(321))}function qo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mt(e[n],t[n]))return!1;return!0}function Go(e,t,n,o,u,f){if(Kr=f,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,As.current=e===null||e.memoizedState===null?Fp:zp,e=n(o,u),va){f=0;do{if(va=!1,xa=0,25<=f)throw Error(a(301));f+=1,qe=Ve=null,t.updateQueue=null,As.current=Up,e=n(o,u)}while(va)}if(As.current=Bs,t=Ve!==null&&Ve.next!==null,Kr=0,qe=Ve=ze=null,Fs=!1,t)throw Error(a(300));return e}function Xo(){var e=xa!==0;return xa=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?ze.memoizedState=qe=e:qe=qe.next=e,qe}function Rt(){if(Ve===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=qe===null?ze.memoizedState:qe.next;if(t!==null)qe=t,Ve=e;else{if(e===null)throw Error(a(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},qe===null?ze.memoizedState=qe=e:qe=qe.next=e}return qe}function wa(e,t){return typeof t=="function"?t(e):t}function Jo(e){var t=Rt(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var o=Ve,u=o.baseQueue,f=n.pending;if(f!==null){if(u!==null){var x=u.next;u.next=f.next,f.next=x}o.baseQueue=u=f,n.pending=null}if(u!==null){f=u.next,o=o.baseState;var C=x=null,E=null,L=f;do{var H=L.lane;if((Kr&H)===H)E!==null&&(E=E.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),o=L.hasEagerState?L.eagerState:e(o,L.action);else{var Q={lane:H,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};E===null?(C=E=Q,x=o):E=E.next=Q,ze.lanes|=H,Hr|=H}L=L.next}while(L!==null&&L!==f);E===null?x=o:E.next=C,Mt(o,t.memoizedState)||(mt=!0),t.memoizedState=o,t.baseState=x,t.baseQueue=E,n.lastRenderedState=o}if(e=n.interleaved,e!==null){u=e;do f=u.lane,ze.lanes|=f,Hr|=f,u=u.next;while(u!==e)}else u===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zo(e){var t=Rt(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var o=n.dispatch,u=n.pending,f=t.memoizedState;if(u!==null){n.pending=null;var x=u=u.next;do f=e(f,x.action),x=x.next;while(x!==u);Mt(f,t.memoizedState)||(mt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,o]}function xd(){}function wd(e,t){var n=ze,o=Rt(),u=t(),f=!Mt(o.memoizedState,u);if(f&&(o.memoizedState=u,mt=!0),o=o.queue,el(Nd.bind(null,n,o,e),[e]),o.getSnapshot!==t||f||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,ka(9,Sd.bind(null,n,o,u,t),void 0,null),Ge===null)throw Error(a(349));(Kr&30)!==0||kd(n,t,u)}return u}function kd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sd(e,t,n,o){t.value=n,t.getSnapshot=o,bd(t)&&Cd(e)}function Nd(e,t,n){return n(function(){bd(t)&&Cd(e)})}function bd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mt(e,n)}catch{return!0}}function Cd(e){var t=Zt(e,1);t!==null&&Ft(t,e,1,-1)}function jd(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ap.bind(null,ze,e),[t.memoizedState,e]}function ka(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function Ed(){return Rt().memoizedState}function zs(e,t,n,o){var u=Wt();ze.flags|=e,u.memoizedState=ka(1|t,n,void 0,o===void 0?null:o)}function Us(e,t,n,o){var u=Rt();o=o===void 0?null:o;var f=void 0;if(Ve!==null){var x=Ve.memoizedState;if(f=x.destroy,o!==null&&qo(o,x.deps)){u.memoizedState=ka(t,n,f,o);return}}ze.flags|=e,u.memoizedState=ka(1|t,n,f,o)}function _d(e,t){return zs(8390656,8,e,t)}function el(e,t){return Us(2048,8,e,t)}function Rd(e,t){return Us(4,2,e,t)}function Td(e,t){return Us(4,4,e,t)}function Pd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dd(e,t,n){return n=n!=null?n.concat([e]):null,Us(4,4,Pd.bind(null,t,e),n)}function tl(){}function Md(e,t){var n=Rt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&qo(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Od(e,t){var n=Rt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&qo(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function Id(e,t,n){return(Kr&21)===0?(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=n):(Mt(n,t)||(n=dc(),ze.lanes|=n,Hr|=n,e.baseState=!0),t)}function Ip(e,t){var n=Ce;Ce=n!==0&&4>n?n:4,e(!0);var o=Yo.transition;Yo.transition={};try{e(!1),t()}finally{Ce=n,Yo.transition=o}}function Ld(){return Rt().memoizedState}function Lp(e,t,n){var o=jr(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Ad(e))Fd(t,n);else if(n=md(e,t,n,o),n!==null){var u=ut();Ft(n,e,o,u),zd(n,t,o)}}function Ap(e,t,n){var o=jr(e),u={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ad(e))Fd(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var x=t.lastRenderedState,C=f(x,n);if(u.hasEagerState=!0,u.eagerState=C,Mt(C,x)){var E=t.interleaved;E===null?(u.next=u,$o(t)):(u.next=E.next,E.next=u),t.interleaved=u;return}}catch{}finally{}n=md(e,t,u,o),n!==null&&(u=ut(),Ft(n,e,o,u),zd(n,t,o))}}function Ad(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function Fd(e,t){va=Fs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zd(e,t,n){if((n&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,ro(e,n)}}var Bs={readContext:_t,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},Fp={readContext:_t,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:_d,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zs(4194308,4,Pd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zs(4194308,4,e,t)},useInsertionEffect:function(e,t){return zs(4,2,e,t)},useMemo:function(e,t){var n=Wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=Wt();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Lp.bind(null,ze,e),[o.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:jd,useDebugValue:tl,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=jd(!1),t=e[0];return e=Ip.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=ze,u=Wt();if(Le){if(n===void 0)throw Error(a(407));n=n()}else{if(n=t(),Ge===null)throw Error(a(349));(Kr&30)!==0||kd(o,t,n)}u.memoizedState=n;var f={value:n,getSnapshot:t};return u.queue=f,_d(Nd.bind(null,o,f,e),[e]),o.flags|=2048,ka(9,Sd.bind(null,o,f,n,t),void 0,null),n},useId:function(){var e=Wt(),t=Ge.identifierPrefix;if(Le){var n=Jt,o=Xt;n=(o&~(1<<32-Dt(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=xa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Op++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zp={readContext:_t,useCallback:Md,useContext:_t,useEffect:el,useImperativeHandle:Dd,useInsertionEffect:Rd,useLayoutEffect:Td,useMemo:Od,useReducer:Jo,useRef:Ed,useState:function(){return Jo(wa)},useDebugValue:tl,useDeferredValue:function(e){var t=Rt();return Id(t,Ve.memoizedState,e)},useTransition:function(){var e=Jo(wa)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:xd,useSyncExternalStore:wd,useId:Ld,unstable_isNewReconciler:!1},Up={readContext:_t,useCallback:Md,useContext:_t,useEffect:el,useImperativeHandle:Dd,useInsertionEffect:Rd,useLayoutEffect:Td,useMemo:Od,useReducer:Zo,useRef:Ed,useState:function(){return Zo(wa)},useDebugValue:tl,useDeferredValue:function(e){var t=Rt();return Ve===null?t.memoizedState=e:Id(t,Ve.memoizedState,e)},useTransition:function(){var e=Zo(wa)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:xd,useSyncExternalStore:wd,useId:Ld,unstable_isNewReconciler:!1};function It(e,t){if(e&&e.defaultProps){t=z({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function rl(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:z({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $s={isMounted:function(e){return(e=e._reactInternals)?Ar(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=ut(),u=jr(e),f=er(o,u);f.payload=t,n!=null&&(f.callback=n),t=Sr(e,f,u),t!==null&&(Ft(t,e,u,o),Os(t,e,u))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=ut(),u=jr(e),f=er(o,u);f.tag=1,f.payload=t,n!=null&&(f.callback=n),t=Sr(e,f,u),t!==null&&(Ft(t,e,u,o),Os(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ut(),o=jr(e),u=er(n,o);u.tag=2,t!=null&&(u.callback=t),t=Sr(e,u,o),t!==null&&(Ft(t,e,o,n),Os(t,e,o))}};function Ud(e,t,n,o,u,f,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,x):t.prototype&&t.prototype.isPureReactComponent?!oa(n,o)||!oa(u,f):!0}function Bd(e,t,n){var o=!1,u=xr,f=t.contextType;return typeof f=="object"&&f!==null?f=_t(f):(u=ht(t)?zr:rt.current,o=t.contextTypes,f=(o=o!=null)?xn(e,u):xr),t=new t(n,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$s,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=f),t}function $d(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&$s.enqueueReplaceState(t,t.state,null)}function nl(e,t,n,o){var u=e.stateNode;u.props=n,u.state=e.memoizedState,u.refs={},Wo(e);var f=t.contextType;typeof f=="object"&&f!==null?u.context=_t(f):(f=ht(t)?zr:rt.current,u.context=xn(e,f)),u.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(rl(e,t,f,n),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&$s.enqueueReplaceState(u,u.state,null),Is(e,n,u,o),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function En(e,t){try{var n="",o=t;do n+=we(o),o=o.return;while(o);var u=n}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:u,digest:null}}function al(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Bp=typeof WeakMap=="function"?WeakMap:Map;function Wd(e,t,n){n=er(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){qs||(qs=!0,wl=o),sl(e,t)},n}function Kd(e,t,n){n=er(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var u=t.value;n.payload=function(){return o(u)},n.callback=function(){sl(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(n.callback=function(){sl(e,t),typeof o!="function"&&(br===null?br=new Set([this]):br.add(this));var x=t.stack;this.componentDidCatch(t.value,{componentStack:x!==null?x:""})}),n}function Hd(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new Bp;var u=new Set;o.set(t,u)}else u=o.get(t),u===void 0&&(u=new Set,o.set(t,u));u.has(n)||(u.add(n),e=t0.bind(null,e,t,n),t.then(e,e))}function Vd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qd(e,t,n,o,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=er(-1,1),t.tag=2,Sr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var $p=M.ReactCurrentOwner,mt=!1;function lt(e,t,n,o){t.child=e===null?hd(t,null,n,o):Nn(t,e.child,n,o)}function Yd(e,t,n,o,u){n=n.render;var f=t.ref;return Cn(t,u),o=Go(e,t,n,o,f,u),n=Xo(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,tr(e,t,u)):(Le&&n&&Mo(t),t.flags|=1,lt(e,t,o,u),t.child)}function qd(e,t,n,o,u){if(e===null){var f=n.type;return typeof f=="function"&&!El(f)&&f.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=f,Gd(e,t,f,o,u)):(e=ti(n.type,null,o,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&u)===0){var x=f.memoizedProps;if(n=n.compare,n=n!==null?n:oa,n(x,o)&&e.ref===t.ref)return tr(e,t,u)}return t.flags|=1,e=_r(f,o),e.ref=t.ref,e.return=t,t.child=e}function Gd(e,t,n,o,u){if(e!==null){var f=e.memoizedProps;if(oa(f,o)&&e.ref===t.ref)if(mt=!1,t.pendingProps=o=f,(e.lanes&u)!==0)(e.flags&131072)!==0&&(mt=!0);else return t.lanes=e.lanes,tr(e,t,u)}return il(e,t,n,o,u)}function Xd(e,t,n){var o=t.pendingProps,u=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Rn,St),St|=n;else{if((n&1073741824)===0)return e=f!==null?f.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(Rn,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=f!==null?f.baseLanes:n,Te(Rn,St),St|=o}else f!==null?(o=f.baseLanes|n,t.memoizedState=null):o=n,Te(Rn,St),St|=o;return lt(e,t,u,n),t.child}function Jd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function il(e,t,n,o,u){var f=ht(n)?zr:rt.current;return f=xn(t,f),Cn(t,u),n=Go(e,t,n,o,f,u),o=Xo(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,tr(e,t,u)):(Le&&o&&Mo(t),t.flags|=1,lt(e,t,n,u),t.child)}function Zd(e,t,n,o,u){if(ht(n)){var f=!0;js(t)}else f=!1;if(Cn(t,u),t.stateNode===null)Ks(e,t),Bd(t,n,o),nl(t,n,o,u),o=!0;else if(e===null){var x=t.stateNode,C=t.memoizedProps;x.props=C;var E=x.context,L=n.contextType;typeof L=="object"&&L!==null?L=_t(L):(L=ht(n)?zr:rt.current,L=xn(t,L));var H=n.getDerivedStateFromProps,Q=typeof H=="function"||typeof x.getSnapshotBeforeUpdate=="function";Q||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==o||E!==L)&&$d(t,x,o,L),kr=!1;var K=t.memoizedState;x.state=K,Is(t,o,x,u),E=t.memoizedState,C!==o||K!==E||ft.current||kr?(typeof H=="function"&&(rl(t,n,H,o),E=t.memoizedState),(C=kr||Ud(t,n,C,o,K,E,L))?(Q||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=E),x.props=o,x.state=E,x.context=L,o=C):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{x=t.stateNode,pd(e,t),C=t.memoizedProps,L=t.type===t.elementType?C:It(t.type,C),x.props=L,Q=t.pendingProps,K=x.context,E=n.contextType,typeof E=="object"&&E!==null?E=_t(E):(E=ht(n)?zr:rt.current,E=xn(t,E));var J=n.getDerivedStateFromProps;(H=typeof J=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==Q||K!==E)&&$d(t,x,o,E),kr=!1,K=t.memoizedState,x.state=K,Is(t,o,x,u);var te=t.memoizedState;C!==Q||K!==te||ft.current||kr?(typeof J=="function"&&(rl(t,n,J,o),te=t.memoizedState),(L=kr||Ud(t,n,L,o,K,te,E)||!1)?(H||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(o,te,E),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(o,te,E)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===e.memoizedProps&&K===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&K===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=te),x.props=o,x.state=te,x.context=E,o=L):(typeof x.componentDidUpdate!="function"||C===e.memoizedProps&&K===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&K===e.memoizedState||(t.flags|=1024),o=!1)}return ol(e,t,n,o,f,u)}function ol(e,t,n,o,u,f){Jd(e,t);var x=(t.flags&128)!==0;if(!o&&!x)return u&&ad(t,n,!1),tr(e,t,f);o=t.stateNode,$p.current=t;var C=x&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&x?(t.child=Nn(t,e.child,null,f),t.child=Nn(t,null,C,f)):lt(e,t,C,f),t.memoizedState=o.state,u&&ad(t,n,!0),t.child}function ef(e){var t=e.stateNode;t.pendingContext?rd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rd(e,t.context,!1),Ko(e,t.containerInfo)}function tf(e,t,n,o,u){return Sn(),Ao(u),t.flags|=256,lt(e,t,n,o),t.child}var ll={dehydrated:null,treeContext:null,retryLane:0};function ul(e){return{baseLanes:e,cachePool:null,transitions:null}}function rf(e,t,n){var o=t.pendingProps,u=Fe.current,f=!1,x=(t.flags&128)!==0,C;if((C=x)||(C=e!==null&&e.memoizedState===null?!1:(u&2)!==0),C?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Te(Fe,u&1),e===null)return Lo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(x=o.children,e=o.fallback,f?(o=t.mode,f=t.child,x={mode:"hidden",children:x},(o&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=x):f=ri(x,o,0,null),e=qr(e,o,n,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=ul(n),t.memoizedState=ll,e):cl(t,x));if(u=e.memoizedState,u!==null&&(C=u.dehydrated,C!==null))return Wp(e,t,x,o,C,u,n);if(f){f=o.fallback,x=t.mode,u=e.child,C=u.sibling;var E={mode:"hidden",children:o.children};return(x&1)===0&&t.child!==u?(o=t.child,o.childLanes=0,o.pendingProps=E,t.deletions=null):(o=_r(u,E),o.subtreeFlags=u.subtreeFlags&14680064),C!==null?f=_r(C,f):(f=qr(f,x,n,null),f.flags|=2),f.return=t,o.return=t,o.sibling=f,t.child=o,o=f,f=t.child,x=e.child.memoizedState,x=x===null?ul(n):{baseLanes:x.baseLanes|n,cachePool:null,transitions:x.transitions},f.memoizedState=x,f.childLanes=e.childLanes&~n,t.memoizedState=ll,o}return f=e.child,e=f.sibling,o=_r(f,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function cl(e,t){return t=ri({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ws(e,t,n,o){return o!==null&&Ao(o),Nn(t,e.child,null,n),e=cl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wp(e,t,n,o,u,f,x){if(n)return t.flags&256?(t.flags&=-257,o=al(Error(a(422))),Ws(e,t,x,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=o.fallback,u=t.mode,o=ri({mode:"visible",children:o.children},u,0,null),f=qr(f,u,x,null),f.flags|=2,o.return=t,f.return=t,o.sibling=f,t.child=o,(t.mode&1)!==0&&Nn(t,e.child,null,x),t.child.memoizedState=ul(x),t.memoizedState=ll,f);if((t.mode&1)===0)return Ws(e,t,x,null);if(u.data==="$!"){if(o=u.nextSibling&&u.nextSibling.dataset,o)var C=o.dgst;return o=C,f=Error(a(419)),o=al(f,o,void 0),Ws(e,t,x,o)}if(C=(x&e.childLanes)!==0,mt||C){if(o=Ge,o!==null){switch(x&-x){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(o.suspendedLanes|x))!==0?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,Zt(e,u),Ft(o,e,u,-1))}return jl(),o=al(Error(a(421))),Ws(e,t,x,o)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=r0.bind(null,e),u._reactRetry=t,null):(e=f.treeContext,kt=yr(u.nextSibling),wt=t,Le=!0,Ot=null,e!==null&&(jt[Et++]=Xt,jt[Et++]=Jt,jt[Et++]=Ur,Xt=e.id,Jt=e.overflow,Ur=t),t=cl(t,o.children),t.flags|=4096,t)}function nf(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Bo(e.return,t,n)}function dl(e,t,n,o,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=n,f.tailMode=u)}function af(e,t,n){var o=t.pendingProps,u=o.revealOrder,f=o.tail;if(lt(e,t,o.children,n),o=Fe.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nf(e,n,t);else if(e.tag===19)nf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Te(Fe,o),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Ls(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),dl(t,!1,u,n,f);break;case"backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Ls(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}dl(t,!0,n,null,f);break;case"together":dl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,n=_r(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_r(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kp(e,t,n){switch(t.tag){case 3:ef(t),Sn();break;case 5:vd(t);break;case 1:ht(t.type)&&js(t);break;case 4:Ko(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,u=t.memoizedProps.value;Te(Ds,o._currentValue),o._currentValue=u;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Te(Fe,Fe.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?rf(e,t,n):(Te(Fe,Fe.current&1),e=tr(e,t,n),e!==null?e.sibling:null);Te(Fe,Fe.current&1);break;case 19:if(o=(n&t.childLanes)!==0,(e.flags&128)!==0){if(o)return af(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Te(Fe,Fe.current),o)break;return null;case 22:case 23:return t.lanes=0,Xd(e,t,n)}return tr(e,t,n)}var sf,fl,of,lf;sf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},fl=function(){},of=function(e,t,n,o){var u=e.memoizedProps;if(u!==o){e=t.stateNode,Wr($t.current);var f=null;switch(n){case"input":u=Ui(e,u),o=Ui(e,o),f=[];break;case"select":u=z({},u,{value:void 0}),o=z({},o,{value:void 0}),f=[];break;case"textarea":u=Wi(e,u),o=Wi(e,o),f=[];break;default:typeof u.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Ns)}Hi(n,o);var x;n=null;for(L in u)if(!o.hasOwnProperty(L)&&u.hasOwnProperty(L)&&u[L]!=null)if(L==="style"){var C=u[L];for(x in C)C.hasOwnProperty(x)&&(n||(n={}),n[x]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(l.hasOwnProperty(L)?f||(f=[]):(f=f||[]).push(L,null));for(L in o){var E=o[L];if(C=u?.[L],o.hasOwnProperty(L)&&E!==C&&(E!=null||C!=null))if(L==="style")if(C){for(x in C)!C.hasOwnProperty(x)||E&&E.hasOwnProperty(x)||(n||(n={}),n[x]="");for(x in E)E.hasOwnProperty(x)&&C[x]!==E[x]&&(n||(n={}),n[x]=E[x])}else n||(f||(f=[]),f.push(L,n)),n=E;else L==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,C=C?C.__html:void 0,E!=null&&C!==E&&(f=f||[]).push(L,E)):L==="children"?typeof E!="string"&&typeof E!="number"||(f=f||[]).push(L,""+E):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(l.hasOwnProperty(L)?(E!=null&&L==="onScroll"&&De("scroll",e),f||C===E||(f=[])):(f=f||[]).push(L,E))}n&&(f=f||[]).push("style",n);var L=f;(t.updateQueue=L)&&(t.flags|=4)}},lf=function(e,t,n,o){n!==o&&(t.flags|=4)};function Sa(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,o|=u.subtreeFlags&14680064,o|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function Hp(e,t,n){var o=t.pendingProps;switch(Oo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return ht(t.type)&&Cs(),at(t),null;case 3:return o=t.stateNode,jn(),Me(ft),Me(rt),Qo(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ts(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ot!==null&&(Nl(Ot),Ot=null))),fl(e,t),at(t),null;case 5:Ho(t);var u=Wr(ya.current);if(n=t.type,e!==null&&t.stateNode!=null)of(e,t,n,o,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(a(166));return at(t),null}if(e=Wr($t.current),Ts(t)){o=t.stateNode,n=t.type;var f=t.memoizedProps;switch(o[Bt]=t,o[fa]=f,e=(t.mode&1)!==0,n){case"dialog":De("cancel",o),De("close",o);break;case"iframe":case"object":case"embed":De("load",o);break;case"video":case"audio":for(u=0;u<ua.length;u++)De(ua[u],o);break;case"source":De("error",o);break;case"img":case"image":case"link":De("error",o),De("load",o);break;case"details":De("toggle",o);break;case"input":Bu(o,f),De("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!f.multiple},De("invalid",o);break;case"textarea":Ku(o,f),De("invalid",o)}Hi(n,f),u=null;for(var x in f)if(f.hasOwnProperty(x)){var C=f[x];x==="children"?typeof C=="string"?o.textContent!==C&&(f.suppressHydrationWarning!==!0&&Ss(o.textContent,C,e),u=["children",C]):typeof C=="number"&&o.textContent!==""+C&&(f.suppressHydrationWarning!==!0&&Ss(o.textContent,C,e),u=["children",""+C]):l.hasOwnProperty(x)&&C!=null&&x==="onScroll"&&De("scroll",o)}switch(n){case"input":Za(o),Wu(o,f,!0);break;case"textarea":Za(o),Vu(o);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(o.onclick=Ns)}o=u,t.updateQueue=o,o!==null&&(t.flags|=4)}else{x=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=x.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=x.createElement(n,{is:o.is}):(e=x.createElement(n),n==="select"&&(x=e,o.multiple?x.multiple=!0:o.size&&(x.size=o.size))):e=x.createElementNS(e,n),e[Bt]=t,e[fa]=o,sf(e,t,!1,!1),t.stateNode=e;e:{switch(x=Vi(n,o),n){case"dialog":De("cancel",e),De("close",e),u=o;break;case"iframe":case"object":case"embed":De("load",e),u=o;break;case"video":case"audio":for(u=0;u<ua.length;u++)De(ua[u],e);u=o;break;case"source":De("error",e),u=o;break;case"img":case"image":case"link":De("error",e),De("load",e),u=o;break;case"details":De("toggle",e),u=o;break;case"input":Bu(e,o),u=Ui(e,o),De("invalid",e);break;case"option":u=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},u=z({},o,{value:void 0}),De("invalid",e);break;case"textarea":Ku(e,o),u=Wi(e,o),De("invalid",e);break;default:u=o}Hi(n,u),C=u;for(f in C)if(C.hasOwnProperty(f)){var E=C[f];f==="style"?Gu(e,E):f==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&Yu(e,E)):f==="children"?typeof E=="string"?(n!=="textarea"||E!=="")&&Kn(e,E):typeof E=="number"&&Kn(e,""+E):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?E!=null&&f==="onScroll"&&De("scroll",e):E!=null&&P(e,f,E,x))}switch(n){case"input":Za(e),Wu(e,o,!1);break;case"textarea":Za(e),Vu(e);break;case"option":o.value!=null&&e.setAttribute("value",""+be(o.value));break;case"select":e.multiple=!!o.multiple,f=o.value,f!=null?on(e,!!o.multiple,f,!1):o.defaultValue!=null&&on(e,!!o.multiple,o.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Ns)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return at(t),null;case 6:if(e&&t.stateNode!=null)lf(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(a(166));if(n=Wr(ya.current),Wr($t.current),Ts(t)){if(o=t.stateNode,n=t.memoizedProps,o[Bt]=t,(f=o.nodeValue!==n)&&(e=wt,e!==null))switch(e.tag){case 3:Ss(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ss(o.nodeValue,n,(e.mode&1)!==0)}f&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Bt]=t,t.stateNode=o}return at(t),null;case 13:if(Me(Fe),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&kt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)cd(),Sn(),t.flags|=98560,f=!1;else if(f=Ts(t),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Bt]=t}else Sn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;at(t),f=!1}else Ot!==null&&(Nl(Ot),Ot=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Fe.current&1)!==0?Qe===0&&(Qe=3):jl())),t.updateQueue!==null&&(t.flags|=4),at(t),null);case 4:return jn(),fl(e,t),e===null&&ca(t.stateNode.containerInfo),at(t),null;case 10:return Uo(t.type._context),at(t),null;case 17:return ht(t.type)&&Cs(),at(t),null;case 19:if(Me(Fe),f=t.memoizedState,f===null)return at(t),null;if(o=(t.flags&128)!==0,x=f.rendering,x===null)if(o)Sa(f,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(x=Ls(e),x!==null){for(t.flags|=128,Sa(f,!1),o=x.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)f=n,e=o,f.flags&=14680066,x=f.alternate,x===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=x.childLanes,f.lanes=x.lanes,f.child=x.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=x.memoizedProps,f.memoizedState=x.memoizedState,f.updateQueue=x.updateQueue,f.type=x.type,e=x.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Te(Fe,Fe.current&1|2),t.child}e=e.sibling}f.tail!==null&&$e()>Tn&&(t.flags|=128,o=!0,Sa(f,!1),t.lanes=4194304)}else{if(!o)if(e=Ls(x),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Sa(f,!0),f.tail===null&&f.tailMode==="hidden"&&!x.alternate&&!Le)return at(t),null}else 2*$e()-f.renderingStartTime>Tn&&n!==1073741824&&(t.flags|=128,o=!0,Sa(f,!1),t.lanes=4194304);f.isBackwards?(x.sibling=t.child,t.child=x):(n=f.last,n!==null?n.sibling=x:t.child=x,f.last=x)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=$e(),t.sibling=null,n=Fe.current,Te(Fe,o?n&1|2:n&1),t):(at(t),null);case 22:case 23:return Cl(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(St&1073741824)!==0&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function Vp(e,t){switch(Oo(t),t.tag){case 1:return ht(t.type)&&Cs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jn(),Me(ft),Me(rt),Qo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ho(t),null;case 13:if(Me(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Sn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Fe),null;case 4:return jn(),null;case 10:return Uo(t.type._context),null;case 22:case 23:return Cl(),null;case 24:return null;default:return null}}var Hs=!1,st=!1,Qp=typeof WeakSet=="function"?WeakSet:Set,ee=null;function _n(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){Be(e,t,o)}else n.current=null}function hl(e,t,n){try{n()}catch(o){Be(e,t,o)}}var uf=!1;function Yp(e,t){if(Co=ds,e=Uc(),yo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var u=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var x=0,C=-1,E=-1,L=0,H=0,Q=e,K=null;t:for(;;){for(var J;Q!==n||u!==0&&Q.nodeType!==3||(C=x+u),Q!==f||o!==0&&Q.nodeType!==3||(E=x+o),Q.nodeType===3&&(x+=Q.nodeValue.length),(J=Q.firstChild)!==null;)K=Q,Q=J;for(;;){if(Q===e)break t;if(K===n&&++L===u&&(C=x),K===f&&++H===o&&(E=x),(J=Q.nextSibling)!==null)break;Q=K,K=Q.parentNode}Q=J}n=C===-1||E===-1?null:{start:C,end:E}}else n=null}n=n||{start:0,end:0}}else n=null;for(jo={focusedElem:e,selectionRange:n},ds=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var te=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var re=te.memoizedProps,We=te.memoizedState,O=t.stateNode,R=O.getSnapshotBeforeUpdate(t.elementType===t.type?re:It(t.type,re),We);O.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Y){Be(t,t.return,Y)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return te=uf,uf=!1,te}function Na(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&e)===e){var f=u.destroy;u.destroy=void 0,f!==void 0&&hl(t,n,f)}u=u.next}while(u!==o)}}function Vs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function ml(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cf(e){var t=e.alternate;t!==null&&(e.alternate=null,cf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bt],delete t[fa],delete t[To],delete t[Tp],delete t[Pp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function df(e){return e.tag===5||e.tag===3||e.tag===4}function ff(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||df(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pl(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ns));else if(o!==4&&(e=e.child,e!==null))for(pl(e,t,n),e=e.sibling;e!==null;)pl(e,t,n),e=e.sibling}function gl(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(gl(e,t,n),e=e.sibling;e!==null;)gl(e,t,n),e=e.sibling}var Je=null,Lt=!1;function Nr(e,t,n){for(n=n.child;n!==null;)hf(e,t,n),n=n.sibling}function hf(e,t,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(ss,n)}catch{}switch(n.tag){case 5:st||_n(n,t);case 6:var o=Je,u=Lt;Je=null,Nr(e,t,n),Je=o,Lt=u,Je!==null&&(Lt?(e=Je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(Lt?(e=Je,n=n.stateNode,e.nodeType===8?Ro(e.parentNode,n):e.nodeType===1&&Ro(e,n),ta(e)):Ro(Je,n.stateNode));break;case 4:o=Je,u=Lt,Je=n.stateNode.containerInfo,Lt=!0,Nr(e,t,n),Je=o,Lt=u;break;case 0:case 11:case 14:case 15:if(!st&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){u=o=o.next;do{var f=u,x=f.destroy;f=f.tag,x!==void 0&&((f&2)!==0||(f&4)!==0)&&hl(n,t,x),u=u.next}while(u!==o)}Nr(e,t,n);break;case 1:if(!st&&(_n(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(C){Be(n,t,C)}Nr(e,t,n);break;case 21:Nr(e,t,n);break;case 22:n.mode&1?(st=(o=st)||n.memoizedState!==null,Nr(e,t,n),st=o):Nr(e,t,n);break;default:Nr(e,t,n)}}function mf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Qp),t.forEach(function(o){var u=n0.bind(null,e,o);n.has(o)||(n.add(o),o.then(u,u))})}}function At(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var u=n[o];try{var f=e,x=t,C=x;e:for(;C!==null;){switch(C.tag){case 5:Je=C.stateNode,Lt=!1;break e;case 3:Je=C.stateNode.containerInfo,Lt=!0;break e;case 4:Je=C.stateNode.containerInfo,Lt=!0;break e}C=C.return}if(Je===null)throw Error(a(160));hf(f,x,u),Je=null,Lt=!1;var E=u.alternate;E!==null&&(E.return=null),u.return=null}catch(L){Be(u,t,L)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pf(t,e),t=t.sibling}function pf(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),Kt(e),o&4){try{Na(3,e,e.return),Vs(3,e)}catch(re){Be(e,e.return,re)}try{Na(5,e,e.return)}catch(re){Be(e,e.return,re)}}break;case 1:At(t,e),Kt(e),o&512&&n!==null&&_n(n,n.return);break;case 5:if(At(t,e),Kt(e),o&512&&n!==null&&_n(n,n.return),e.flags&32){var u=e.stateNode;try{Kn(u,"")}catch(re){Be(e,e.return,re)}}if(o&4&&(u=e.stateNode,u!=null)){var f=e.memoizedProps,x=n!==null?n.memoizedProps:f,C=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{C==="input"&&f.type==="radio"&&f.name!=null&&$u(u,f),Vi(C,x);var L=Vi(C,f);for(x=0;x<E.length;x+=2){var H=E[x],Q=E[x+1];H==="style"?Gu(u,Q):H==="dangerouslySetInnerHTML"?Yu(u,Q):H==="children"?Kn(u,Q):P(u,H,Q,L)}switch(C){case"input":Bi(u,f);break;case"textarea":Hu(u,f);break;case"select":var K=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var J=f.value;J!=null?on(u,!!f.multiple,J,!1):K!==!!f.multiple&&(f.defaultValue!=null?on(u,!!f.multiple,f.defaultValue,!0):on(u,!!f.multiple,f.multiple?[]:"",!1))}u[fa]=f}catch(re){Be(e,e.return,re)}}break;case 6:if(At(t,e),Kt(e),o&4){if(e.stateNode===null)throw Error(a(162));u=e.stateNode,f=e.memoizedProps;try{u.nodeValue=f}catch(re){Be(e,e.return,re)}}break;case 3:if(At(t,e),Kt(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{ta(t.containerInfo)}catch(re){Be(e,e.return,re)}break;case 4:At(t,e),Kt(e);break;case 13:At(t,e),Kt(e),u=e.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||(xl=$e())),o&4&&mf(e);break;case 22:if(H=n!==null&&n.memoizedState!==null,e.mode&1?(st=(L=st)||H,At(t,e),st=L):At(t,e),Kt(e),o&8192){if(L=e.memoizedState!==null,(e.stateNode.isHidden=L)&&!H&&(e.mode&1)!==0)for(ee=e,H=e.child;H!==null;){for(Q=ee=H;ee!==null;){switch(K=ee,J=K.child,K.tag){case 0:case 11:case 14:case 15:Na(4,K,K.return);break;case 1:_n(K,K.return);var te=K.stateNode;if(typeof te.componentWillUnmount=="function"){o=K,n=K.return;try{t=o,te.props=t.memoizedProps,te.state=t.memoizedState,te.componentWillUnmount()}catch(re){Be(o,n,re)}}break;case 5:_n(K,K.return);break;case 22:if(K.memoizedState!==null){vf(Q);continue}}J!==null?(J.return=K,ee=J):vf(Q)}H=H.sibling}e:for(H=null,Q=e;;){if(Q.tag===5){if(H===null){H=Q;try{u=Q.stateNode,L?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(C=Q.stateNode,E=Q.memoizedProps.style,x=E!=null&&E.hasOwnProperty("display")?E.display:null,C.style.display=qu("display",x))}catch(re){Be(e,e.return,re)}}}else if(Q.tag===6){if(H===null)try{Q.stateNode.nodeValue=L?"":Q.memoizedProps}catch(re){Be(e,e.return,re)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===e)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===e)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===e)break e;H===Q&&(H=null),Q=Q.return}H===Q&&(H=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:At(t,e),Kt(e),o&4&&mf(e);break;case 21:break;default:At(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(df(n)){var o=n;break e}n=n.return}throw Error(a(160))}switch(o.tag){case 5:var u=o.stateNode;o.flags&32&&(Kn(u,""),o.flags&=-33);var f=ff(e);gl(e,f,u);break;case 3:case 4:var x=o.stateNode.containerInfo,C=ff(e);pl(e,C,x);break;default:throw Error(a(161))}}catch(E){Be(e,e.return,E)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qp(e,t,n){ee=e,gf(e)}function gf(e,t,n){for(var o=(e.mode&1)!==0;ee!==null;){var u=ee,f=u.child;if(u.tag===22&&o){var x=u.memoizedState!==null||Hs;if(!x){var C=u.alternate,E=C!==null&&C.memoizedState!==null||st;C=Hs;var L=st;if(Hs=x,(st=E)&&!L)for(ee=u;ee!==null;)x=ee,E=x.child,x.tag===22&&x.memoizedState!==null?xf(u):E!==null?(E.return=x,ee=E):xf(u);for(;f!==null;)ee=f,gf(f),f=f.sibling;ee=u,Hs=C,st=L}yf(e)}else(u.subtreeFlags&8772)!==0&&f!==null?(f.return=u,ee=f):yf(e)}}function yf(e){for(;ee!==null;){var t=ee;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:st||Vs(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!st)if(n===null)o.componentDidMount();else{var u=t.elementType===t.type?n.memoizedProps:It(t.type,n.memoizedProps);o.componentDidUpdate(u,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&yd(t,f,o);break;case 3:var x=t.updateQueue;if(x!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}yd(t,x,n)}break;case 5:var C=t.stateNode;if(n===null&&t.flags&4){n=C;var E=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&n.focus();break;case"img":E.src&&(n.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var L=t.alternate;if(L!==null){var H=L.memoizedState;if(H!==null){var Q=H.dehydrated;Q!==null&&ta(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}st||t.flags&512&&ml(t)}catch(K){Be(t,t.return,K)}}if(t===e){ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,ee=n;break}ee=t.return}}function vf(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ee=n;break}ee=t.return}}function xf(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vs(4,t)}catch(E){Be(t,n,E)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var u=t.return;try{o.componentDidMount()}catch(E){Be(t,u,E)}}var f=t.return;try{ml(t)}catch(E){Be(t,f,E)}break;case 5:var x=t.return;try{ml(t)}catch(E){Be(t,x,E)}}}catch(E){Be(t,t.return,E)}if(t===e){ee=null;break}var C=t.sibling;if(C!==null){C.return=t.return,ee=C;break}ee=t.return}}var Gp=Math.ceil,Qs=M.ReactCurrentDispatcher,yl=M.ReactCurrentOwner,Tt=M.ReactCurrentBatchConfig,xe=0,Ge=null,Ke=null,Ze=0,St=0,Rn=vr(0),Qe=0,ba=null,Hr=0,Ys=0,vl=0,Ca=null,pt=null,xl=0,Tn=1/0,rr=null,qs=!1,wl=null,br=null,Gs=!1,Cr=null,Xs=0,ja=0,kl=null,Js=-1,Zs=0;function ut(){return(xe&6)!==0?$e():Js!==-1?Js:Js=$e()}function jr(e){return(e.mode&1)===0?1:(xe&2)!==0&&Ze!==0?Ze&-Ze:Mp.transition!==null?(Zs===0&&(Zs=dc()),Zs):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:wc(e.type)),e)}function Ft(e,t,n,o){if(50<ja)throw ja=0,kl=null,Error(a(185));Gn(e,n,o),((xe&2)===0||e!==Ge)&&(e===Ge&&((xe&2)===0&&(Ys|=n),Qe===4&&Er(e,Ze)),gt(e,o),n===1&&xe===0&&(t.mode&1)===0&&(Tn=$e()+500,Es&&wr()))}function gt(e,t){var n=e.callbackNode;Mm(e,t);var o=ls(e,e===Ge?Ze:0);if(o===0)n!==null&&lc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&lc(n),t===1)e.tag===0?Dp(kf.bind(null,e)):sd(kf.bind(null,e)),_p(function(){(xe&6)===0&&wr()}),n=null;else{switch(fc(o)){case 1:n=Zi;break;case 4:n=uc;break;case 16:n=as;break;case 536870912:n=cc;break;default:n=as}n=Rf(n,wf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function wf(e,t){if(Js=-1,Zs=0,(xe&6)!==0)throw Error(a(327));var n=e.callbackNode;if(Pn()&&e.callbackNode!==n)return null;var o=ls(e,e===Ge?Ze:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=ei(e,o);else{t=o;var u=xe;xe|=2;var f=Nf();(Ge!==e||Ze!==t)&&(rr=null,Tn=$e()+500,Qr(e,t));do try{Zp();break}catch(C){Sf(e,C)}while(!0);zo(),Qs.current=f,xe=u,Ke!==null?t=0:(Ge=null,Ze=0,t=Qe)}if(t!==0){if(t===2&&(u=eo(e),u!==0&&(o=u,t=Sl(e,u))),t===1)throw n=ba,Qr(e,0),Er(e,o),gt(e,$e()),n;if(t===6)Er(e,o);else{if(u=e.current.alternate,(o&30)===0&&!Xp(u)&&(t=ei(e,o),t===2&&(f=eo(e),f!==0&&(o=f,t=Sl(e,f))),t===1))throw n=ba,Qr(e,0),Er(e,o),gt(e,$e()),n;switch(e.finishedWork=u,e.finishedLanes=o,t){case 0:case 1:throw Error(a(345));case 2:Yr(e,pt,rr);break;case 3:if(Er(e,o),(o&130023424)===o&&(t=xl+500-$e(),10<t)){if(ls(e,0)!==0)break;if(u=e.suspendedLanes,(u&o)!==o){ut(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=_o(Yr.bind(null,e,pt,rr),t);break}Yr(e,pt,rr);break;case 4:if(Er(e,o),(o&4194240)===o)break;for(t=e.eventTimes,u=-1;0<o;){var x=31-Dt(o);f=1<<x,x=t[x],x>u&&(u=x),o&=~f}if(o=u,o=$e()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Gp(o/1960))-o,10<o){e.timeoutHandle=_o(Yr.bind(null,e,pt,rr),o);break}Yr(e,pt,rr);break;case 5:Yr(e,pt,rr);break;default:throw Error(a(329))}}}return gt(e,$e()),e.callbackNode===n?wf.bind(null,e):null}function Sl(e,t){var n=Ca;return e.current.memoizedState.isDehydrated&&(Qr(e,t).flags|=256),e=ei(e,t),e!==2&&(t=pt,pt=n,t!==null&&Nl(t)),e}function Nl(e){pt===null?pt=e:pt.push.apply(pt,e)}function Xp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var u=n[o],f=u.getSnapshot;u=u.value;try{if(!Mt(f(),u))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Er(e,t){for(t&=~vl,t&=~Ys,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dt(t),o=1<<n;e[n]=-1,t&=~o}}function kf(e){if((xe&6)!==0)throw Error(a(327));Pn();var t=ls(e,0);if((t&1)===0)return gt(e,$e()),null;var n=ei(e,t);if(e.tag!==0&&n===2){var o=eo(e);o!==0&&(t=o,n=Sl(e,o))}if(n===1)throw n=ba,Qr(e,0),Er(e,t),gt(e,$e()),n;if(n===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yr(e,pt,rr),gt(e,$e()),null}function bl(e,t){var n=xe;xe|=1;try{return e(t)}finally{xe=n,xe===0&&(Tn=$e()+500,Es&&wr())}}function Vr(e){Cr!==null&&Cr.tag===0&&(xe&6)===0&&Pn();var t=xe;xe|=1;var n=Tt.transition,o=Ce;try{if(Tt.transition=null,Ce=1,e)return e()}finally{Ce=o,Tt.transition=n,xe=t,(xe&6)===0&&wr()}}function Cl(){St=Rn.current,Me(Rn)}function Qr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ep(n)),Ke!==null)for(n=Ke.return;n!==null;){var o=n;switch(Oo(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Cs();break;case 3:jn(),Me(ft),Me(rt),Qo();break;case 5:Ho(o);break;case 4:jn();break;case 13:Me(Fe);break;case 19:Me(Fe);break;case 10:Uo(o.type._context);break;case 22:case 23:Cl()}n=n.return}if(Ge=e,Ke=e=_r(e.current,null),Ze=St=t,Qe=0,ba=null,vl=Ys=Hr=0,pt=Ca=null,$r!==null){for(t=0;t<$r.length;t++)if(n=$r[t],o=n.interleaved,o!==null){n.interleaved=null;var u=o.next,f=n.pending;if(f!==null){var x=f.next;f.next=u,o.next=x}n.pending=o}$r=null}return e}function Sf(e,t){do{var n=Ke;try{if(zo(),As.current=Bs,Fs){for(var o=ze.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Fs=!1}if(Kr=0,qe=Ve=ze=null,va=!1,xa=0,yl.current=null,n===null||n.return===null){Qe=1,ba=t,Ke=null;break}e:{var f=e,x=n.return,C=n,E=t;if(t=Ze,C.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var L=E,H=C,Q=H.tag;if((H.mode&1)===0&&(Q===0||Q===11||Q===15)){var K=H.alternate;K?(H.updateQueue=K.updateQueue,H.memoizedState=K.memoizedState,H.lanes=K.lanes):(H.updateQueue=null,H.memoizedState=null)}var J=Vd(x);if(J!==null){J.flags&=-257,Qd(J,x,C,f,t),J.mode&1&&Hd(f,L,t),t=J,E=L;var te=t.updateQueue;if(te===null){var re=new Set;re.add(E),t.updateQueue=re}else te.add(E);break e}else{if((t&1)===0){Hd(f,L,t),jl();break e}E=Error(a(426))}}else if(Le&&C.mode&1){var We=Vd(x);if(We!==null){(We.flags&65536)===0&&(We.flags|=256),Qd(We,x,C,f,t),Ao(En(E,C));break e}}f=E=En(E,C),Qe!==4&&(Qe=2),Ca===null?Ca=[f]:Ca.push(f),f=x;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var O=Wd(f,E,t);gd(f,O);break e;case 1:C=E;var R=f.type,I=f.stateNode;if((f.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(br===null||!br.has(I)))){f.flags|=65536,t&=-t,f.lanes|=t;var Y=Kd(f,C,t);gd(f,Y);break e}}f=f.return}while(f!==null)}Cf(n)}catch(ne){t=ne,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function Nf(){var e=Qs.current;return Qs.current=Bs,e===null?Bs:e}function jl(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Ge===null||(Hr&268435455)===0&&(Ys&268435455)===0||Er(Ge,Ze)}function ei(e,t){var n=xe;xe|=2;var o=Nf();(Ge!==e||Ze!==t)&&(rr=null,Qr(e,t));do try{Jp();break}catch(u){Sf(e,u)}while(!0);if(zo(),xe=n,Qs.current=o,Ke!==null)throw Error(a(261));return Ge=null,Ze=0,Qe}function Jp(){for(;Ke!==null;)bf(Ke)}function Zp(){for(;Ke!==null&&!bm();)bf(Ke)}function bf(e){var t=_f(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?Cf(e):Ke=t,yl.current=null}function Cf(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Hp(n,t,St),n!==null){Ke=n;return}}else{if(n=Vp(n,t),n!==null){n.flags&=32767,Ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,Ke=null;return}}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);Qe===0&&(Qe=5)}function Yr(e,t,n){var o=Ce,u=Tt.transition;try{Tt.transition=null,Ce=1,e0(e,t,n,o)}finally{Tt.transition=u,Ce=o}return null}function e0(e,t,n,o){do Pn();while(Cr!==null);if((xe&6)!==0)throw Error(a(327));n=e.finishedWork;var u=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var f=n.lanes|n.childLanes;if(Om(e,f),e===Ge&&(Ke=Ge=null,Ze=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Gs||(Gs=!0,Rf(as,function(){return Pn(),null})),f=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||f){f=Tt.transition,Tt.transition=null;var x=Ce;Ce=1;var C=xe;xe|=4,yl.current=null,Yp(e,n),pf(n,e),wp(jo),ds=!!Co,jo=Co=null,e.current=n,qp(n),Cm(),xe=C,Ce=x,Tt.transition=f}else e.current=n;if(Gs&&(Gs=!1,Cr=e,Xs=u),f=e.pendingLanes,f===0&&(br=null),_m(n.stateNode),gt(e,$e()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)u=t[n],o(u.value,{componentStack:u.stack,digest:u.digest});if(qs)throw qs=!1,e=wl,wl=null,e;return(Xs&1)!==0&&e.tag!==0&&Pn(),f=e.pendingLanes,(f&1)!==0?e===kl?ja++:(ja=0,kl=e):ja=0,wr(),null}function Pn(){if(Cr!==null){var e=fc(Xs),t=Tt.transition,n=Ce;try{if(Tt.transition=null,Ce=16>e?16:e,Cr===null)var o=!1;else{if(e=Cr,Cr=null,Xs=0,(xe&6)!==0)throw Error(a(331));var u=xe;for(xe|=4,ee=e.current;ee!==null;){var f=ee,x=f.child;if((ee.flags&16)!==0){var C=f.deletions;if(C!==null){for(var E=0;E<C.length;E++){var L=C[E];for(ee=L;ee!==null;){var H=ee;switch(H.tag){case 0:case 11:case 15:Na(8,H,f)}var Q=H.child;if(Q!==null)Q.return=H,ee=Q;else for(;ee!==null;){H=ee;var K=H.sibling,J=H.return;if(cf(H),H===L){ee=null;break}if(K!==null){K.return=J,ee=K;break}ee=J}}}var te=f.alternate;if(te!==null){var re=te.child;if(re!==null){te.child=null;do{var We=re.sibling;re.sibling=null,re=We}while(re!==null)}}ee=f}}if((f.subtreeFlags&2064)!==0&&x!==null)x.return=f,ee=x;else e:for(;ee!==null;){if(f=ee,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Na(9,f,f.return)}var O=f.sibling;if(O!==null){O.return=f.return,ee=O;break e}ee=f.return}}var R=e.current;for(ee=R;ee!==null;){x=ee;var I=x.child;if((x.subtreeFlags&2064)!==0&&I!==null)I.return=x,ee=I;else e:for(x=R;ee!==null;){if(C=ee,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Vs(9,C)}}catch(ne){Be(C,C.return,ne)}if(C===x){ee=null;break e}var Y=C.sibling;if(Y!==null){Y.return=C.return,ee=Y;break e}ee=C.return}}if(xe=u,wr(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(ss,e)}catch{}o=!0}return o}finally{Ce=n,Tt.transition=t}}return!1}function jf(e,t,n){t=En(n,t),t=Wd(e,t,1),e=Sr(e,t,1),t=ut(),e!==null&&(Gn(e,1,t),gt(e,t))}function Be(e,t,n){if(e.tag===3)jf(e,e,n);else for(;t!==null;){if(t.tag===3){jf(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(br===null||!br.has(o))){e=En(n,e),e=Kd(t,e,1),t=Sr(t,e,1),e=ut(),t!==null&&(Gn(t,1,e),gt(t,e));break}}t=t.return}}function t0(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=ut(),e.pingedLanes|=e.suspendedLanes&n,Ge===e&&(Ze&n)===n&&(Qe===4||Qe===3&&(Ze&130023424)===Ze&&500>$e()-xl?Qr(e,0):vl|=n),gt(e,t)}function Ef(e,t){t===0&&((e.mode&1)===0?t=1:(t=os,os<<=1,(os&130023424)===0&&(os=4194304)));var n=ut();e=Zt(e,t),e!==null&&(Gn(e,t,n),gt(e,n))}function r0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ef(e,n)}function n0(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(a(314))}o!==null&&o.delete(t),Ef(e,n)}var _f;_f=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)mt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return mt=!1,Kp(e,t,n);mt=(e.flags&131072)!==0}else mt=!1,Le&&(t.flags&1048576)!==0&&id(t,Rs,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Ks(e,t),e=t.pendingProps;var u=xn(t,rt.current);Cn(t,n),u=Go(null,t,o,e,u,n);var f=Xo();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(o)?(f=!0,js(t)):f=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Wo(t),u.updater=$s,t.stateNode=u,u._reactInternals=t,nl(t,o,e,n),t=ol(null,t,o,!0,f,n)):(t.tag=0,Le&&f&&Mo(t),lt(null,t,u,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Ks(e,t),e=t.pendingProps,u=o._init,o=u(o._payload),t.type=o,u=t.tag=s0(o),e=It(o,e),u){case 0:t=il(null,t,o,e,n);break e;case 1:t=Zd(null,t,o,e,n);break e;case 11:t=Yd(null,t,o,e,n);break e;case 14:t=qd(null,t,o,It(o.type,e),n);break e}throw Error(a(306,o,""))}return t;case 0:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:It(o,u),il(e,t,o,u,n);case 1:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:It(o,u),Zd(e,t,o,u,n);case 3:e:{if(ef(t),e===null)throw Error(a(387));o=t.pendingProps,f=t.memoizedState,u=f.element,pd(e,t),Is(t,o,null,n);var x=t.memoizedState;if(o=x.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){u=En(Error(a(423)),t),t=tf(e,t,o,n,u);break e}else if(o!==u){u=En(Error(a(424)),t),t=tf(e,t,o,n,u);break e}else for(kt=yr(t.stateNode.containerInfo.firstChild),wt=t,Le=!0,Ot=null,n=hd(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sn(),o===u){t=tr(e,t,n);break e}lt(e,t,o,n)}t=t.child}return t;case 5:return vd(t),e===null&&Lo(t),o=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,x=u.children,Eo(o,u)?x=null:f!==null&&Eo(o,f)&&(t.flags|=32),Jd(e,t),lt(e,t,x,n),t.child;case 6:return e===null&&Lo(t),null;case 13:return rf(e,t,n);case 4:return Ko(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Nn(t,null,o,n):lt(e,t,o,n),t.child;case 11:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:It(o,u),Yd(e,t,o,u,n);case 7:return lt(e,t,t.pendingProps,n),t.child;case 8:return lt(e,t,t.pendingProps.children,n),t.child;case 12:return lt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,u=t.pendingProps,f=t.memoizedProps,x=u.value,Te(Ds,o._currentValue),o._currentValue=x,f!==null)if(Mt(f.value,x)){if(f.children===u.children&&!ft.current){t=tr(e,t,n);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var C=f.dependencies;if(C!==null){x=f.child;for(var E=C.firstContext;E!==null;){if(E.context===o){if(f.tag===1){E=er(-1,n&-n),E.tag=2;var L=f.updateQueue;if(L!==null){L=L.shared;var H=L.pending;H===null?E.next=E:(E.next=H.next,H.next=E),L.pending=E}}f.lanes|=n,E=f.alternate,E!==null&&(E.lanes|=n),Bo(f.return,n,t),C.lanes|=n;break}E=E.next}}else if(f.tag===10)x=f.type===t.type?null:f.child;else if(f.tag===18){if(x=f.return,x===null)throw Error(a(341));x.lanes|=n,C=x.alternate,C!==null&&(C.lanes|=n),Bo(x,n,t),x=f.sibling}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===t){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}lt(e,t,u.children,n),t=t.child}return t;case 9:return u=t.type,o=t.pendingProps.children,Cn(t,n),u=_t(u),o=o(u),t.flags|=1,lt(e,t,o,n),t.child;case 14:return o=t.type,u=It(o,t.pendingProps),u=It(o.type,u),qd(e,t,o,u,n);case 15:return Gd(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:It(o,u),Ks(e,t),t.tag=1,ht(o)?(e=!0,js(t)):e=!1,Cn(t,n),Bd(t,o,u),nl(t,o,u,n),ol(null,t,o,!0,e,n);case 19:return af(e,t,n);case 22:return Xd(e,t,n)}throw Error(a(156,t.tag))};function Rf(e,t){return oc(e,t)}function a0(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,t,n,o){return new a0(e,t,n,o)}function El(e){return e=e.prototype,!(!e||!e.isReactComponent)}function s0(e){if(typeof e=="function")return El(e)?1:0;if(e!=null){if(e=e.$$typeof,e===de)return 11;if(e===Pe)return 14}return 2}function _r(e,t){var n=e.alternate;return n===null?(n=Pt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ti(e,t,n,o,u,f){var x=2;if(o=e,typeof e=="function")El(e)&&(x=1);else if(typeof e=="string")x=5;else e:switch(e){case D:return qr(n.children,u,f,t);case V:x=8,u|=8;break;case W:return e=Pt(12,n,t,u|2),e.elementType=W,e.lanes=f,e;case me:return e=Pt(13,n,t,u),e.elementType=me,e.lanes=f,e;case ye:return e=Pt(19,n,t,u),e.elementType=ye,e.lanes=f,e;case U:return ri(n,u,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:x=10;break e;case X:x=9;break e;case de:x=11;break e;case Pe:x=14;break e;case G:x=16,o=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=Pt(x,n,t,u),t.elementType=e,t.type=o,t.lanes=f,t}function qr(e,t,n,o){return e=Pt(7,e,o,t),e.lanes=n,e}function ri(e,t,n,o){return e=Pt(22,e,o,t),e.elementType=U,e.lanes=n,e.stateNode={isHidden:!1},e}function _l(e,t,n){return e=Pt(6,e,null,t),e.lanes=n,e}function Rl(e,t,n){return t=Pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function i0(e,t,n,o,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=to(0),this.expirationTimes=to(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=to(0),this.identifierPrefix=o,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Tl(e,t,n,o,u,f,x,C,E){return e=new i0(e,t,n,C,E),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Pt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wo(f),e}function o0(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function Tf(e){if(!e)return xr;e=e._reactInternals;e:{if(Ar(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var n=e.type;if(ht(n))return nd(e,n,t)}return t}function Pf(e,t,n,o,u,f,x,C,E){return e=Tl(n,o,!0,e,u,f,x,C,E),e.context=Tf(null),n=e.current,o=ut(),u=jr(n),f=er(o,u),f.callback=t??null,Sr(n,f,u),e.current.lanes=u,Gn(e,u,o),gt(e,o),e}function ni(e,t,n,o){var u=t.current,f=ut(),x=jr(u);return n=Tf(n),t.context===null?t.context=n:t.pendingContext=n,t=er(f,x),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Sr(u,t,x),e!==null&&(Ft(e,u,x,f),Os(e,u,x)),x}function ai(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Df(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pl(e,t){Df(e,t),(e=e.alternate)&&Df(e,t)}function l0(){return null}var Mf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dl(e){this._internalRoot=e}si.prototype.render=Dl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));ni(e,t,null,null)},si.prototype.unmount=Dl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vr(function(){ni(null,e,null,null)}),t[qt]=null}};function si(e){this._internalRoot=e}si.prototype.unstable_scheduleHydration=function(e){if(e){var t=pc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mr.length&&t!==0&&t<mr[n].priority;n++);mr.splice(n,0,e),n===0&&vc(e)}};function Ml(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ii(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Of(){}function u0(e,t,n,o,u){if(u){if(typeof o=="function"){var f=o;o=function(){var L=ai(x);f.call(L)}}var x=Pf(t,o,e,0,null,!1,!1,"",Of);return e._reactRootContainer=x,e[qt]=x.current,ca(e.nodeType===8?e.parentNode:e),Vr(),x}for(;u=e.lastChild;)e.removeChild(u);if(typeof o=="function"){var C=o;o=function(){var L=ai(E);C.call(L)}}var E=Tl(e,0,!1,null,null,!1,!1,"",Of);return e._reactRootContainer=E,e[qt]=E.current,ca(e.nodeType===8?e.parentNode:e),Vr(function(){ni(t,E,n,o)}),E}function oi(e,t,n,o,u){var f=n._reactRootContainer;if(f){var x=f;if(typeof u=="function"){var C=u;u=function(){var E=ai(x);C.call(E)}}ni(t,x,e,u)}else x=u0(n,t,e,u,o);return ai(x)}hc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qn(t.pendingLanes);n!==0&&(ro(t,n|1),gt(t,$e()),(xe&6)===0&&(Tn=$e()+500,wr()))}break;case 13:Vr(function(){var o=Zt(e,1);if(o!==null){var u=ut();Ft(o,e,1,u)}}),Pl(e,1)}},no=function(e){if(e.tag===13){var t=Zt(e,134217728);if(t!==null){var n=ut();Ft(t,e,134217728,n)}Pl(e,134217728)}},mc=function(e){if(e.tag===13){var t=jr(e),n=Zt(e,t);if(n!==null){var o=ut();Ft(n,e,t,o)}Pl(e,t)}},pc=function(){return Ce},gc=function(e,t){var n=Ce;try{return Ce=e,t()}finally{Ce=n}},qi=function(e,t,n){switch(t){case"input":if(Bi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var u=bs(o);if(!u)throw Error(a(90));Uu(o),Bi(o,u)}}}break;case"textarea":Hu(e,n);break;case"select":t=n.value,t!=null&&on(e,!!n.multiple,t,!1)}},ec=bl,tc=Vr;var c0={usingClientEntryPoint:!1,Events:[ha,yn,bs,Ju,Zu,bl]},Ea={findFiberByHostInstance:Fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d0={bundleType:Ea.bundleType,version:Ea.version,rendererPackageName:Ea.rendererPackageName,rendererConfig:Ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sc(e),e===null?null:e.stateNode},findFiberByHostInstance:Ea.findFiberByHostInstance||l0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var li=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!li.isDisabled&&li.supportsFiber)try{ss=li.inject(d0),Ut=li}catch{}}return yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c0,yt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ml(t))throw Error(a(200));return o0(e,t,null,n)},yt.createRoot=function(e,t){if(!Ml(e))throw Error(a(299));var n=!1,o="",u=Mf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Tl(e,1,!1,null,null,n,!1,o,u),e[qt]=t.current,ca(e.nodeType===8?e.parentNode:e),new Dl(t)},yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=sc(t),e=e===null?null:e.stateNode,e},yt.flushSync=function(e){return Vr(e)},yt.hydrate=function(e,t,n){if(!ii(t))throw Error(a(200));return oi(null,e,t,!0,n)},yt.hydrateRoot=function(e,t,n){if(!Ml(e))throw Error(a(405));var o=n!=null&&n.hydratedSources||null,u=!1,f="",x=Mf;if(n!=null&&(n.unstable_strictMode===!0&&(u=!0),n.identifierPrefix!==void 0&&(f=n.identifierPrefix),n.onRecoverableError!==void 0&&(x=n.onRecoverableError)),t=Pf(t,null,e,1,n??null,u,!1,f,x),e[qt]=t.current,ca(e),o)for(e=0;e<o.length;e++)n=o[e],u=n._getVersion,u=u(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,u]:t.mutableSourceEagerHydrationData.push(n,u);return new si(t)},yt.render=function(e,t,n){if(!ii(t))throw Error(a(200));return oi(null,e,t,!1,n)},yt.unmountComponentAtNode=function(e){if(!ii(e))throw Error(a(40));return e._reactRootContainer?(Vr(function(){oi(null,null,e,!1,function(){e._reactRootContainer=null,e[qt]=null})}),!0):!1},yt.unstable_batchedUpdates=bl,yt.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!ii(n))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return oi(e,t,n,!1,o)},yt.version="18.3.1-next-f1338f8080-20240426",yt}var $f;function x0(){if($f)return Ll.exports;$f=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Ll.exports=v0(),Ll.exports}var Wf;function w0(){if(Wf)return ui;Wf=1;var s=x0();return ui.createRoot=s.createRoot,ui.hydrateRoot=s.hydrateRoot,ui}var k0=w0();const S0=Cu(k0),N0={},Kf=s=>{let r;const a=new Set,i=(g,v)=>{const w=typeof g=="function"?g(r):g;if(!Object.is(w,r)){const S=r;r=v??(typeof w!="object"||w===null)?w:Object.assign({},r,w),a.forEach(N=>N(r,S))}},l=()=>r,m={setState:i,getState:l,getInitialState:()=>p,subscribe:g=>(a.add(g),()=>a.delete(g)),destroy:()=>{(N0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},p=r=s(i,l,m);return m},b0=s=>s?Kf(s):Kf;var zl={exports:{}},Ul={},Bl={exports:{}},$l={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf;function C0(){if(Hf)return $l;Hf=1;var s=qa();function r(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var a=typeof Object.is=="function"?Object.is:r,i=s.useState,l=s.useEffect,c=s.useLayoutEffect,h=s.useDebugValue;function y(v,w){var S=w(),N=i({inst:{value:S,getSnapshot:w}}),k=N[0].inst,b=N[1];return c(function(){k.value=S,k.getSnapshot=w,m(k)&&b({inst:k})},[v,S,w]),l(function(){return m(k)&&b({inst:k}),v(function(){m(k)&&b({inst:k})})},[v]),h(S),S}function m(v){var w=v.getSnapshot;v=v.value;try{var S=w();return!a(v,S)}catch{return!0}}function p(v,w){return w()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:y;return $l.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:g,$l}var Vf;function j0(){return Vf||(Vf=1,Bl.exports=C0()),Bl.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf;function E0(){if(Qf)return Ul;Qf=1;var s=qa(),r=j0();function a(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var i=typeof Object.is=="function"?Object.is:a,l=r.useSyncExternalStore,c=s.useRef,h=s.useEffect,y=s.useMemo,m=s.useDebugValue;return Ul.useSyncExternalStoreWithSelector=function(p,g,v,w,S){var N=c(null);if(N.current===null){var k={hasValue:!1,value:null};N.current=k}else k=N.current;N=y(function(){function _(F){if(!j){if(j=!0,P=F,F=w(F),S!==void 0&&k.hasValue){var D=k.value;if(S(D,F))return M=D}return M=F}if(D=M,i(P,F))return D;var V=w(F);return S!==void 0&&S(D,V)?(P=F,D):(P=F,M=V)}var j=!1,P,M,A=v===void 0?null:v;return[function(){return _(g())},A===null?void 0:function(){return _(A())}]},[g,v,w,S]);var b=l(p,N[0],N[1]);return h(function(){k.hasValue=!0,k.value=b},[b]),m(b),b},Ul}var Yf;function _0(){return Yf||(Yf=1,zl.exports=E0()),zl.exports}var R0=_0();const T0=Cu(R0),xh={},{useDebugValue:P0}=et,{useSyncExternalStoreWithSelector:D0}=T0;let qf=!1;const M0=s=>s;function O0(s,r=M0,a){(xh?"production":void 0)!=="production"&&a&&!qf&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),qf=!0);const i=D0(s.subscribe,s.getState,s.getServerState||s.getInitialState,r,a);return P0(i),i}const Gf=s=>{(xh?"production":void 0)!=="production"&&typeof s!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof s=="function"?b0(s):s,a=(i,l)=>O0(r,i,l);return Object.assign(a,r),a},I0=s=>s?Gf(s):Gf,L0={};function A0(s,r){let a;try{a=s()}catch{return}return{getItem:l=>{var c;const h=m=>m===null?null:JSON.parse(m,void 0),y=(c=a.getItem(l))!=null?c:null;return y instanceof Promise?y.then(h):h(y)},setItem:(l,c)=>a.setItem(l,JSON.stringify(c,void 0)),removeItem:l=>a.removeItem(l)}}const Ua=s=>r=>{try{const a=s(r);return a instanceof Promise?a:{then(i){return Ua(i)(a)},catch(i){return this}}}catch(a){return{then(i){return this},catch(i){return Ua(i)(a)}}}},F0=(s,r)=>(a,i,l)=>{let c={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,_)=>({..._,...b}),...r},h=!1;const y=new Set,m=new Set;let p;try{p=c.getStorage()}catch{}if(!p)return s((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),a(...b)},i,l);const g=Ua(c.serialize),v=()=>{const b=c.partialize({...i()});let _;const j=g({state:b,version:c.version}).then(P=>p.setItem(c.name,P)).catch(P=>{_=P});if(_)throw _;return j},w=l.setState;l.setState=(b,_)=>{w(b,_),v()};const S=s((...b)=>{a(...b),v()},i,l);let N;const k=()=>{var b;if(!p)return;h=!1,y.forEach(j=>j(i()));const _=((b=c.onRehydrateStorage)==null?void 0:b.call(c,i()))||void 0;return Ua(p.getItem.bind(p))(c.name).then(j=>{if(j)return c.deserialize(j)}).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==c.version){if(c.migrate)return c.migrate(j.state,j.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return j.state}).then(j=>{var P;return N=c.merge(j,(P=i())!=null?P:S),a(N,!0),v()}).then(()=>{_?.(N,void 0),h=!0,m.forEach(j=>j(N))}).catch(j=>{_?.(void 0,j)})};return l.persist={setOptions:b=>{c={...c,...b},b.getStorage&&(p=b.getStorage())},clearStorage:()=>{p?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>k(),hasHydrated:()=>h,onHydrate:b=>(y.add(b),()=>{y.delete(b)}),onFinishHydration:b=>(m.add(b),()=>{m.delete(b)})},k(),N||S},z0=(s,r)=>(a,i,l)=>{let c={storage:A0(()=>localStorage),partialize:k=>k,version:0,merge:(k,b)=>({...b,...k}),...r},h=!1;const y=new Set,m=new Set;let p=c.storage;if(!p)return s((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),a(...k)},i,l);const g=()=>{const k=c.partialize({...i()});return p.setItem(c.name,{state:k,version:c.version})},v=l.setState;l.setState=(k,b)=>{v(k,b),g()};const w=s((...k)=>{a(...k),g()},i,l);l.getInitialState=()=>w;let S;const N=()=>{var k,b;if(!p)return;h=!1,y.forEach(j=>{var P;return j((P=i())!=null?P:w)});const _=((b=c.onRehydrateStorage)==null?void 0:b.call(c,(k=i())!=null?k:w))||void 0;return Ua(p.getItem.bind(p))(c.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==c.version){if(c.migrate)return[!0,c.migrate(j.state,j.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var P;const[M,A]=j;if(S=c.merge(A,(P=i())!=null?P:w),a(S,!0),M)return g()}).then(()=>{_?.(S,void 0),S=i(),h=!0,m.forEach(j=>j(S))}).catch(j=>{_?.(void 0,j)})};return l.persist={setOptions:k=>{c={...c,...k},k.storage&&(p=k.storage)},clearStorage:()=>{p?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>N(),hasHydrated:()=>h,onHydrate:k=>(y.add(k),()=>{y.delete(k)}),onFinishHydration:k=>(m.add(k),()=>{m.delete(k)})},c.skipHydration||N(),S||w},U0=(s,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?((L0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),F0(s,r)):z0(s,r),B0=U0,Oe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,He=Object.keys,ot=Array.isArray;function dt(s,r){return typeof r!="object"||He(r).forEach(function(a){s[a]=r[a]}),s}typeof Promise>"u"||Oe.Promise||(Oe.Promise=Promise);const Ba=Object.getPrototypeOf,$0={}.hasOwnProperty;function Ct(s,r){return $0.call(s,r)}function Un(s,r){typeof r=="function"&&(r=r(Ba(s))),(typeof Reflect>"u"?He:Reflect.ownKeys)(r).forEach(a=>{or(s,a,r[a])})}const wh=Object.defineProperty;function or(s,r,a,i){wh(s,r,dt(a&&Ct(a,"get")&&typeof a.get=="function"?{get:a.get,set:a.set,configurable:!0}:{value:a,configurable:!0,writable:!0},i))}function An(s){return{from:function(r){return s.prototype=Object.create(r.prototype),or(s.prototype,"constructor",s),{extend:Un.bind(null,s.prototype)}}}}const W0=Object.getOwnPropertyDescriptor;function ju(s,r){let a;return W0(s,r)||(a=Ba(s))&&ju(a,r)}const K0=[].slice;function Ci(s,r,a){return K0.call(s,r,a)}function kh(s,r){return r(s)}function Ma(s){if(!s)throw new Error("Assertion Failed")}function Sh(s){Oe.setImmediate?setImmediate(s):setTimeout(s,0)}function Nh(s,r){return s.reduce((a,i,l)=>{var c=r(i,l);return c&&(a[c[0]]=c[1]),a},{})}function lr(s,r){if(typeof r=="string"&&Ct(s,r))return s[r];if(!r)return s;if(typeof r!="string"){for(var a=[],i=0,l=r.length;i<l;++i){var c=lr(s,r[i]);a.push(c)}return a}var h=r.indexOf(".");if(h!==-1){var y=s[r.substr(0,h)];return y==null?void 0:lr(y,r.substr(h+1))}}function zt(s,r,a){if(s&&r!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(s)))if(typeof r!="string"&&"length"in r){Ma(typeof a!="string"&&"length"in a);for(var i=0,l=r.length;i<l;++i)zt(s,r[i],a[i])}else{var c=r.indexOf(".");if(c!==-1){var h=r.substr(0,c),y=r.substr(c+1);if(y==="")a===void 0?ot(s)&&!isNaN(parseInt(h))?s.splice(h,1):delete s[h]:s[h]=a;else{var m=s[h];m&&Ct(s,h)||(m=s[h]={}),zt(m,y,a)}}else a===void 0?ot(s)&&!isNaN(parseInt(r))?s.splice(r,1):delete s[r]:s[r]=a}}function bh(s){var r={};for(var a in s)Ct(s,a)&&(r[a]=s[a]);return r}const H0=[].concat;function Ch(s){return H0.apply([],s)}const jh="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ch([8,16,32,64].map(s=>["Int","Uint","Float"].map(r=>r+s+"Array")))).filter(s=>Oe[s]),V0=jh.map(s=>Oe[s]);Nh(jh,s=>[s,!0]);let Dr=null;function Ga(s){Dr=typeof WeakMap<"u"&&new WeakMap;const r=Zl(s);return Dr=null,r}function Zl(s){if(!s||typeof s!="object")return s;let r=Dr&&Dr.get(s);if(r)return r;if(ot(s)){r=[],Dr&&Dr.set(s,r);for(var a=0,i=s.length;a<i;++a)r.push(Zl(s[a]))}else if(V0.indexOf(s.constructor)>=0)r=s;else{const c=Ba(s);for(var l in r=c===Object.prototype?{}:Object.create(c),Dr&&Dr.set(s,r),s)Ct(s,l)&&(r[l]=Zl(s[l]))}return r}const{toString:Q0}={};function eu(s){return Q0.call(s).slice(8,-1)}const tu=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Y0=typeof tu=="symbol"?function(s){var r;return s!=null&&(r=s[tu])&&r.apply(s)}:function(){return null},In={};function sr(s){var r,a,i,l;if(arguments.length===1){if(ot(s))return s.slice();if(this===In&&typeof s=="string")return[s];if(l=Y0(s)){for(a=[];!(i=l.next()).done;)a.push(i.value);return a}if(s==null)return[s];if(typeof(r=s.length)=="number"){for(a=new Array(r);r--;)a[r]=s[r];return a}return[s]}for(r=arguments.length,a=new Array(r);r--;)a[r]=arguments[r];return a}const Eu=typeof Symbol<"u"?s=>s[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Vt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Eh(s,r){Vt=s,_h=r}var _h=()=>!0;const q0=!new Error("").stack;function sn(){if(q0)try{throw sn.arguments,new Error}catch(s){return s}return new Error}function ru(s,r){var a=s.stack;return a?(r=r||0,a.indexOf(s.name)===0&&(r+=(s.name+s.message).split(`
`).length),a.split(`
`).slice(r).filter(_h).map(i=>`
`+i).join("")):""}var Rh=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],_u=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Rh),G0={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Fn(s,r){this._e=sn(),this.name=s,this.message=r}function Th(s,r){return s+". Errors: "+Object.keys(r).map(a=>r[a].toString()).filter((a,i,l)=>l.indexOf(a)===i).join(`
`)}function ji(s,r,a,i){this._e=sn(),this.failures=r,this.failedKeys=i,this.successCount=a,this.message=Th(s,r)}function Ia(s,r){this._e=sn(),this.name="BulkError",this.failures=Object.keys(r).map(a=>r[a]),this.failuresByPos=r,this.message=Th(s,r)}An(Fn).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+ru(this._e,2))}},toString:function(){return this.name+": "+this.message}}),An(ji).from(Fn),An(Ia).from(Fn);var Ru=_u.reduce((s,r)=>(s[r]=r+"Error",s),{});const X0=Fn;var fe=_u.reduce((s,r)=>{var a=r+"Error";function i(l,c){this._e=sn(),this.name=a,l?typeof l=="string"?(this.message=`${l}${c?`
 `+c:""}`,this.inner=c||null):typeof l=="object"&&(this.message=`${l.name} ${l.message}`,this.inner=l):(this.message=G0[r]||a,this.inner=null)}return An(i).from(X0),s[r]=i,s},{});fe.Syntax=SyntaxError,fe.Type=TypeError,fe.Range=RangeError;var Xf=Rh.reduce((s,r)=>(s[r+"Error"]=fe[r],s),{}),vi=_u.reduce((s,r)=>(["Syntax","Type","Range"].indexOf(r)===-1&&(s[r+"Error"]=fe[r]),s),{});function _e(){}function $a(s){return s}function J0(s,r){return s==null||s===$a?r:function(a){return r(s(a))}}function rn(s,r){return function(){s.apply(this,arguments),r.apply(this,arguments)}}function Z0(s,r){return s===_e?r:function(){var a=s.apply(this,arguments);a!==void 0&&(arguments[0]=a);var i=this.onsuccess,l=this.onerror;this.onsuccess=null,this.onerror=null;var c=r.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?rn(i,this.onsuccess):i),l&&(this.onerror=this.onerror?rn(l,this.onerror):l),c!==void 0?c:a}}function eg(s,r){return s===_e?r:function(){s.apply(this,arguments);var a=this.onsuccess,i=this.onerror;this.onsuccess=this.onerror=null,r.apply(this,arguments),a&&(this.onsuccess=this.onsuccess?rn(a,this.onsuccess):a),i&&(this.onerror=this.onerror?rn(i,this.onerror):i)}}function tg(s,r){return s===_e?r:function(a){var i=s.apply(this,arguments);dt(a,i);var l=this.onsuccess,c=this.onerror;this.onsuccess=null,this.onerror=null;var h=r.apply(this,arguments);return l&&(this.onsuccess=this.onsuccess?rn(l,this.onsuccess):l),c&&(this.onerror=this.onerror?rn(c,this.onerror):c),i===void 0?h===void 0?void 0:h:dt(i,h)}}function rg(s,r){return s===_e?r:function(){return r.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function Tu(s,r){return s===_e?r:function(){var a=s.apply(this,arguments);if(a&&typeof a.then=="function"){for(var i=this,l=arguments.length,c=new Array(l);l--;)c[l]=arguments[l];return a.then(function(){return r.apply(i,c)})}return r.apply(this,arguments)}}vi.ModifyError=ji,vi.DexieError=Fn,vi.BulkError=Ia;var Wa={};const Ph=100,[nu,Ei,au]=typeof Promise>"u"?[]:(()=>{let s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,Ba(s),s];const r=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[r,Ba(r),s]})(),Dh=Ei&&Ei.then,xi=nu&&nu.constructor,Pu=!!au;var su=!1,ng=au?()=>{au.then(ci)}:Oe.setImmediate?setImmediate.bind(null,ci):Oe.MutationObserver?()=>{var s=document.createElement("div");new MutationObserver(()=>{ci(),s=null}).observe(s,{attributes:!0}),s.setAttribute("i","1")}:()=>{setTimeout(ci,0)},La=function(s,r){Oa.push([s,r]),_i&&(ng(),_i=!1)},iu=!0,_i=!0,Zr=[],wi=[],ou=null,lu=$a,zn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:eh,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(s=>{try{eh(s[0],s[1])}catch{}})}},le=zn,Oa=[],en=0,ki=[];function Z(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=_e,this._lib=!1;var r=this._PSD=le;if(Vt&&(this._stackHolder=sn(),this._prev=null,this._numPrev=0),typeof s!="function"){if(s!==Wa)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&cu(this,this._value))}this._state=null,this._value=null,++r.ref,Oh(this,s)}const uu={get:function(){var s=le,r=Ri;function a(i,l){var c=!s.global&&(s!==le||r!==Ri);const h=c&&!ur();var y=new Z((m,p)=>{Du(this,new Mh(Ti(i,s,c,h),Ti(l,s,c,h),m,p,s))});return Vt&&Ah(y,this),y}return a.prototype=Wa,a},set:function(s){or(this,"then",s&&s.prototype===Wa?uu:{get:function(){return s},set:uu.set})}};function Mh(s,r,a,i,l){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof r=="function"?r:null,this.resolve=a,this.reject=i,this.psd=l}function Oh(s,r){try{r(a=>{if(s._state===null){if(a===s)throw new TypeError("A promise cannot be resolved with itself.");var i=s._lib&&Xa();a&&typeof a.then=="function"?Oh(s,(l,c)=>{a instanceof Z?a._then(l,c):a.then(l,c)}):(s._state=!0,s._value=a,Ih(s)),i&&Ja()}},cu.bind(null,s))}catch(a){cu(s,a)}}function cu(s,r){if(wi.push(r),s._state===null){var a=s._lib&&Xa();r=lu(r),s._state=!1,s._value=r,Vt&&r!==null&&typeof r=="object"&&!r._promise&&function(i,l,c){try{i.apply(null,c)}catch{}}(()=>{var i=ju(r,"stack");r._promise=s,or(r,"stack",{get:()=>su?i&&(i.get?i.get.apply(r):i.value):s.stack})}),function(i){Zr.some(l=>l._value===i._value)||Zr.push(i)}(s),Ih(s),a&&Ja()}}function Ih(s){var r=s._listeners;s._listeners=[];for(var a=0,i=r.length;a<i;++a)Du(s,r[a]);var l=s._PSD;--l.ref||l.finalize(),en===0&&(++en,La(()=>{--en==0&&Mu()},[]))}function Du(s,r){if(s._state!==null){var a=s._state?r.onFulfilled:r.onRejected;if(a===null)return(s._state?r.resolve:r.reject)(s._value);++r.psd.ref,++en,La(ag,[a,s,r])}else s._listeners.push(r)}function ag(s,r,a){try{ou=r;var i,l=r._value;r._state?i=s(l):(wi.length&&(wi=[]),i=s(l),wi.indexOf(l)===-1&&function(c){for(var h=Zr.length;h;)if(Zr[--h]._value===c._value)return void Zr.splice(h,1)}(r)),a.resolve(i)}catch(c){a.reject(c)}finally{ou=null,--en==0&&Mu(),--a.psd.ref||a.psd.finalize()}}function Lh(s,r,a){if(r.length===a)return r;var i="";if(s._state===!1){var l,c,h=s._value;h!=null?(l=h.name||"Error",c=h.message||h,i=ru(h,0)):(l=h,c=""),r.push(l+(c?": "+c:"")+i)}return Vt&&((i=ru(s._stackHolder,2))&&r.indexOf(i)===-1&&r.push(i),s._prev&&Lh(s._prev,r,a)),r}function Ah(s,r){var a=r?r._numPrev+1:0;a<100&&(s._prev=r,s._numPrev=a)}function ci(){Xa()&&Ja()}function Xa(){var s=iu;return iu=!1,_i=!1,s}function Ja(){var s,r,a;do for(;Oa.length>0;)for(s=Oa,Oa=[],a=s.length,r=0;r<a;++r){var i=s[r];i[0].apply(null,i[1])}while(Oa.length>0);iu=!0,_i=!0}function Mu(){var s=Zr;Zr=[],s.forEach(i=>{i._PSD.onunhandled.call(null,i._value,i)});for(var r=ki.slice(0),a=r.length;a;)r[--a]()}function di(s){return new Z(Wa,!1,s)}function Ae(s,r){var a=le;return function(){var i=Xa(),l=le;try{return Ir(a,!0),s.apply(this,arguments)}catch(c){r&&r(c)}finally{Ir(l,!1),i&&Ja()}}}Un(Z.prototype,{then:uu,_then:function(s,r){Du(this,new Mh(null,null,s,r,le))},catch:function(s){if(arguments.length===1)return this.then(null,s);var r=arguments[0],a=arguments[1];return typeof r=="function"?this.then(null,i=>i instanceof r?a(i):di(i)):this.then(null,i=>i&&i.name===r?a(i):di(i))},finally:function(s){return this.then(r=>(s(),r),r=>(s(),di(r)))},stack:{get:function(){if(this._stack)return this._stack;try{su=!0;var s=Lh(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=s),s}finally{su=!1}}},timeout:function(s,r){return s<1/0?new Z((a,i)=>{var l=setTimeout(()=>i(new fe.Timeout(r)),s);this.then(a,i).finally(clearTimeout.bind(null,l))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&or(Z.prototype,Symbol.toStringTag,"Dexie.Promise"),zn.env=Fh(),Un(Z,{all:function(){var s=sr.apply(null,arguments).map(fi);return new Z(function(r,a){s.length===0&&r([]);var i=s.length;s.forEach((l,c)=>Z.resolve(l).then(h=>{s[c]=h,--i||r(s)},a))})},resolve:s=>{if(s instanceof Z)return s;if(s&&typeof s.then=="function")return new Z((a,i)=>{s.then(a,i)});var r=new Z(Wa,!0,s);return Ah(r,ou),r},reject:di,race:function(){var s=sr.apply(null,arguments).map(fi);return new Z((r,a)=>{s.map(i=>Z.resolve(i).then(r,a))})},PSD:{get:()=>le,set:s=>le=s},totalEchoes:{get:()=>Ri},newPSD:Or,usePSD:$n,scheduler:{get:()=>La,set:s=>{La=s}},rejectionMapper:{get:()=>lu,set:s=>{lu=s}},follow:(s,r)=>new Z((a,i)=>Or((l,c)=>{var h=le;h.unhandleds=[],h.onunhandled=c,h.finalize=rn(function(){(function(y){function m(){y(),ki.splice(ki.indexOf(m),1)}ki.push(m),++en,La(()=>{--en==0&&Mu()},[])})(()=>{this.unhandleds.length===0?l():c(this.unhandleds[0])})},h.finalize),s()},r,a,i))}),xi&&(xi.allSettled&&or(Z,"allSettled",function(){const s=sr.apply(null,arguments).map(fi);return new Z(r=>{s.length===0&&r([]);let a=s.length;const i=new Array(a);s.forEach((l,c)=>Z.resolve(l).then(h=>i[c]={status:"fulfilled",value:h},h=>i[c]={status:"rejected",reason:h}).then(()=>--a||r(i)))})}),xi.any&&typeof AggregateError<"u"&&or(Z,"any",function(){const s=sr.apply(null,arguments).map(fi);return new Z((r,a)=>{s.length===0&&a(new AggregateError([]));let i=s.length;const l=new Array(i);s.forEach((c,h)=>Z.resolve(c).then(y=>r(y),y=>{l[h]=y,--i||a(new AggregateError(l))}))})}));const it={awaits:0,echoes:0,id:0};var sg=0,Si=[],Wl=0,Ri=0,ig=0;function Or(s,r,a,i){var l=le,c=Object.create(l);c.parent=l,c.ref=0,c.global=!1,c.id=++ig;var h=zn.env;c.env=Pu?{Promise:Z,PromiseProp:{value:Z,configurable:!0,writable:!0},all:Z.all,race:Z.race,allSettled:Z.allSettled,any:Z.any,resolve:Z.resolve,reject:Z.reject,nthen:Jf(h.nthen,c),gthen:Jf(h.gthen,c)}:{},r&&dt(c,r),++l.ref,c.finalize=function(){--this.parent.ref||this.parent.finalize()};var y=$n(c,s,a,i);return c.ref===0&&c.finalize(),y}function Bn(){return it.id||(it.id=++sg),++it.awaits,it.echoes+=Ph,it.id}function ur(){return!!it.awaits&&(--it.awaits==0&&(it.id=0),it.echoes=it.awaits*Ph,!0)}function fi(s){return it.echoes&&s&&s.constructor===xi?(Bn(),s.then(r=>(ur(),r),r=>(ur(),Ye(r)))):s}function og(s){++Ri,it.echoes&&--it.echoes!=0||(it.echoes=it.id=0),Si.push(le),Ir(s,!0)}function lg(){var s=Si[Si.length-1];Si.pop(),Ir(s,!1)}function Ir(s,r){var a=le;if((r?!it.echoes||Wl++&&s===le:!Wl||--Wl&&s===le)||zh(r?og.bind(null,s):lg),s!==le&&(le=s,a===zn&&(zn.env=Fh()),Pu)){var i=zn.env.Promise,l=s.env;Ei.then=l.nthen,i.prototype.then=l.gthen,(a.global||s.global)&&(Object.defineProperty(Oe,"Promise",l.PromiseProp),i.all=l.all,i.race=l.race,i.resolve=l.resolve,i.reject=l.reject,l.allSettled&&(i.allSettled=l.allSettled),l.any&&(i.any=l.any))}}function Fh(){var s=Oe.Promise;return Pu?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(Oe,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject,nthen:Ei.then,gthen:s.prototype.then}:{}}function $n(s,r,a,i,l){var c=le;try{return Ir(s,!0),r(a,i,l)}finally{Ir(c,!1)}}function zh(s){Dh.call(nu,s)}function Ti(s,r,a,i){return typeof s!="function"?s:function(){var l=le;a&&Bn(),Ir(r,!0);try{return s.apply(this,arguments)}finally{Ir(l,!1),i&&zh(ur)}}}function Jf(s,r){return function(a,i){return s.call(this,Ti(a,r),Ti(i,r))}}(""+Dh).indexOf("[native code]")===-1&&(Bn=ur=_e);const Zf="unhandledrejection";function eh(s,r){var a;try{a=r.onuncatched(s)}catch{}if(a!==!1)try{var i,l={promise:r,reason:s};if(Oe.document&&document.createEvent?((i=document.createEvent("Event")).initEvent(Zf,!0,!0),dt(i,l)):Oe.CustomEvent&&dt(i=new CustomEvent(Zf,{detail:l}),l),i&&Oe.dispatchEvent&&(dispatchEvent(i),!Oe.PromiseRejectionEvent&&Oe.onunhandledrejection))try{Oe.onunhandledrejection(i)}catch{}Vt&&i&&!i.defaultPrevented&&console.warn(`Unhandled rejection: ${s.stack||s}`)}catch{}}var Ye=Z.reject;function du(s,r,a,i){if(s.idbdb&&(s._state.openComplete||le.letThrough||s._vip)){var l=s._createTransaction(r,a,s._dbSchema);try{l.create(),s._state.PR1398_maxLoop=3}catch(c){return c.name===Ru.InvalidState&&s.isOpen()&&--s._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),s._close(),s.open().then(()=>du(s,r,a,i))):Ye(c)}return l._promise(r,(c,h)=>Or(()=>(le.trans=l,i(c,h,l)))).then(c=>l._completion.then(()=>c))}if(s._state.openComplete)return Ye(new fe.DatabaseClosed(s._state.dbOpenError));if(!s._state.isBeingOpened){if(!s._options.autoOpen)return Ye(new fe.DatabaseClosed);s.open().catch(_e)}return s._state.dbReadyPromise.then(()=>du(s,r,a,i))}const th="3.2.7",Jr="￿",fu=-1/0,nr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Uh="String expected.",Aa=[],Ai=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),ug=Ai,cg=Ai,Bh=s=>!/(dexie\.js|dexie\.min\.js)/.test(s),Fi="__dbnames",Kl="readonly",Hl="readwrite";function nn(s,r){return s?r?function(){return s.apply(this,arguments)&&r.apply(this,arguments)}:s:r}const $h={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function hi(s){return typeof s!="string"||/\./.test(s)?r=>r:r=>(r[s]===void 0&&s in r&&delete(r=Ga(r))[s],r)}class dg{_trans(r,a,i){const l=this._tx||le.trans,c=this.name;function h(m,p,g){if(!g.schema[c])throw new fe.NotFound("Table "+c+" not part of transaction");return a(g.idbtrans,g)}const y=Xa();try{return l&&l.db===this.db?l===le.trans?l._promise(r,h,i):Or(()=>l._promise(r,h,i),{trans:l,transless:le.transless||le}):du(this.db,r,[this.name],h)}finally{y&&Ja()}}get(r,a){return r&&r.constructor===Object?this.where(r).first(a):this._trans("readonly",i=>this.core.get({trans:i,key:r}).then(l=>this.hook.reading.fire(l))).then(a)}where(r){if(typeof r=="string")return new this.db.WhereClause(this,r);if(ot(r))return new this.db.WhereClause(this,`[${r.join("+")}]`);const a=He(r);if(a.length===1)return this.where(a[0]).equals(r[a[0]]);const i=this.schema.indexes.concat(this.schema.primKey).filter(p=>{if(p.compound&&a.every(g=>p.keyPath.indexOf(g)>=0)){for(let g=0;g<a.length;++g)if(a.indexOf(p.keyPath[g])===-1)return!1;return!0}return!1}).sort((p,g)=>p.keyPath.length-g.keyPath.length)[0];if(i&&this.db._maxKey!==Jr){const p=i.keyPath.slice(0,a.length);return this.where(p).equals(p.map(g=>r[g]))}!i&&Vt&&console.warn(`The query ${JSON.stringify(r)} on ${this.name} would benefit of a compound index [${a.join("+")}]`);const{idxByName:l}=this.schema,c=this.db._deps.indexedDB;function h(p,g){try{return c.cmp(p,g)===0}catch{return!1}}const[y,m]=a.reduce(([p,g],v)=>{const w=l[v],S=r[v];return[p||w,p||!w?nn(g,w&&w.multi?N=>{const k=lr(N,v);return ot(k)&&k.some(b=>h(S,b))}:N=>h(S,lr(N,v))):g]},[null,null]);return y?this.where(y.name).equals(r[y.keyPath]).filter(m):i?this.filter(m):this.where(a).equals("")}filter(r){return this.toCollection().and(r)}count(r){return this.toCollection().count(r)}offset(r){return this.toCollection().offset(r)}limit(r){return this.toCollection().limit(r)}each(r){return this.toCollection().each(r)}toArray(r){return this.toCollection().toArray(r)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(r){return new this.db.Collection(new this.db.WhereClause(this,ot(r)?`[${r.join("+")}]`:r))}reverse(){return this.toCollection().reverse()}mapToClass(r){this.schema.mappedClass=r;const a=i=>{if(!i)return i;const l=Object.create(r.prototype);for(var c in i)if(Ct(i,c))try{l[c]=i[c]}catch{}return l};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=a,this.hook("reading",a),r}defineClass(){return this.mapToClass(function(r){dt(this,r)})}add(r,a){const{auto:i,keyPath:l}=this.schema.primKey;let c=r;return l&&i&&(c=hi(l)(r)),this._trans("readwrite",h=>this.core.mutate({trans:h,type:"add",keys:a!=null?[a]:null,values:[c]})).then(h=>h.numFailures?Z.reject(h.failures[0]):h.lastResult).then(h=>{if(l)try{zt(r,l,h)}catch{}return h})}update(r,a){if(typeof r!="object"||ot(r))return this.where(":id").equals(r).modify(a);{const i=lr(r,this.schema.primKey.keyPath);if(i===void 0)return Ye(new fe.InvalidArgument("Given object does not contain its primary key"));try{typeof a!="function"?He(a).forEach(l=>{zt(r,l,a[l])}):a(r,{value:r,primKey:i})}catch{}return this.where(":id").equals(i).modify(a)}}put(r,a){const{auto:i,keyPath:l}=this.schema.primKey;let c=r;return l&&i&&(c=hi(l)(r)),this._trans("readwrite",h=>this.core.mutate({trans:h,type:"put",values:[c],keys:a!=null?[a]:null})).then(h=>h.numFailures?Z.reject(h.failures[0]):h.lastResult).then(h=>{if(l)try{zt(r,l,h)}catch{}return h})}delete(r){return this._trans("readwrite",a=>this.core.mutate({trans:a,type:"delete",keys:[r]})).then(a=>a.numFailures?Z.reject(a.failures[0]):void 0)}clear(){return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"deleteRange",range:$h})).then(r=>r.numFailures?Z.reject(r.failures[0]):void 0)}bulkGet(r){return this._trans("readonly",a=>this.core.getMany({keys:r,trans:a}).then(i=>i.map(l=>this.hook.reading.fire(l))))}bulkAdd(r,a,i){const l=Array.isArray(a)?a:void 0,c=(i=i||(l?void 0:a))?i.allKeys:void 0;return this._trans("readwrite",h=>{const{auto:y,keyPath:m}=this.schema.primKey;if(m&&l)throw new fe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(l&&l.length!==r.length)throw new fe.InvalidArgument("Arguments objects and keys must have the same length");const p=r.length;let g=m&&y?r.map(hi(m)):r;return this.core.mutate({trans:h,type:"add",keys:l,values:g,wantResults:c}).then(({numFailures:v,results:w,lastResult:S,failures:N})=>{if(v===0)return c?w:S;throw new Ia(`${this.name}.bulkAdd(): ${v} of ${p} operations failed`,N)})})}bulkPut(r,a,i){const l=Array.isArray(a)?a:void 0,c=(i=i||(l?void 0:a))?i.allKeys:void 0;return this._trans("readwrite",h=>{const{auto:y,keyPath:m}=this.schema.primKey;if(m&&l)throw new fe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(l&&l.length!==r.length)throw new fe.InvalidArgument("Arguments objects and keys must have the same length");const p=r.length;let g=m&&y?r.map(hi(m)):r;return this.core.mutate({trans:h,type:"put",keys:l,values:g,wantResults:c}).then(({numFailures:v,results:w,lastResult:S,failures:N})=>{if(v===0)return c?w:S;throw new Ia(`${this.name}.bulkPut(): ${v} of ${p} operations failed`,N)})})}bulkDelete(r){const a=r.length;return this._trans("readwrite",i=>this.core.mutate({trans:i,type:"delete",keys:r})).then(({numFailures:i,lastResult:l,failures:c})=>{if(i===0)return l;throw new Ia(`${this.name}.bulkDelete(): ${i} of ${a} operations failed`,c)})}}function Fa(s){var r={},a=function(h,y){if(y){for(var m=arguments.length,p=new Array(m-1);--m;)p[m-1]=arguments[m];return r[h].subscribe.apply(null,p),s}if(typeof h=="string")return r[h]};a.addEventType=c;for(var i=1,l=arguments.length;i<l;++i)c(arguments[i]);return a;function c(h,y,m){if(typeof h!="object"){var p;y||(y=rg),m||(m=_e);var g={subscribers:[],fire:m,subscribe:function(v){g.subscribers.indexOf(v)===-1&&(g.subscribers.push(v),g.fire=y(g.fire,v))},unsubscribe:function(v){g.subscribers=g.subscribers.filter(function(w){return w!==v}),g.fire=g.subscribers.reduce(y,m)}};return r[h]=a[h]=g,g}He(p=h).forEach(function(v){var w=p[v];if(ot(w))c(v,p[v][0],p[v][1]);else{if(w!=="asap")throw new fe.InvalidArgument("Invalid event config");var S=c(v,$a,function(){for(var N=arguments.length,k=new Array(N);N--;)k[N]=arguments[N];S.subscribers.forEach(function(b){Sh(function(){b.apply(null,k)})})})}})}}function Ra(s,r){return An(r).from({prototype:s}),r}function Dn(s,r){return!(s.filter||s.algorithm||s.or)&&(r?s.justLimit:!s.replayFilter)}function Vl(s,r){s.filter=nn(s.filter,r)}function Ql(s,r,a){var i=s.replayFilter;s.replayFilter=i?()=>nn(i(),r()):r,s.justLimit=a&&!i}function Ni(s,r){if(s.isPrimKey)return r.primaryKey;const a=r.getIndexByKeyPath(s.index);if(!a)throw new fe.Schema("KeyPath "+s.index+" on object store "+r.name+" is not indexed");return a}function rh(s,r,a){const i=Ni(s,r.schema);return r.openCursor({trans:a,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:i,range:s.range}})}function mi(s,r,a,i){const l=s.replayFilter?nn(s.filter,s.replayFilter()):s.filter;if(s.or){const c={},h=(y,m,p)=>{if(!l||l(m,p,w=>m.stop(w),w=>m.fail(w))){var g=m.primaryKey,v=""+g;v==="[object ArrayBuffer]"&&(v=""+new Uint8Array(g)),Ct(c,v)||(c[v]=!0,r(y,m,p))}};return Promise.all([s.or._iterate(h,a),nh(rh(s,i,a),s.algorithm,h,!s.keysOnly&&s.valueMapper)])}return nh(rh(s,i,a),nn(s.algorithm,l),r,!s.keysOnly&&s.valueMapper)}function nh(s,r,a,i){var l=Ae(i?(c,h,y)=>a(i(c),h,y):a);return s.then(c=>{if(c)return c.start(()=>{var h=()=>c.continue();r&&!r(c,y=>h=y,y=>{c.stop(y),h=_e},y=>{c.fail(y),h=_e})||l(c.value,c,y=>h=y),h()})})}function ct(s,r){try{const a=ah(s),i=ah(r);if(a!==i)return a==="Array"?1:i==="Array"?-1:a==="binary"?1:i==="binary"?-1:a==="string"?1:i==="string"?-1:a==="Date"?1:i!=="Date"?NaN:-1;switch(a){case"number":case"Date":case"string":return s>r?1:s<r?-1:0;case"binary":return function(l,c){const h=l.length,y=c.length,m=h<y?h:y;for(let p=0;p<m;++p)if(l[p]!==c[p])return l[p]<c[p]?-1:1;return h===y?0:h<y?-1:1}(sh(s),sh(r));case"Array":return function(l,c){const h=l.length,y=c.length,m=h<y?h:y;for(let p=0;p<m;++p){const g=ct(l[p],c[p]);if(g!==0)return g}return h===y?0:h<y?-1:1}(s,r)}}catch{}return NaN}function ah(s){const r=typeof s;if(r!=="object")return r;if(ArrayBuffer.isView(s))return"binary";const a=eu(s);return a==="ArrayBuffer"?"binary":a}function sh(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}class fg{_read(r,a){var i=this._ctx;return i.error?i.table._trans(null,Ye.bind(null,i.error)):i.table._trans("readonly",r).then(a)}_write(r){var a=this._ctx;return a.error?a.table._trans(null,Ye.bind(null,a.error)):a.table._trans("readwrite",r,"locked")}_addAlgorithm(r){var a=this._ctx;a.algorithm=nn(a.algorithm,r)}_iterate(r,a){return mi(this._ctx,r,a,this._ctx.table.core)}clone(r){var a=Object.create(this.constructor.prototype),i=Object.create(this._ctx);return r&&dt(i,r),a._ctx=i,a}raw(){return this._ctx.valueMapper=null,this}each(r){var a=this._ctx;return this._read(i=>mi(a,r,i,a.table.core))}count(r){return this._read(a=>{const i=this._ctx,l=i.table.core;if(Dn(i,!0))return l.count({trans:a,query:{index:Ni(i,l.schema),range:i.range}}).then(h=>Math.min(h,i.limit));var c=0;return mi(i,()=>(++c,!1),a,l).then(()=>c)}).then(r)}sortBy(r,a){const i=r.split(".").reverse(),l=i[0],c=i.length-1;function h(p,g){return g?h(p[i[g]],g-1):p[l]}var y=this._ctx.dir==="next"?1:-1;function m(p,g){var v=h(p,c),w=h(g,c);return v<w?-y:v>w?y:0}return this.toArray(function(p){return p.sort(m)}).then(a)}toArray(r){return this._read(a=>{var i=this._ctx;if(i.dir==="next"&&Dn(i,!0)&&i.limit>0){const{valueMapper:l}=i,c=Ni(i,i.table.core.schema);return i.table.core.query({trans:a,limit:i.limit,values:!0,query:{index:c,range:i.range}}).then(({result:h})=>l?h.map(l):h)}{const l=[];return mi(i,c=>l.push(c),a,i.table.core).then(()=>l)}},r)}offset(r){var a=this._ctx;return r<=0||(a.offset+=r,Dn(a)?Ql(a,()=>{var i=r;return(l,c)=>i===0||(i===1?(--i,!1):(c(()=>{l.advance(i),i=0}),!1))}):Ql(a,()=>{var i=r;return()=>--i<0})),this}limit(r){return this._ctx.limit=Math.min(this._ctx.limit,r),Ql(this._ctx,()=>{var a=r;return function(i,l,c){return--a<=0&&l(c),a>=0}},!0),this}until(r,a){return Vl(this._ctx,function(i,l,c){return!r(i.value)||(l(c),a)}),this}first(r){return this.limit(1).toArray(function(a){return a[0]}).then(r)}last(r){return this.reverse().first(r)}filter(r){var a,i;return Vl(this._ctx,function(l){return r(l.value)}),a=this._ctx,i=r,a.isMatch=nn(a.isMatch,i),this}and(r){return this.filter(r)}or(r){return new this.db.WhereClause(this._ctx.table,r,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(r){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(i,l){r(l.key,l)})}eachUniqueKey(r){return this._ctx.unique="unique",this.eachKey(r)}eachPrimaryKey(r){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(i,l){r(l.primaryKey,l)})}keys(r){var a=this._ctx;a.keysOnly=!a.isMatch;var i=[];return this.each(function(l,c){i.push(c.key)}).then(function(){return i}).then(r)}primaryKeys(r){var a=this._ctx;if(a.dir==="next"&&Dn(a,!0)&&a.limit>0)return this._read(l=>{var c=Ni(a,a.table.core.schema);return a.table.core.query({trans:l,values:!1,limit:a.limit,query:{index:c,range:a.range}})}).then(({result:l})=>l).then(r);a.keysOnly=!a.isMatch;var i=[];return this.each(function(l,c){i.push(c.primaryKey)}).then(function(){return i}).then(r)}uniqueKeys(r){return this._ctx.unique="unique",this.keys(r)}firstKey(r){return this.limit(1).keys(function(a){return a[0]}).then(r)}lastKey(r){return this.reverse().firstKey(r)}distinct(){var r=this._ctx,a=r.index&&r.table.schema.idxByName[r.index];if(!a||!a.multi)return this;var i={};return Vl(this._ctx,function(l){var c=l.primaryKey.toString(),h=Ct(i,c);return i[c]=!0,!h}),this}modify(r){var a=this._ctx;return this._write(i=>{var l;if(typeof r=="function")l=r;else{var c=He(r),h=c.length;l=function(k){for(var b=!1,_=0;_<h;++_){var j=c[_],P=r[j];lr(k,j)!==P&&(zt(k,j,P),b=!0)}return b}}const y=a.table.core,{outbound:m,extractKey:p}=y.schema.primaryKey,g=this.db._options.modifyChunkSize||200,v=[];let w=0;const S=[],N=(k,b)=>{const{failures:_,numFailures:j}=b;w+=k-j;for(let P of He(_))v.push(_[P])};return this.clone().primaryKeys().then(k=>{const b=_=>{const j=Math.min(g,k.length-_);return y.getMany({trans:i,keys:k.slice(_,_+j),cache:"immutable"}).then(P=>{const M=[],A=[],F=m?[]:null,D=[];for(let W=0;W<j;++W){const se=P[W],X={value:Ga(se),primKey:k[_+W]};l.call(X,X.value,X)!==!1&&(X.value==null?D.push(k[_+W]):m||ct(p(se),p(X.value))===0?(A.push(X.value),m&&F.push(k[_+W])):(D.push(k[_+W]),M.push(X.value)))}const V=Dn(a)&&a.limit===1/0&&(typeof r!="function"||r===Yl)&&{index:a.index,range:a.range};return Promise.resolve(M.length>0&&y.mutate({trans:i,type:"add",values:M}).then(W=>{for(let se in W.failures)D.splice(parseInt(se),1);N(M.length,W)})).then(()=>(A.length>0||V&&typeof r=="object")&&y.mutate({trans:i,type:"put",keys:F,values:A,criteria:V,changeSpec:typeof r!="function"&&r}).then(W=>N(A.length,W))).then(()=>(D.length>0||V&&r===Yl)&&y.mutate({trans:i,type:"delete",keys:D,criteria:V}).then(W=>N(D.length,W))).then(()=>k.length>_+j&&b(_+g))})};return b(0).then(()=>{if(v.length>0)throw new ji("Error modifying one or more objects",v,w,S);return k.length})})})}delete(){var r=this._ctx,a=r.range;return Dn(r)&&(r.isPrimKey&&!cg||a.type===3)?this._write(i=>{const{primaryKey:l}=r.table.core.schema,c=a;return r.table.core.count({trans:i,query:{index:l,range:c}}).then(h=>r.table.core.mutate({trans:i,type:"deleteRange",range:c}).then(({failures:y,lastResult:m,results:p,numFailures:g})=>{if(g)throw new ji("Could not delete some values",Object.keys(y).map(v=>y[v]),h-g);return h-g}))}):this.modify(Yl)}}const Yl=(s,r)=>r.value=null;function hg(s,r){return s<r?-1:s===r?0:1}function mg(s,r){return s>r?-1:s===r?0:1}function bt(s,r,a){var i=s instanceof Kh?new s.Collection(s):s;return i._ctx.error=a?new a(r):new TypeError(r),i}function Mn(s){return new s.Collection(s,()=>Wh("")).limit(0)}function pg(s,r,a,i,l,c){for(var h=Math.min(s.length,i.length),y=-1,m=0;m<h;++m){var p=r[m];if(p!==i[m])return l(s[m],a[m])<0?s.substr(0,m)+a[m]+a.substr(m+1):l(s[m],i[m])<0?s.substr(0,m)+i[m]+a.substr(m+1):y>=0?s.substr(0,y)+r[y]+a.substr(y+1):null;l(s[m],p)<0&&(y=m)}return h<i.length&&c==="next"?s+a.substr(s.length):h<s.length&&c==="prev"?s.substr(0,a.length):y<0?null:s.substr(0,y)+i[y]+a.substr(y+1)}function pi(s,r,a,i){var l,c,h,y,m,p,g,v=a.length;if(!a.every(k=>typeof k=="string"))return bt(s,Uh);function w(k){l=function(_){return _==="next"?j=>j.toUpperCase():j=>j.toLowerCase()}(k),c=function(_){return _==="next"?j=>j.toLowerCase():j=>j.toUpperCase()}(k),h=k==="next"?hg:mg;var b=a.map(function(_){return{lower:c(_),upper:l(_)}}).sort(function(_,j){return h(_.lower,j.lower)});y=b.map(function(_){return _.upper}),m=b.map(function(_){return _.lower}),p=k,g=k==="next"?"":i}w("next");var S=new s.Collection(s,()=>Pr(y[0],m[v-1]+i));S._ondirectionchange=function(k){w(k)};var N=0;return S._addAlgorithm(function(k,b,_){var j=k.key;if(typeof j!="string")return!1;var P=c(j);if(r(P,m,N))return!0;for(var M=null,A=N;A<v;++A){var F=pg(j,P,y[A],m[A],h,p);F===null&&M===null?N=A+1:(M===null||h(M,F)>0)&&(M=F)}return b(M!==null?function(){k.continue(M+g)}:_),!1}),S}function Pr(s,r,a,i){return{type:2,lower:s,upper:r,lowerOpen:a,upperOpen:i}}function Wh(s){return{type:1,lower:s,upper:s}}class Kh{get Collection(){return this._ctx.table.db.Collection}between(r,a,i,l){i=i!==!1,l=l===!0;try{return this._cmp(r,a)>0||this._cmp(r,a)===0&&(i||l)&&(!i||!l)?Mn(this):new this.Collection(this,()=>Pr(r,a,!i,!l))}catch{return bt(this,nr)}}equals(r){return r==null?bt(this,nr):new this.Collection(this,()=>Wh(r))}above(r){return r==null?bt(this,nr):new this.Collection(this,()=>Pr(r,void 0,!0))}aboveOrEqual(r){return r==null?bt(this,nr):new this.Collection(this,()=>Pr(r,void 0,!1))}below(r){return r==null?bt(this,nr):new this.Collection(this,()=>Pr(void 0,r,!1,!0))}belowOrEqual(r){return r==null?bt(this,nr):new this.Collection(this,()=>Pr(void 0,r))}startsWith(r){return typeof r!="string"?bt(this,Uh):this.between(r,r+Jr,!0,!0)}startsWithIgnoreCase(r){return r===""?this.startsWith(r):pi(this,(a,i)=>a.indexOf(i[0])===0,[r],Jr)}equalsIgnoreCase(r){return pi(this,(a,i)=>a===i[0],[r],"")}anyOfIgnoreCase(){var r=sr.apply(In,arguments);return r.length===0?Mn(this):pi(this,(a,i)=>i.indexOf(a)!==-1,r,"")}startsWithAnyOfIgnoreCase(){var r=sr.apply(In,arguments);return r.length===0?Mn(this):pi(this,(a,i)=>i.some(l=>a.indexOf(l)===0),r,Jr)}anyOf(){const r=sr.apply(In,arguments);let a=this._cmp;try{r.sort(a)}catch{return bt(this,nr)}if(r.length===0)return Mn(this);const i=new this.Collection(this,()=>Pr(r[0],r[r.length-1]));i._ondirectionchange=c=>{a=c==="next"?this._ascending:this._descending,r.sort(a)};let l=0;return i._addAlgorithm((c,h,y)=>{const m=c.key;for(;a(m,r[l])>0;)if(++l,l===r.length)return h(y),!1;return a(m,r[l])===0||(h(()=>{c.continue(r[l])}),!1)}),i}notEqual(r){return this.inAnyRange([[fu,r],[r,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const r=sr.apply(In,arguments);if(r.length===0)return new this.Collection(this);try{r.sort(this._ascending)}catch{return bt(this,nr)}const a=r.reduce((i,l)=>i?i.concat([[i[i.length-1][1],l]]):[[fu,l]],null);return a.push([r[r.length-1],this.db._maxKey]),this.inAnyRange(a,{includeLowers:!1,includeUppers:!1})}inAnyRange(r,a){const i=this._cmp,l=this._ascending,c=this._descending,h=this._min,y=this._max;if(r.length===0)return Mn(this);if(!r.every(j=>j[0]!==void 0&&j[1]!==void 0&&l(j[0],j[1])<=0))return bt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",fe.InvalidArgument);const m=!a||a.includeLowers!==!1,p=a&&a.includeUppers===!0;let g,v=l;function w(j,P){return v(j[0],P[0])}try{g=r.reduce(function(j,P){let M=0,A=j.length;for(;M<A;++M){const F=j[M];if(i(P[0],F[1])<0&&i(P[1],F[0])>0){F[0]=h(F[0],P[0]),F[1]=y(F[1],P[1]);break}}return M===A&&j.push(P),j},[]),g.sort(w)}catch{return bt(this,nr)}let S=0;const N=p?j=>l(j,g[S][1])>0:j=>l(j,g[S][1])>=0,k=m?j=>c(j,g[S][0])>0:j=>c(j,g[S][0])>=0;let b=N;const _=new this.Collection(this,()=>Pr(g[0][0],g[g.length-1][1],!m,!p));return _._ondirectionchange=j=>{j==="next"?(b=N,v=l):(b=k,v=c),g.sort(w)},_._addAlgorithm((j,P,M)=>{for(var A=j.key;b(A);)if(++S,S===g.length)return P(M),!1;return!!function(F){return!N(F)&&!k(F)}(A)||(this._cmp(A,g[S][1])===0||this._cmp(A,g[S][0])===0||P(()=>{v===l?j.continue(g[S][0]):j.continue(g[S][1])}),!1)}),_}startsWithAnyOf(){const r=sr.apply(In,arguments);return r.every(a=>typeof a=="string")?r.length===0?Mn(this):this.inAnyRange(r.map(a=>[a,a+Jr])):bt(this,"startsWithAnyOf() only works with strings")}}function Ht(s){return Ae(function(r){return Ka(r),s(r.target.error),!1})}function Ka(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}const Ha="storagemutated",Mr="x-storagemutated-1",Lr=Fa(null,Ha);class gg{_lock(){return Ma(!le.global),++this._reculock,this._reculock!==1||le.global||(le.lockOwnerFor=this),this}_unlock(){if(Ma(!le.global),--this._reculock==0)for(le.global||(le.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var r=this._blockedFuncs.shift();try{$n(r[1],r[0])}catch{}}return this}_locked(){return this._reculock&&le.lockOwnerFor!==this}create(r){if(!this.mode)return this;const a=this.db.idbdb,i=this.db._state.dbOpenError;if(Ma(!this.idbtrans),!r&&!a)switch(i&&i.name){case"DatabaseClosedError":throw new fe.DatabaseClosed(i);case"MissingAPIError":throw new fe.MissingAPI(i.message,i);default:throw new fe.OpenFailed(i)}if(!this.active)throw new fe.TransactionInactive;return Ma(this._completion._state===null),(r=this.idbtrans=r||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):a.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ae(l=>{Ka(l),this._reject(r.error)}),r.onabort=Ae(l=>{Ka(l),this.active&&this._reject(new fe.Abort(r.error)),this.active=!1,this.on("abort").fire(l)}),r.oncomplete=Ae(()=>{this.active=!1,this._resolve(),"mutatedParts"in r&&Lr.storagemutated.fire(r.mutatedParts)}),this}_promise(r,a,i){if(r==="readwrite"&&this.mode!=="readwrite")return Ye(new fe.ReadOnly("Transaction is readonly"));if(!this.active)return Ye(new fe.TransactionInactive);if(this._locked())return new Z((c,h)=>{this._blockedFuncs.push([()=>{this._promise(r,a,i).then(c,h)},le])});if(i)return Or(()=>{var c=new Z((h,y)=>{this._lock();const m=a(h,y,this);m&&m.then&&m.then(h,y)});return c.finally(()=>this._unlock()),c._lib=!0,c});var l=new Z((c,h)=>{var y=a(c,h,this);y&&y.then&&y.then(c,h)});return l._lib=!0,l}_root(){return this.parent?this.parent._root():this}waitFor(r){var a=this._root();const i=Z.resolve(r);if(a._waitingFor)a._waitingFor=a._waitingFor.then(()=>i);else{a._waitingFor=i,a._waitingQueue=[];var l=a.idbtrans.objectStore(a.storeNames[0]);(function h(){for(++a._spinCount;a._waitingQueue.length;)a._waitingQueue.shift()();a._waitingFor&&(l.get(-1/0).onsuccess=h)})()}var c=a._waitingFor;return new Z((h,y)=>{i.then(m=>a._waitingQueue.push(Ae(h.bind(null,m))),m=>a._waitingQueue.push(Ae(y.bind(null,m)))).finally(()=>{a._waitingFor===c&&(a._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new fe.Abort))}table(r){const a=this._memoizedTables||(this._memoizedTables={});if(Ct(a,r))return a[r];const i=this.schema[r];if(!i)throw new fe.NotFound("Table "+r+" not part of transaction");const l=new this.db.Table(r,i,this);return l.core=this.db.core.table(r),a[r]=l,l}}function hu(s,r,a,i,l,c,h){return{name:s,keyPath:r,unique:a,multi:i,auto:l,compound:c,src:(a&&!h?"&":"")+(i?"*":"")+(l?"++":"")+Hh(r)}}function Hh(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function Vh(s,r,a){return{name:s,primKey:r,indexes:a,mappedClass:null,idxByName:Nh(a,i=>[i.name,i])}}let Va=s=>{try{return s.only([[]]),Va=()=>[[]],[[]]}catch{return Va=()=>Jr,Jr}};function mu(s){return s==null?()=>{}:typeof s=="string"?function(r){return r.split(".").length===1?i=>i[r]:i=>lr(i,r)}(s):r=>lr(r,s)}function ih(s){return[].slice.call(s)}let yg=0;function za(s){return s==null?":id":typeof s=="string"?s:`[${s.join("+")}]`}function vg(s,r,a){function i(m){if(m.type===3)return null;if(m.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:p,upper:g,lowerOpen:v,upperOpen:w}=m;return p===void 0?g===void 0?null:r.upperBound(g,!!w):g===void 0?r.lowerBound(p,!!v):r.bound(p,g,!!v,!!w)}const{schema:l,hasGetAll:c}=function(m,p){const g=ih(m.objectStoreNames);return{schema:{name:m.name,tables:g.map(v=>p.objectStore(v)).map(v=>{const{keyPath:w,autoIncrement:S}=v,N=ot(w),k=w==null,b={},_={name:v.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:k,compound:N,keyPath:w,autoIncrement:S,unique:!0,extractKey:mu(w)},indexes:ih(v.indexNames).map(j=>v.index(j)).map(j=>{const{name:P,unique:M,multiEntry:A,keyPath:F}=j,D={name:P,compound:ot(F),keyPath:F,unique:M,multiEntry:A,extractKey:mu(F)};return b[za(F)]=D,D}),getIndexByKeyPath:j=>b[za(j)]};return b[":id"]=_.primaryKey,w!=null&&(b[za(w)]=_.primaryKey),_})},hasGetAll:g.length>0&&"getAll"in p.objectStore(g[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(s,a),h=l.tables.map(m=>function(p){const g=p.name;return{name:g,schema:p,mutate:function({trans:v,type:w,keys:S,values:N,range:k}){return new Promise((b,_)=>{b=Ae(b);const j=v.objectStore(g),P=j.keyPath==null,M=w==="put"||w==="add";if(!M&&w!=="delete"&&w!=="deleteRange")throw new Error("Invalid operation type: "+w);const{length:A}=S||N||{length:1};if(S&&N&&S.length!==N.length)throw new Error("Given keys array must have same length as given values array.");if(A===0)return b({numFailures:0,failures:{},results:[],lastResult:void 0});let F;const D=[],V=[];let W=0;const se=de=>{++W,Ka(de)};if(w==="deleteRange"){if(k.type===4)return b({numFailures:W,failures:V,results:[],lastResult:void 0});k.type===3?D.push(F=j.clear()):D.push(F=j.delete(i(k)))}else{const[de,me]=M?P?[N,S]:[N,null]:[S,null];if(M)for(let ye=0;ye<A;++ye)D.push(F=me&&me[ye]!==void 0?j[w](de[ye],me[ye]):j[w](de[ye])),F.onerror=se;else for(let ye=0;ye<A;++ye)D.push(F=j[w](de[ye])),F.onerror=se}const X=de=>{const me=de.target.result;D.forEach((ye,Pe)=>ye.error!=null&&(V[Pe]=ye.error)),b({numFailures:W,failures:V,results:w==="delete"?S:D.map(ye=>ye.result),lastResult:me})};F.onerror=de=>{se(de),X(de)},F.onsuccess=X})},getMany:({trans:v,keys:w})=>new Promise((S,N)=>{S=Ae(S);const k=v.objectStore(g),b=w.length,_=new Array(b);let j,P=0,M=0;const A=D=>{const V=D.target;_[V._pos]=V.result,++M===P&&S(_)},F=Ht(N);for(let D=0;D<b;++D)w[D]!=null&&(j=k.get(w[D]),j._pos=D,j.onsuccess=A,j.onerror=F,++P);P===0&&S(_)}),get:({trans:v,key:w})=>new Promise((S,N)=>{S=Ae(S);const k=v.objectStore(g).get(w);k.onsuccess=b=>S(b.target.result),k.onerror=Ht(N)}),query:function(v){return w=>new Promise((S,N)=>{S=Ae(S);const{trans:k,values:b,limit:_,query:j}=w,P=_===1/0?void 0:_,{index:M,range:A}=j,F=k.objectStore(g),D=M.isPrimaryKey?F:F.index(M.name),V=i(A);if(_===0)return S({result:[]});if(v){const W=b?D.getAll(V,P):D.getAllKeys(V,P);W.onsuccess=se=>S({result:se.target.result}),W.onerror=Ht(N)}else{let W=0;const se=b||!("openKeyCursor"in D)?D.openCursor(V):D.openKeyCursor(V),X=[];se.onsuccess=de=>{const me=se.result;return me?(X.push(b?me.value:me.primaryKey),++W===_?S({result:X}):void me.continue()):S({result:X})},se.onerror=Ht(N)}})}(c),openCursor:function({trans:v,values:w,query:S,reverse:N,unique:k}){return new Promise((b,_)=>{b=Ae(b);const{index:j,range:P}=S,M=v.objectStore(g),A=j.isPrimaryKey?M:M.index(j.name),F=N?k?"prevunique":"prev":k?"nextunique":"next",D=w||!("openKeyCursor"in A)?A.openCursor(i(P),F):A.openKeyCursor(i(P),F);D.onerror=Ht(_),D.onsuccess=Ae(V=>{const W=D.result;if(!W)return void b(null);W.___id=++yg,W.done=!1;const se=W.continue.bind(W);let X=W.continuePrimaryKey;X&&(X=X.bind(W));const de=W.advance.bind(W),me=()=>{throw new Error("Cursor not stopped")};W.trans=v,W.stop=W.continue=W.continuePrimaryKey=W.advance=()=>{throw new Error("Cursor not started")},W.fail=Ae(_),W.next=function(){let ye=1;return this.start(()=>ye--?this.continue():this.stop()).then(()=>this)},W.start=ye=>{const Pe=new Promise((U,B)=>{U=Ae(U),D.onerror=Ht(B),W.fail=B,W.stop=q=>{W.stop=W.continue=W.continuePrimaryKey=W.advance=me,U(q)}}),G=()=>{if(D.result)try{ye()}catch(U){W.fail(U)}else W.done=!0,W.start=()=>{throw new Error("Cursor behind last entry")},W.stop()};return D.onsuccess=Ae(U=>{D.onsuccess=G,G()}),W.continue=se,W.continuePrimaryKey=X,W.advance=de,G(),Pe},b(W)},_)})},count({query:v,trans:w}){const{index:S,range:N}=v;return new Promise((k,b)=>{const _=w.objectStore(g),j=S.isPrimaryKey?_:_.index(S.name),P=i(N),M=P?j.count(P):j.count();M.onsuccess=Ae(A=>k(A.target.result)),M.onerror=Ht(b)})}}}(m)),y={};return h.forEach(m=>y[m.name]=m),{stack:"dbcore",transaction:s.transaction.bind(s),table(m){if(!y[m])throw new Error(`Table '${m}' not found`);return y[m]},MIN_KEY:-1/0,MAX_KEY:Va(r),schema:l}}function pu({_novip:s},r){const a=r.db,i=function(l,c,{IDBKeyRange:h,indexedDB:y},m){return{dbcore:function(g,v){return v.reduce((w,{create:S})=>({...w,...S(w)}),g)}(vg(c,h,m),l.dbcore)}}(s._middlewares,a,s._deps,r);s.core=i.dbcore,s.tables.forEach(l=>{const c=l.name;s.core.schema.tables.some(h=>h.name===c)&&(l.core=s.core.table(c),s[c]instanceof s.Table&&(s[c].core=l.core))})}function Pi({_novip:s},r,a,i){a.forEach(l=>{const c=i[l];r.forEach(h=>{const y=ju(h,l);(!y||"value"in y&&y.value===void 0)&&(h===s.Transaction.prototype||h instanceof s.Transaction?or(h,l,{get(){return this.table(l)},set(m){wh(this,l,{value:m,writable:!0,configurable:!0,enumerable:!0})}}):h[l]=new s.Table(l,c))})})}function gu({_novip:s},r){r.forEach(a=>{for(let i in a)a[i]instanceof s.Table&&delete a[i]})}function xg(s,r){return s._cfg.version-r._cfg.version}function wg(s,r,a,i){const l=s._dbSchema,c=s._createTransaction("readwrite",s._storeNames,l);c.create(a),c._completion.catch(i);const h=c._reject.bind(c),y=le.transless||le;Or(()=>{le.trans=c,le.transless=y,r===0?(He(l).forEach(m=>{ql(a,m,l[m].primKey,l[m].indexes)}),pu(s,a),Z.follow(()=>s.on.populate.fire(c)).catch(h)):function({_novip:m},p,g,v){const w=[],S=m._versions;let N=m._dbSchema=vu(m,m.idbdb,v),k=!1;const b=S.filter(j=>j._cfg.version>=p);function _(){return w.length?Z.resolve(w.shift()(g.idbtrans)).then(_):Z.resolve()}return b.forEach(j=>{w.push(()=>{const P=N,M=j._cfg.dbschema;xu(m,P,v),xu(m,M,v),N=m._dbSchema=M;const A=Qh(P,M);A.add.forEach(D=>{ql(v,D[0],D[1].primKey,D[1].indexes)}),A.change.forEach(D=>{if(D.recreate)throw new fe.Upgrade("Not yet support for changing primary key");{const V=v.objectStore(D.name);D.add.forEach(W=>yu(V,W)),D.change.forEach(W=>{V.deleteIndex(W.name),yu(V,W)}),D.del.forEach(W=>V.deleteIndex(W))}});const F=j._cfg.contentUpgrade;if(F&&j._cfg.version>p){pu(m,v),g._memoizedTables={},k=!0;let D=bh(M);A.del.forEach(X=>{D[X]=P[X]}),gu(m,[m.Transaction.prototype]),Pi(m,[m.Transaction.prototype],He(D),D),g.schema=D;const V=Eu(F);let W;V&&Bn();const se=Z.follow(()=>{if(W=F(g),W&&V){var X=ur.bind(null,null);W.then(X,X)}});return W&&typeof W.then=="function"?Z.resolve(W):se.then(()=>W)}}),w.push(P=>{(!k||!ug)&&function(M,A){[].slice.call(A.db.objectStoreNames).forEach(F=>M[F]==null&&A.db.deleteObjectStore(F))}(j._cfg.dbschema,P),gu(m,[m.Transaction.prototype]),Pi(m,[m.Transaction.prototype],m._storeNames,m._dbSchema),g.schema=m._dbSchema})}),_().then(()=>{var j,P;P=v,He(j=N).forEach(M=>{P.db.objectStoreNames.contains(M)||ql(P,M,j[M].primKey,j[M].indexes)})})}(s,r,c,a).catch(h)})}function Qh(s,r){const a={del:[],add:[],change:[]};let i;for(i in s)r[i]||a.del.push(i);for(i in r){const l=s[i],c=r[i];if(l){const h={name:i,def:c,recreate:!1,del:[],add:[],change:[]};if(""+(l.primKey.keyPath||"")!=""+(c.primKey.keyPath||"")||l.primKey.auto!==c.primKey.auto&&!Ai)h.recreate=!0,a.change.push(h);else{const y=l.idxByName,m=c.idxByName;let p;for(p in y)m[p]||h.del.push(p);for(p in m){const g=y[p],v=m[p];g?g.src!==v.src&&h.change.push(v):h.add.push(v)}(h.del.length>0||h.add.length>0||h.change.length>0)&&a.change.push(h)}}else a.add.push([i,c])}return a}function ql(s,r,a,i){const l=s.db.createObjectStore(r,a.keyPath?{keyPath:a.keyPath,autoIncrement:a.auto}:{autoIncrement:a.auto});return i.forEach(c=>yu(l,c)),l}function yu(s,r){s.createIndex(r.name,r.keyPath,{unique:r.unique,multiEntry:r.multi})}function vu(s,r,a){const i={};return Ci(r.objectStoreNames,0).forEach(l=>{const c=a.objectStore(l);let h=c.keyPath;const y=hu(Hh(h),h||"",!1,!1,!!c.autoIncrement,h&&typeof h!="string",!0),m=[];for(let g=0;g<c.indexNames.length;++g){const v=c.index(c.indexNames[g]);h=v.keyPath;var p=hu(v.name,h,!!v.unique,!!v.multiEntry,!1,h&&typeof h!="string",!1);m.push(p)}i[l]=Vh(l,y,m)}),i}function xu({_novip:s},r,a){const i=a.db.objectStoreNames;for(let l=0;l<i.length;++l){const c=i[l],h=a.objectStore(c);s._hasGetAll="getAll"in h;for(let y=0;y<h.indexNames.length;++y){const m=h.indexNames[y],p=h.index(m).keyPath,g=typeof p=="string"?p:"["+Ci(p).join("+")+"]";if(r[c]){const v=r[c].idxByName[g];v&&(v.name=m,delete r[c].idxByName[g],r[c].idxByName[m]=v)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Oe.WorkerGlobalScope&&Oe instanceof Oe.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}class kg{_parseStoresSpec(r,a){He(r).forEach(i=>{if(r[i]!==null){var l=r[i].split(",").map((h,y)=>{const m=(h=h.trim()).replace(/([&*]|\+\+)/g,""),p=/^\[/.test(m)?m.match(/^\[(.*)\]$/)[1].split("+"):m;return hu(m,p||null,/\&/.test(h),/\*/.test(h),/\+\+/.test(h),ot(p),y===0)}),c=l.shift();if(c.multi)throw new fe.Schema("Primary key cannot be multi-valued");l.forEach(h=>{if(h.auto)throw new fe.Schema("Only primary key can be marked as autoIncrement (++)");if(!h.keyPath)throw new fe.Schema("Index must have a name and cannot be an empty string")}),a[i]=Vh(i,c,l)}})}stores(r){const a=this.db;this._cfg.storesSource=this._cfg.storesSource?dt(this._cfg.storesSource,r):r;const i=a._versions,l={};let c={};return i.forEach(h=>{dt(l,h._cfg.storesSource),c=h._cfg.dbschema={},h._parseStoresSpec(l,c)}),a._dbSchema=c,gu(a,[a._allTables,a,a.Transaction.prototype]),Pi(a,[a._allTables,a,a.Transaction.prototype,this._cfg.tables],He(c),c),a._storeNames=He(c),this}upgrade(r){return this._cfg.contentUpgrade=Tu(this._cfg.contentUpgrade||_e,r),this}}function Ou(s,r){let a=s._dbNamesDB;return a||(a=s._dbNamesDB=new tn(Fi,{addons:[],indexedDB:s,IDBKeyRange:r}),a.version(1).stores({dbnames:"name"})),a.table("dbnames")}function Iu(s){return s&&typeof s.databases=="function"}function wu(s){return Or(function(){return le.letThrough=!0,s()})}function Sg(){var s;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(r){var a=function(){return indexedDB.databases().finally(r)};s=setInterval(a,100),a()}).finally(function(){return clearInterval(s)}):Promise.resolve()}function Ng(s){const r=s._state,{indexedDB:a}=s._deps;if(r.isBeingOpened||s.idbdb)return r.dbReadyPromise.then(()=>r.dbOpenError?Ye(r.dbOpenError):s);Vt&&(r.openCanceller._stackHolder=sn()),r.isBeingOpened=!0,r.dbOpenError=null,r.openComplete=!1;const i=r.openCanceller;function l(){if(r.openCanceller!==i)throw new fe.DatabaseClosed("db.open() was cancelled")}let c=r.dbReadyResolve,h=null,y=!1;const m=()=>new Z((p,g)=>{if(l(),!a)throw new fe.MissingAPI;const v=s.name,w=r.autoSchema?a.open(v):a.open(v,Math.round(10*s.verno));if(!w)throw new fe.MissingAPI;w.onerror=Ht(g),w.onblocked=Ae(s._fireOnBlocked),w.onupgradeneeded=Ae(S=>{if(h=w.transaction,r.autoSchema&&!s._options.allowEmptyDB){w.onerror=Ka,h.abort(),w.result.close();const k=a.deleteDatabase(v);k.onsuccess=k.onerror=Ae(()=>{g(new fe.NoSuchDatabase(`Database ${v} doesnt exist`))})}else{h.onerror=Ht(g);var N=S.oldVersion>Math.pow(2,62)?0:S.oldVersion;y=N<1,s._novip.idbdb=w.result,wg(s,N/10,h,g)}},g),w.onsuccess=Ae(()=>{h=null;const S=s._novip.idbdb=w.result,N=Ci(S.objectStoreNames);if(N.length>0)try{const b=S.transaction((k=N).length===1?k[0]:k,"readonly");r.autoSchema?function({_novip:_},j,P){_.verno=j.version/10;const M=_._dbSchema=vu(0,j,P);_._storeNames=Ci(j.objectStoreNames,0),Pi(_,[_._allTables],He(M),M)}(s,S,b):(xu(s,s._dbSchema,b),function(_,j){const P=Qh(vu(0,_.idbdb,j),_._dbSchema);return!(P.add.length||P.change.some(M=>M.add.length||M.change.length))}(s,b)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),pu(s,b)}catch{}var k;Aa.push(s),S.onversionchange=Ae(b=>{r.vcFired=!0,s.on("versionchange").fire(b)}),S.onclose=Ae(b=>{s.on("close").fire(b)}),y&&function({indexedDB:b,IDBKeyRange:_},j){!Iu(b)&&j!==Fi&&Ou(b,_).put({name:j}).catch(_e)}(s._deps,v),p()},g)}).catch(p=>p&&p.name==="UnknownError"&&r.PR1398_maxLoop>0?(r.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),m()):Z.reject(p));return Z.race([i,(typeof navigator>"u"?Z.resolve():Sg()).then(m)]).then(()=>(l(),r.onReadyBeingFired=[],Z.resolve(wu(()=>s.on.ready.fire(s.vip))).then(function p(){if(r.onReadyBeingFired.length>0){let g=r.onReadyBeingFired.reduce(Tu,_e);return r.onReadyBeingFired=[],Z.resolve(wu(()=>g(s.vip))).then(p)}}))).finally(()=>{r.onReadyBeingFired=null,r.isBeingOpened=!1}).then(()=>s).catch(p=>{r.dbOpenError=p;try{h&&h.abort()}catch{}return i===r.openCanceller&&s._close(),Ye(p)}).finally(()=>{r.openComplete=!0,c()})}function ku(s){var r=c=>s.next(c),a=l(r),i=l(c=>s.throw(c));function l(c){return h=>{var y=c(h),m=y.value;return y.done?m:m&&typeof m.then=="function"?m.then(a,i):ot(m)?Promise.all(m).then(a,i):a(m)}}return l(r)()}function bg(s,r,a){var i=arguments.length;if(i<2)throw new fe.InvalidArgument("Too few arguments");for(var l=new Array(i-1);--i;)l[i-1]=arguments[i];return a=l.pop(),[s,Ch(l),a]}function Yh(s,r,a,i,l){return Z.resolve().then(()=>{const c=le.transless||le,h=s._createTransaction(r,a,s._dbSchema,i),y={trans:h,transless:c};if(i)h.idbtrans=i.idbtrans;else try{h.create(),s._state.PR1398_maxLoop=3}catch(v){return v.name===Ru.InvalidState&&s.isOpen()&&--s._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),s._close(),s.open().then(()=>Yh(s,r,a,null,l))):Ye(v)}const m=Eu(l);let p;m&&Bn();const g=Z.follow(()=>{if(p=l.call(h,h),p)if(m){var v=ur.bind(null,null);p.then(v,v)}else typeof p.next=="function"&&typeof p.throw=="function"&&(p=ku(p))},y);return(p&&typeof p.then=="function"?Z.resolve(p).then(v=>h.active?v:Ye(new fe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):g.then(()=>p)).then(v=>(i&&h._resolve(),h._completion.then(()=>v))).catch(v=>(h._reject(v),Ye(v)))})}function gi(s,r,a){const i=ot(s)?s.slice():[s];for(let l=0;l<a;++l)i.push(r);return i}const Cg={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return{...s,table(r){const a=s.table(r),{schema:i}=a,l={},c=[];function h(g,v,w){const S=za(g),N=l[S]=l[S]||[],k=g==null?0:typeof g=="string"?1:g.length,b=v>0,_={...w,isVirtual:b,keyTail:v,keyLength:k,extractKey:mu(g),unique:!b&&w.unique};return N.push(_),_.isPrimaryKey||c.push(_),k>1&&h(k===2?g[0]:g.slice(0,k-1),v+1,w),N.sort((j,P)=>j.keyTail-P.keyTail),_}const y=h(i.primaryKey.keyPath,0,i.primaryKey);l[":id"]=[y];for(const g of i.indexes)h(g.keyPath,0,g);function m(g){const v=g.query.index;return v.isVirtual?{...g,query:{index:v,range:(w=g.query.range,S=v.keyTail,{type:w.type===1?2:w.type,lower:gi(w.lower,w.lowerOpen?s.MAX_KEY:s.MIN_KEY,S),lowerOpen:!0,upper:gi(w.upper,w.upperOpen?s.MIN_KEY:s.MAX_KEY,S),upperOpen:!0})}}:g;var w,S}return{...a,schema:{...i,primaryKey:y,indexes:c,getIndexByKeyPath:function(g){const v=l[za(g)];return v&&v[0]}},count:g=>a.count(m(g)),query:g=>a.query(m(g)),openCursor(g){const{keyTail:v,isVirtual:w,keyLength:S}=g.query.index;return w?a.openCursor(m(g)).then(N=>N&&function(k){return Object.create(k,{continue:{value:function(_){_!=null?k.continue(gi(_,g.reverse?s.MAX_KEY:s.MIN_KEY,v)):g.unique?k.continue(k.key.slice(0,S).concat(g.reverse?s.MIN_KEY:s.MAX_KEY,v)):k.continue()}},continuePrimaryKey:{value(_,j){k.continuePrimaryKey(gi(_,s.MAX_KEY,v),j)}},primaryKey:{get:()=>k.primaryKey},key:{get(){const _=k.key;return S===1?_[0]:_.slice(0,S)}},value:{get:()=>k.value}})}(N)):a.openCursor(g)}}}}}};function Lu(s,r,a,i){return a=a||{},i=i||"",He(s).forEach(l=>{if(Ct(r,l)){var c=s[l],h=r[l];if(typeof c=="object"&&typeof h=="object"&&c&&h){const y=eu(c);y!==eu(h)?a[i+l]=r[l]:y==="Object"?Lu(c,h,a,i+l+"."):c!==h&&(a[i+l]=r[l])}else c!==h&&(a[i+l]=r[l])}else a[i+l]=void 0}),He(r).forEach(l=>{Ct(s,l)||(a[i+l]=r[l])}),a}const jg={stack:"dbcore",name:"HooksMiddleware",level:2,create:s=>({...s,table(r){const a=s.table(r),{primaryKey:i}=a.schema;return{...a,mutate(c){const h=le.trans,{deleting:y,creating:m,updating:p}=h.table(r).hook;switch(c.type){case"add":if(m.fire===_e)break;return h._promise("readwrite",()=>g(c),!0);case"put":if(m.fire===_e&&p.fire===_e)break;return h._promise("readwrite",()=>g(c),!0);case"delete":if(y.fire===_e)break;return h._promise("readwrite",()=>g(c),!0);case"deleteRange":if(y.fire===_e)break;return h._promise("readwrite",()=>function(w){return v(w.trans,w.range,1e4)}(c),!0)}return a.mutate(c);function g(w){const S=le.trans,N=w.keys||function(k,b){return b.type==="delete"?b.keys:b.keys||b.values.map(k.extractKey)}(i,w);if(!N)throw new Error("Keys missing");return(w=w.type==="add"||w.type==="put"?{...w,keys:N}:{...w}).type!=="delete"&&(w.values=[...w.values]),w.keys&&(w.keys=[...w.keys]),function(k,b,_){return b.type==="add"?Promise.resolve([]):k.getMany({trans:b.trans,keys:_,cache:"immutable"})}(a,w,N).then(k=>{const b=N.map((_,j)=>{const P=k[j],M={onerror:null,onsuccess:null};if(w.type==="delete")y.fire.call(M,_,P,S);else if(w.type==="add"||P===void 0){const A=m.fire.call(M,_,w.values[j],S);_==null&&A!=null&&(_=A,w.keys[j]=_,i.outbound||zt(w.values[j],i.keyPath,_))}else{const A=Lu(P,w.values[j]),F=p.fire.call(M,A,_,P,S);if(F){const D=w.values[j];Object.keys(F).forEach(V=>{Ct(D,V)?D[V]=F[V]:zt(D,V,F[V])})}}return M});return a.mutate(w).then(({failures:_,results:j,numFailures:P,lastResult:M})=>{for(let A=0;A<N.length;++A){const F=j?j[A]:N[A],D=b[A];F==null?D.onerror&&D.onerror(_[A]):D.onsuccess&&D.onsuccess(w.type==="put"&&k[A]?w.values[A]:F)}return{failures:_,results:j,numFailures:P,lastResult:M}}).catch(_=>(b.forEach(j=>j.onerror&&j.onerror(_)),Promise.reject(_)))})}function v(w,S,N){return a.query({trans:w,values:!1,query:{index:i,range:S},limit:N}).then(({result:k})=>g({type:"delete",keys:k,trans:w}).then(b=>b.numFailures>0?Promise.reject(b.failures[0]):k.length<N?{failures:[],numFailures:0,lastResult:void 0}:v(w,{...S,lower:k[k.length-1],lowerOpen:!0},N)))}}}}})};function qh(s,r,a){try{if(!r||r.keys.length<s.length)return null;const i=[];for(let l=0,c=0;l<r.keys.length&&c<s.length;++l)ct(r.keys[l],s[c])===0&&(i.push(a?Ga(r.values[l]):r.values[l]),++c);return i.length===s.length?i:null}catch{return null}}const Eg={stack:"dbcore",level:-1,create:s=>({table:r=>{const a=s.table(r);return{...a,getMany:i=>{if(!i.cache)return a.getMany(i);const l=qh(i.keys,i.trans._cache,i.cache==="clone");return l?Z.resolve(l):a.getMany(i).then(c=>(i.trans._cache={keys:i.keys,values:i.cache==="clone"?Ga(c):c},c))},mutate:i=>(i.type!=="add"&&(i.trans._cache=null),a.mutate(i))}}})};function Au(s){return!("from"in s)}const ar=function(s,r){if(!this){const a=new ar;return s&&"d"in s&&dt(a,s),a}dt(this,arguments.length?{d:1,from:s,to:arguments.length>1?r:s}:{d:0})};function Qa(s,r,a){const i=ct(r,a);if(isNaN(i))return;if(i>0)throw RangeError();if(Au(s))return dt(s,{from:r,to:a,d:1});const l=s.l,c=s.r;if(ct(a,s.from)<0)return l?Qa(l,r,a):s.l={from:r,to:a,d:1,l:null,r:null},oh(s);if(ct(r,s.to)>0)return c?Qa(c,r,a):s.r={from:r,to:a,d:1,l:null,r:null},oh(s);ct(r,s.from)<0&&(s.from=r,s.l=null,s.d=c?c.d+1:1),ct(a,s.to)>0&&(s.to=a,s.r=null,s.d=s.l?s.l.d+1:1);const h=!s.r;l&&!s.l&&Di(s,l),c&&h&&Di(s,c)}function Di(s,r){Au(r)||function a(i,{from:l,to:c,l:h,r:y}){Qa(i,l,c),h&&a(i,h),y&&a(i,y)}(s,r)}function _g(s,r){const a=Su(r);let i=a.next();if(i.done)return!1;let l=i.value;const c=Su(s);let h=c.next(l.from),y=h.value;for(;!i.done&&!h.done;){if(ct(y.from,l.to)<=0&&ct(y.to,l.from)>=0)return!0;ct(l.from,y.from)<0?l=(i=a.next(y.from)).value:y=(h=c.next(l.from)).value}return!1}function Su(s){let r=Au(s)?null:{s:0,n:s};return{next(a){const i=arguments.length>0;for(;r;)switch(r.s){case 0:if(r.s=1,i)for(;r.n.l&&ct(a,r.n.from)<0;)r={up:r,n:r.n.l,s:1};else for(;r.n.l;)r={up:r,n:r.n.l,s:1};case 1:if(r.s=2,!i||ct(a,r.n.to)<=0)return{value:r.n,done:!1};case 2:if(r.n.r){r.s=3,r={up:r,n:r.n.r,s:0};continue}case 3:r=r.up}return{done:!0}}}}function oh(s){var r,a;const i=(((r=s.r)===null||r===void 0?void 0:r.d)||0)-(((a=s.l)===null||a===void 0?void 0:a.d)||0),l=i>1?"r":i<-1?"l":"";if(l){const c=l==="r"?"l":"r",h={...s},y=s[l];s.from=y.from,s.to=y.to,s[l]=y[l],h[l]=y[c],s[c]=h,h.d=lh(h)}s.d=lh(s)}function lh({r:s,l:r}){return(s?r?Math.max(s.d,r.d):s.d:r?r.d:0)+1}Un(ar.prototype,{add(s){return Di(this,s),this},addKey(s){return Qa(this,s,s),this},addKeys(s){return s.forEach(r=>Qa(this,r,r)),this},[tu](){return Su(this)}});const Rg={stack:"dbcore",level:0,create:s=>{const r=s.schema.name,a=new ar(s.MIN_KEY,s.MAX_KEY);return{...s,table:i=>{const l=s.table(i),{schema:c}=l,{primaryKey:h}=c,{extractKey:y,outbound:m}=h,p={...l,mutate:w=>{const S=w.trans,N=S.mutatedParts||(S.mutatedParts={}),k=F=>{const D=`idb://${r}/${i}/${F}`;return N[D]||(N[D]=new ar)},b=k(""),_=k(":dels"),{type:j}=w;let[P,M]=w.type==="deleteRange"?[w.range]:w.type==="delete"?[w.keys]:w.values.length<50?[[],w.values]:[];const A=w.trans._cache;return l.mutate(w).then(F=>{if(ot(P)){j!=="delete"&&(P=F.results),b.addKeys(P);const D=qh(P,A);D||j==="add"||_.addKeys(P),(D||M)&&function(V,W,se,X){function de(me){const ye=V(me.name||"");function Pe(U){return U!=null?me.extractKey(U):null}const G=U=>me.multiEntry&&ot(U)?U.forEach(B=>ye.addKey(B)):ye.addKey(U);(se||X).forEach((U,B)=>{const q=se&&Pe(se[B]),z=X&&Pe(X[B]);ct(q,z)!==0&&(q!=null&&G(q),z!=null&&G(z))})}W.indexes.forEach(de)}(k,c,D,M)}else if(P){const D={from:P.lower,to:P.upper};_.add(D),b.add(D)}else b.add(a),_.add(a),c.indexes.forEach(D=>k(D.name).add(a));return F})}},g=({query:{index:w,range:S}})=>{var N,k;return[w,new ar((N=S.lower)!==null&&N!==void 0?N:s.MIN_KEY,(k=S.upper)!==null&&k!==void 0?k:s.MAX_KEY)]},v={get:w=>[h,new ar(w.key)],getMany:w=>[h,new ar().addKeys(w.keys)],count:g,query:g,openCursor:g};return He(v).forEach(w=>{p[w]=function(S){const{subscr:N}=le;if(N){const k=M=>{const A=`idb://${r}/${i}/${M}`;return N[A]||(N[A]=new ar)},b=k(""),_=k(":dels"),[j,P]=v[w](S);if(k(j.name||"").add(P),!j.isPrimaryKey){if(w!=="count"){const M=w==="query"&&m&&S.values&&l.query({...S,values:!1});return l[w].apply(this,arguments).then(A=>{if(w==="query"){if(m&&S.values)return M.then(({result:D})=>(b.addKeys(D),A));const F=S.values?A.result.map(y):A.result;S.values?b.addKeys(F):_.addKeys(F)}else if(w==="openCursor"){const F=A,D=S.values;return F&&Object.create(F,{key:{get:()=>(_.addKey(F.primaryKey),F.key)},primaryKey:{get(){const V=F.primaryKey;return _.addKey(V),V}},value:{get:()=>(D&&b.addKey(F.primaryKey),F.value)}})}return A})}_.add(a)}}return l[w].apply(this,arguments)}}),p}}}};class tn{constructor(r,a){this._middlewares={},this.verno=0;const i=tn.dependencies;this._options=a={addons:tn.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,...a},this._deps={indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange};const{addons:l}=a;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const c={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:_e,dbReadyPromise:null,cancelOpen:_e,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var h;c.dbReadyPromise=new Z(y=>{c.dbReadyResolve=y}),c.openCanceller=new Z((y,m)=>{c.cancelOpen=m}),this._state=c,this.name=r,this.on=Fa(this,"populate","blocked","versionchange","close",{ready:[Tu,_e]}),this.on.ready.subscribe=kh(this.on.ready.subscribe,y=>(m,p)=>{tn.vip(()=>{const g=this._state;if(g.openComplete)g.dbOpenError||Z.resolve().then(m),p&&y(m);else if(g.onReadyBeingFired)g.onReadyBeingFired.push(m),p&&y(m);else{y(m);const v=this;p||y(function w(){v.on.ready.unsubscribe(m),v.on.ready.unsubscribe(w)})}})}),this.Collection=(h=this,Ra(fg.prototype,function(y,m){this.db=h;let p=$h,g=null;if(m)try{p=m()}catch(N){g=N}const v=y._ctx,w=v.table,S=w.hook.reading.fire;this._ctx={table:w,index:v.index,isPrimKey:!v.index||w.schema.primKey.keyPath&&v.index===w.schema.primKey.name,range:p,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:g,or:v.or,valueMapper:S!==$a?S:null}})),this.Table=function(y){return Ra(dg.prototype,function(m,p,g){this.db=y,this._tx=g,this.name=m,this.schema=p,this.hook=y._allTables[m]?y._allTables[m].hook:Fa(null,{creating:[Z0,_e],reading:[J0,$a],updating:[tg,_e],deleting:[eg,_e]})})}(this),this.Transaction=function(y){return Ra(gg.prototype,function(m,p,g,v,w){this.db=y,this.mode=m,this.storeNames=p,this.schema=g,this.chromeTransactionDurability=v,this.idbtrans=null,this.on=Fa(this,"complete","error","abort"),this.parent=w||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Z((S,N)=>{this._resolve=S,this._reject=N}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},S=>{var N=this.active;return this.active=!1,this.on.error.fire(S),this.parent?this.parent._reject(S):N&&this.idbtrans&&this.idbtrans.abort(),Ye(S)})})}(this),this.Version=function(y){return Ra(kg.prototype,function(m){this.db=y,this._cfg={version:m,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(y){return Ra(Kh.prototype,function(m,p,g){this.db=y,this._ctx={table:m,index:p===":id"?null:p,or:g};const v=y._deps.indexedDB;if(!v)throw new fe.MissingAPI;this._cmp=this._ascending=v.cmp.bind(v),this._descending=(w,S)=>v.cmp(S,w),this._max=(w,S)=>v.cmp(w,S)>0?w:S,this._min=(w,S)=>v.cmp(w,S)<0?w:S,this._IDBKeyRange=y._deps.IDBKeyRange})}(this),this.on("versionchange",y=>{y.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",y=>{!y.newVersion||y.newVersion<y.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${y.oldVersion/10}`)}),this._maxKey=Va(a.IDBKeyRange),this._createTransaction=(y,m,p,g)=>new this.Transaction(y,m,p,this._options.chromeTransactionDurability,g),this._fireOnBlocked=y=>{this.on("blocked").fire(y),Aa.filter(m=>m.name===this.name&&m!==this&&!m._state.vcFired).map(m=>m.on("versionchange").fire(y))},this.use(Cg),this.use(jg),this.use(Rg),this.use(Eg),this.vip=Object.create(this,{_vip:{value:!0}}),l.forEach(y=>y(this))}version(r){if(isNaN(r)||r<.1)throw new fe.Type("Given version is not a positive number");if(r=Math.round(10*r)/10,this.idbdb||this._state.isBeingOpened)throw new fe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,r);const a=this._versions;var i=a.filter(l=>l._cfg.version===r)[0];return i||(i=new this.Version(r),a.push(i),a.sort(xg),i.stores({}),this._state.autoSchema=!1,i)}_whenReady(r){return this.idbdb&&(this._state.openComplete||le.letThrough||this._vip)?r():new Z((a,i)=>{if(this._state.openComplete)return i(new fe.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void i(new fe.DatabaseClosed);this.open().catch(_e)}this._state.dbReadyPromise.then(a,i)}).then(r)}use({stack:r,create:a,level:i,name:l}){l&&this.unuse({stack:r,name:l});const c=this._middlewares[r]||(this._middlewares[r]=[]);return c.push({stack:r,create:a,level:i??10,name:l}),c.sort((h,y)=>h.level-y.level),this}unuse({stack:r,name:a,create:i}){return r&&this._middlewares[r]&&(this._middlewares[r]=this._middlewares[r].filter(l=>i?l.create!==i:!!a&&l.name!==a)),this}open(){return Ng(this)}_close(){const r=this._state,a=Aa.indexOf(this);if(a>=0&&Aa.splice(a,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}r.dbReadyPromise=new Z(i=>{r.dbReadyResolve=i}),r.openCanceller=new Z((i,l)=>{r.cancelOpen=l})}close(){this._close();const r=this._state;this._options.autoOpen=!1,r.dbOpenError=new fe.DatabaseClosed,r.isBeingOpened&&r.cancelOpen(r.dbOpenError)}delete(){const r=arguments.length>0,a=this._state;return new Z((i,l)=>{const c=()=>{this.close();var h=this._deps.indexedDB.deleteDatabase(this.name);h.onsuccess=Ae(()=>{(function({indexedDB:y,IDBKeyRange:m},p){!Iu(y)&&p!==Fi&&Ou(y,m).delete(p).catch(_e)})(this._deps,this.name),i()}),h.onerror=Ht(l),h.onblocked=this._fireOnBlocked};if(r)throw new fe.InvalidArgument("Arguments not allowed in db.delete()");a.isBeingOpened?a.dbReadyPromise.then(c):c()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const r=this._state.dbOpenError;return r&&r.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return He(this._allTables).map(r=>this._allTables[r])}transaction(){const r=bg.apply(this,arguments);return this._transaction.apply(this,r)}_transaction(r,a,i){let l=le.trans;l&&l.db===this&&r.indexOf("!")===-1||(l=null);const c=r.indexOf("?")!==-1;let h,y;r=r.replace("!","").replace("?","");try{if(y=a.map(p=>{var g=p instanceof this.Table?p.name:p;if(typeof g!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return g}),r=="r"||r===Kl)h=Kl;else{if(r!="rw"&&r!=Hl)throw new fe.InvalidArgument("Invalid transaction mode: "+r);h=Hl}if(l){if(l.mode===Kl&&h===Hl){if(!c)throw new fe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");l=null}l&&y.forEach(p=>{if(l&&l.storeNames.indexOf(p)===-1){if(!c)throw new fe.SubTransaction("Table "+p+" not included in parent transaction.");l=null}}),c&&l&&!l.active&&(l=null)}}catch(p){return l?l._promise(null,(g,v)=>{v(p)}):Ye(p)}const m=Yh.bind(null,this,h,y,l,i);return l?l._promise(h,m,"lock"):le.trans?$n(le.transless,()=>this._whenReady(m)):this._whenReady(m)}table(r){if(!Ct(this._allTables,r))throw new fe.InvalidTable(`Table ${r} does not exist`);return this._allTables[r]}}const Tg=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Pg{constructor(r){this._subscribe=r}subscribe(r,a,i){return this._subscribe(r&&typeof r!="function"?r:{next:r,error:a,complete:i})}[Tg](){return this}}function Gh(s,r){return He(r).forEach(a=>{Di(s[a]||(s[a]=new ar),r[a])}),s}function Dg(s){let r,a=!1;const i=new Pg(l=>{const c=Eu(s);let h=!1,y={},m={};const p={get closed(){return h},unsubscribe:()=>{h=!0,Lr.storagemutated.unsubscribe(S)}};l.start&&l.start(p);let g=!1,v=!1;function w(){return He(m).some(k=>y[k]&&_g(y[k],m[k]))}const S=k=>{Gh(y,k),w()&&N()},N=()=>{if(g||h)return;y={};const k={},b=function(_){c&&Bn();const j=()=>Or(s,{subscr:_,trans:null}),P=le.trans?$n(le.transless,j):j();return c&&P.then(ur,ur),P}(k);v||(Lr(Ha,S),v=!0),g=!0,Promise.resolve(b).then(_=>{a=!0,r=_,g=!1,h||(w()?N():(y={},m=k,l.next&&l.next(_)))},_=>{g=!1,a=!1,l.error&&l.error(_),p.unsubscribe()})};return N(),p});return i.hasValue=()=>a,i.getValue=()=>r,i}let Nu;try{Nu={indexedDB:Oe.indexedDB||Oe.mozIndexedDB||Oe.webkitIndexedDB||Oe.msIndexedDB,IDBKeyRange:Oe.IDBKeyRange||Oe.webkitIDBKeyRange}}catch{Nu={indexedDB:null,IDBKeyRange:null}}const Gr=tn;function bi(s){let r=ir;try{ir=!0,Lr.storagemutated.fire(s)}finally{ir=r}}Un(Gr,{...vi,delete:s=>new Gr(s,{addons:[]}).delete(),exists:s=>new Gr(s,{addons:[]}).open().then(r=>(r.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(s){try{return function({indexedDB:r,IDBKeyRange:a}){return Iu(r)?Promise.resolve(r.databases()).then(i=>i.map(l=>l.name).filter(l=>l!==Fi)):Ou(r,a).toCollection().primaryKeys()}(Gr.dependencies).then(s)}catch{return Ye(new fe.MissingAPI)}},defineClass:()=>function(s){dt(this,s)},ignoreTransaction:s=>le.trans?$n(le.transless,s):s(),vip:wu,async:function(s){return function(){try{var r=ku(s.apply(this,arguments));return r&&typeof r.then=="function"?r:Z.resolve(r)}catch(a){return Ye(a)}}},spawn:function(s,r,a){try{var i=ku(s.apply(a,r||[]));return i&&typeof i.then=="function"?i:Z.resolve(i)}catch(l){return Ye(l)}},currentTransaction:{get:()=>le.trans||null},waitFor:function(s,r){const a=Z.resolve(typeof s=="function"?Gr.ignoreTransaction(s):s).timeout(r||6e4);return le.trans?le.trans.waitFor(a):a},Promise:Z,debug:{get:()=>Vt,set:s=>{Eh(s,s==="dexie"?()=>!0:Bh)}},derive:An,extend:dt,props:Un,override:kh,Events:Fa,on:Lr,liveQuery:Dg,extendObservabilitySet:Gh,getByKeyPath:lr,setByKeyPath:zt,delByKeyPath:function(s,r){typeof r=="string"?zt(s,r,void 0):"length"in r&&[].map.call(r,function(a){zt(s,a,void 0)})},shallowClone:bh,deepClone:Ga,getObjectDiff:Lu,cmp:ct,asap:Sh,minKey:fu,addons:[],connections:Aa,errnames:Ru,dependencies:Nu,semVer:th,version:th.split(".").map(s=>parseInt(s)).reduce((s,r,a)=>s+r/Math.pow(10,2*a))}),Gr.maxKey=Va(Gr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Lr(Ha,s=>{if(!ir){let r;Ai?(r=document.createEvent("CustomEvent"),r.initCustomEvent(Mr,!0,!0,s)):r=new CustomEvent(Mr,{detail:s}),ir=!0,dispatchEvent(r),ir=!1}}),addEventListener(Mr,({detail:s})=>{ir||bi(s)}));let ir=!1;if(typeof BroadcastChannel<"u"){const s=new BroadcastChannel(Mr);typeof s.unref=="function"&&s.unref(),Lr(Ha,r=>{ir||s.postMessage(r)}),s.onmessage=r=>{r.data&&bi(r.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Lr(Ha,r=>{try{ir||(typeof localStorage<"u"&&localStorage.setItem(Mr,JSON.stringify({trig:Math.random(),changedParts:r})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(a=>a.postMessage({type:Mr,changedParts:r})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",r=>{if(r.key===Mr){const a=JSON.parse(r.newValue);a&&bi(a.changedParts)}});const s=self.document&&navigator.serviceWorker;s&&s.addEventListener("message",function({data:r}){r&&r.type===Mr&&bi(r.changedParts)})}Z.rejectionMapper=function(s,r){if(!s||s instanceof Fn||s instanceof TypeError||s instanceof SyntaxError||!s.name||!Xf[s.name])return s;var a=new Xf[s.name](r||s.message,s);return"stack"in s&&or(a,"stack",{get:function(){return this.inner.stack}}),a},Eh(Vt,Bh);class Mg extends tn{constructor(){super("RaceTrackerDB"),this.version(2).stores({races:"++id, name, date, startTime, minRunner, maxRunner, createdAt",runners:"++id, [raceId+number], raceId, number, status, recordedTime, notes",segments:"++id, raceId, startTime, endTime, called",settings:"key, value"}),this.version(3).stores({races:"++id, name, date, startTime, minRunner, maxRunner, createdAt",runners:"++id, [raceId+number], raceId, number, status, recordedTime, notes",segments:"++id, raceId, startTime, endTime, called",settings:"key, value",checkpoints:"++id, raceId, number, name",checkpoint_results:"++id, [raceId+runnerNumber+checkpointNumber], raceId, runnerNumber, checkpointNumber, callInTime, markOffTime, status, notes"}).upgrade(r=>r.table("races").toCollection().modify(a=>{}))}}const ie=new Mg;class Ne{static async saveRace(r){try{const a=await ie.races.add({...r,createdAt:new Date().toISOString()});if(r.checkpoints&&r.checkpoints.length>0){const l=r.checkpoints.map(c=>({raceId:a,number:c.number,name:c.name||`Checkpoint ${c.number}`}));await ie.checkpoints.bulkAdd(l)}else await ie.checkpoints.add({raceId:a,number:1,name:"Checkpoint 1"});const i=[];for(let l=r.minRunner;l<=r.maxRunner;l++)i.push({raceId:a,number:l,status:"not-started",recordedTime:null,notes:null});return await ie.runners.bulkAdd(i),a}catch(a){throw console.error("Error saving race:",a),new Error("Failed to save race configuration")}}static async getRace(r){try{const a=await ie.races.get(r);if(!a)throw new Error("Race not found");return a}catch(a){throw console.error("Error getting race:",a),new Error("Failed to load race")}}static async getCurrentRace(){try{const r=await ie.races.orderBy("createdAt").reverse().limit(1).toArray();return r.length>0?r[0]:null}catch(r){return console.error("Error getting current race:",r),null}}static async getAllRaces(){try{return await ie.races.orderBy("createdAt").reverse().toArray()}catch(r){return console.error("Error getting all races:",r),[]}}static async deleteRace(r){try{await ie.transaction("rw",ie.races,ie.runners,ie.segments,async()=>{await ie.races.delete(r),await ie.runners.where("raceId").equals(r).delete(),await ie.segments.where("raceId").equals(r).delete()})}catch(a){throw console.error("Error deleting race:",a),new Error("Failed to delete race")}}static async getRunners(r){try{return await ie.runners.where("raceId").equals(r).toArray()}catch(a){return console.error("Error getting runners:",a),[]}}static async updateRunner(r,a,i){try{const l=await ie.runners.where(["raceId","number"]).equals([r,a]).first();if(!l)throw new Error(`Runner ${a} not found`);return await ie.runners.update(l.id,i),{...l,...i}}catch(l){throw console.error("Error updating runner:",l),new Error(`Failed to update runner ${a}`)}}static async markRunnerPassed(r,a,i=null){const l=i||new Date().toISOString();return this.updateRunner(r,a,{status:"passed",recordedTime:l})}static async markRunnerStatus(r,a,i){const l={status:i};return i!=="passed"&&(l.recordedTime=null),this.updateRunner(r,a,l)}static async bulkUpdateRunners(r,a,i){try{const l=await ie.runners.where("raceId").equals(r).and(h=>a.includes(h.number)).toArray(),c=l.map(h=>ie.runners.update(h.id,i));return await Promise.all(c),l.map(h=>({...h,...i}))}catch(l){throw console.error("Error bulk updating runners:",l),new Error("Failed to update multiple runners")}}static async getCalledSegments(r){try{return await ie.segments.where("raceId").equals(r).toArray()}catch(a){return console.error("Error getting called segments:",a),[]}}static async markSegmentCalled(r,a,i){try{await ie.segments.add({raceId:r,startTime:a,endTime:i,called:!0})}catch(l){throw console.error("Error marking segment called:",l),new Error("Failed to mark segment as called")}}static async isSegmentCalled(r,a){try{return(await this.getCalledSegments(r)).some(l=>{const c=new Date(l.startTime),h=new Date(l.endTime),y=new Date(a);return y>=c&&y<h})}catch(i){return console.error("Error checking if segment is called:",i),!1}}static async saveSetting(r,a){try{await ie.settings.put({key:r,value:a})}catch(i){throw console.error("Error saving setting:",i),new Error(`Failed to save setting: ${r}`)}}static async getSetting(r,a=null){try{const i=await ie.settings.get(r);return i?i.value:a}catch(i){return console.error("Error getting setting:",i),a}}static async getAllSettings(){try{return(await ie.settings.toArray()).reduce((a,i)=>(a[i.key]=i.value,a),{})}catch(r){return console.error("Error getting all settings:",r),{}}}static async clearAllData(){try{await ie.transaction("rw",ie.races,ie.runners,ie.segments,ie.settings,async()=>{await ie.races.clear(),await ie.runners.clear(),await ie.segments.clear(),await ie.settings.clear()})}catch(r){throw console.error("Error clearing all data:",r),new Error("Failed to clear all data")}}static async exportRaceConfig(r){try{const a=await this.getRace(r);return{raceConfig:{name:a.name,date:a.date,startTime:a.startTime,minRunner:a.minRunner,maxRunner:a.maxRunner},exportedAt:new Date().toISOString(),version:"1.0.0"}}catch(a){throw console.error("Error exporting race config:",a),new Error("Failed to export race configuration")}}static async importRaceConfig(r){try{const{raceConfig:a}=r;if(!a||!a.name||!a.date||!a.startTime||typeof a.minRunner!="number"||typeof a.maxRunner!="number")throw new Error("Invalid race configuration data");const i={...a,id:void 0};return await this.saveRace(i)}catch(a){throw console.error("Error importing race config:",a),new Error("Failed to import race configuration")}}static async exportRaceResults(r,a,i,l="csv"){try{if(l==="csv")return this.generateCSV(a,i);throw new Error("Unsupported export format")}catch(c){throw console.error("Error exporting race results:",c),new Error("Failed to export race results")}}static generateCSV(r,a){const i=["Runner Number","Status","Recorded Time","Time from Start","Notes"],l=new Date(`${r.date}T${r.startTime}`),c=a.map(y=>{let m="";if(y.recordedTime&&y.status==="passed"){const g=new Date(y.recordedTime).getTime()-l.getTime(),v=Math.floor(g/(1e3*60*60)),w=Math.floor(g%(1e3*60*60)/(1e3*60)),S=Math.floor(g%(1e3*60)/1e3);m=`${v.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`}return[y.number,y.status,y.recordedTime?new Date(y.recordedTime).toLocaleString():"",m,y.notes||""]});return c.sort((y,m)=>y[0]-m[0]),{content:[`# Race: ${r.name}`,`# Date: ${r.date}`,`# Start Time: ${r.startTime}`,`# Exported: ${new Date().toLocaleString()}`,"",i.join(","),...c.map(y=>y.map(m=>typeof m=="string"&&m.includes(",")?`"${m}"`:m).join(","))].join(`
`),filename:`race-results-${r.name.replace(/\s+/g,"-")}-${r.date}.csv`,mimeType:"text/csv"}}static async getDatabaseSize(){try{const r=await ie.races.count(),a=await ie.runners.count(),i=await ie.segments.count(),l=await ie.settings.count();return{races:r,runners:a,segments:i,settings:l,total:r+a+i+l}}catch(r){return console.error("Error getting database size:",r),{races:0,runners:0,segments:0,settings:0,total:0}}}static async cleanupOldRaces(r=30){try{const a=new Date;a.setDate(a.getDate()-r);const i=await ie.races.where("createdAt").below(a.toISOString()).toArray();for(const l of i)await this.deleteRace(l.id);return i.length}catch(a){return console.error("Error cleaning up old races:",a),0}}static async getCheckpoints(r){try{return await ie.checkpoints.where("raceId").equals(r).sortBy("number")}catch(a){return console.error("Error getting checkpoints:",a),[]}}static async addCheckpoint(r,a,i){try{return await ie.checkpoints.add({raceId:r,number:a,name:i||`Checkpoint ${a}`})}catch(l){throw console.error("Error adding checkpoint:",l),new Error("Failed to add checkpoint")}}static async updateCheckpoint(r,a){try{await ie.checkpoints.update(r,a)}catch(i){throw console.error("Error updating checkpoint:",i),new Error("Failed to update checkpoint")}}static async deleteCheckpoint(r){try{await ie.transaction("rw",ie.checkpoints,ie.checkpoint_results,async()=>{await ie.checkpoints.delete(r);const a=await ie.checkpoints.get(r);a&&await ie.checkpoint_results.where(["raceId","checkpointNumber"]).equals([a.raceId,a.number]).delete()})}catch(a){throw console.error("Error deleting checkpoint:",a),new Error("Failed to delete checkpoint")}}static async getCheckpointResults(r,a=null){try{return a!==null?await ie.checkpoint_results.where(["raceId","checkpointNumber"]).equals([r,a]).toArray():await ie.checkpoint_results.where("raceId").equals(r).toArray()}catch(i){return console.error("Error getting checkpoint results:",i),[]}}static async recordCheckpointResult(r,a,i,l){try{const c=await ie.checkpoint_results.where(["raceId","runnerNumber","checkpointNumber"]).equals([r,a,i]).first();return c?(await ie.checkpoint_results.update(c.id,l),c.id):await ie.checkpoint_results.add({raceId:r,runnerNumber:a,checkpointNumber:i,...l})}catch(c){throw console.error("Error recording checkpoint result:",c),new Error("Failed to record checkpoint result")}}static async markRunnerAtCheckpoint(r,a,i,l=null,c=null,h="passed"){try{const y={status:h,callInTime:l||new Date().toISOString(),markOffTime:c||new Date().toISOString()};await this.recordCheckpointResult(r,a,i,y),h==="passed"?await this.markRunnerPassed(r,a,c||y.markOffTime):await this.markRunnerStatus(r,a,h)}catch(y){throw console.error("Error marking runner at checkpoint:",y),new Error("Failed to mark runner at checkpoint")}}static async bulkMarkRunnersAtCheckpoint(r,a,i,l=null,c=null,h="passed"){try{const y=c||l||new Date().toISOString(),m=a.map(p=>({raceId:r,runnerNumber:p,checkpointNumber:i,status:h,callInTime:l||y,markOffTime:c||y}));for(const p of m)await this.recordCheckpointResult(r,p.runnerNumber,i,{status:p.status,callInTime:p.callInTime,markOffTime:p.markOffTime});h==="passed"?await this.bulkUpdateRunners(r,a,{status:"passed",recordedTime:y}):await this.bulkUpdateRunners(r,a,{status:h})}catch(y){throw console.error("Error bulk marking runners at checkpoint:",y),new Error("Failed to bulk mark runners at checkpoint")}}static async exportCheckpointResults(r,a){try{const i=await this.getRace(r),l=await this.getCheckpoints(r),c=await this.getCheckpointResults(r,a),h=l.find(y=>y.number===a);return{raceConfig:{id:i.id,name:i.name,date:i.date,startTime:i.startTime,minRunner:i.minRunner,maxRunner:i.maxRunner,checkpoints:l.map(y=>({number:y.number,name:y.name}))},checkpointResults:c,checkpointNumber:a,checkpointName:h?.name||`Checkpoint ${a}`,exportedAt:new Date().toISOString(),version:"1.0.0",exportType:"checkpoint-results"}}catch(i){throw console.error("Error exporting checkpoint results:",i),new Error("Failed to export checkpoint results")}}static async importCheckpointResults(r){try{const{raceConfig:a,checkpointResults:i,checkpointNumber:l}=r;if(!a||!i||l===void 0)throw new Error("Invalid checkpoint export data");let c;const h=await ie.races.where("name").equals(a.name).first();h?c=h.id:c=await this.saveRace(a);for(const y of i)await this.recordCheckpointResult(c,y.runnerNumber,y.checkpointNumber,{callInTime:y.callInTime,markOffTime:y.markOffTime,status:y.status,notes:y.notes});return c}catch(a){throw console.error("Error importing checkpoint results:",a),new Error("Failed to import checkpoint results")}}}function Mi(s){"@babel/helpers - typeof";return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mi(s)}function cr(s){if(s===null||s===!0||s===!1)return NaN;var r=Number(s);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}function tt(s,r){if(r.length<s)throw new TypeError(s+" argument"+(s>1?"s":"")+" required, but only "+r.length+" present")}function Qt(s){tt(1,arguments);var r=Object.prototype.toString.call(s);return s instanceof Date||Mi(s)==="object"&&r==="[object Date]"?new Date(s.getTime()):typeof s=="number"||r==="[object Number]"?new Date(s):((typeof s=="string"||r==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Xh(s,r){tt(2,arguments);var a=Qt(s).getTime(),i=cr(r);return new Date(a+i)}var Og={};function zi(){return Og}function Ig(s){var r=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return r.setUTCFullYear(s.getFullYear()),s.getTime()-r.getTime()}var Lg=6e4;function Ag(s,r){tt(2,arguments);var a=cr(r);return Xh(s,a*Lg)}var Jh=6e4,Zh=36e5;function Fg(s){return tt(1,arguments),s instanceof Date||Mi(s)==="object"&&Object.prototype.toString.call(s)==="[object Date]"}function zg(s){if(tt(1,arguments),!Fg(s)&&typeof s!="number")return!1;var r=Qt(s);return!isNaN(Number(r))}function Ug(s,r){tt(2,arguments);var a=cr(r);return Xh(s,-a)}var Bg=864e5;function $g(s){tt(1,arguments);var r=Qt(s),a=r.getTime();r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0);var i=r.getTime(),l=a-i;return Math.floor(l/Bg)+1}function Oi(s){tt(1,arguments);var r=1,a=Qt(s),i=a.getUTCDay(),l=(i<r?7:0)+i-r;return a.setUTCDate(a.getUTCDate()-l),a.setUTCHours(0,0,0,0),a}function em(s){tt(1,arguments);var r=Qt(s),a=r.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(a+1,0,4),i.setUTCHours(0,0,0,0);var l=Oi(i),c=new Date(0);c.setUTCFullYear(a,0,4),c.setUTCHours(0,0,0,0);var h=Oi(c);return r.getTime()>=l.getTime()?a+1:r.getTime()>=h.getTime()?a:a-1}function Wg(s){tt(1,arguments);var r=em(s),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var i=Oi(a);return i}var Kg=6048e5;function Hg(s){tt(1,arguments);var r=Qt(s),a=Oi(r).getTime()-Wg(r).getTime();return Math.round(a/Kg)+1}function Ii(s,r){var a,i,l,c,h,y,m,p;tt(1,arguments);var g=zi(),v=cr((a=(i=(l=(c=r?.weekStartsOn)!==null&&c!==void 0?c:r==null||(h=r.locale)===null||h===void 0||(y=h.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&l!==void 0?l:g.weekStartsOn)!==null&&i!==void 0?i:(m=g.locale)===null||m===void 0||(p=m.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&a!==void 0?a:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=Qt(s),S=w.getUTCDay(),N=(S<v?7:0)+S-v;return w.setUTCDate(w.getUTCDate()-N),w.setUTCHours(0,0,0,0),w}function tm(s,r){var a,i,l,c,h,y,m,p;tt(1,arguments);var g=Qt(s),v=g.getUTCFullYear(),w=zi(),S=cr((a=(i=(l=(c=r?.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(h=r.locale)===null||h===void 0||(y=h.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&l!==void 0?l:w.firstWeekContainsDate)!==null&&i!==void 0?i:(m=w.locale)===null||m===void 0||(p=m.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=new Date(0);N.setUTCFullYear(v+1,0,S),N.setUTCHours(0,0,0,0);var k=Ii(N,r),b=new Date(0);b.setUTCFullYear(v,0,S),b.setUTCHours(0,0,0,0);var _=Ii(b,r);return g.getTime()>=k.getTime()?v+1:g.getTime()>=_.getTime()?v:v-1}function Vg(s,r){var a,i,l,c,h,y,m,p;tt(1,arguments);var g=zi(),v=cr((a=(i=(l=(c=r?.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(h=r.locale)===null||h===void 0||(y=h.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&l!==void 0?l:g.firstWeekContainsDate)!==null&&i!==void 0?i:(m=g.locale)===null||m===void 0||(p=m.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:1),w=tm(s,r),S=new Date(0);S.setUTCFullYear(w,0,v),S.setUTCHours(0,0,0,0);var N=Ii(S,r);return N}var Qg=6048e5;function Yg(s,r){tt(1,arguments);var a=Qt(s),i=Ii(a,r).getTime()-Vg(a,r).getTime();return Math.round(i/Qg)+1}function je(s,r){for(var a=s<0?"-":"",i=Math.abs(s).toString();i.length<r;)i="0"+i;return a+i}var Tr={y:function(r,a){var i=r.getUTCFullYear(),l=i>0?i:1-i;return je(a==="yy"?l%100:l,a.length)},M:function(r,a){var i=r.getUTCMonth();return a==="M"?String(i+1):je(i+1,2)},d:function(r,a){return je(r.getUTCDate(),a.length)},a:function(r,a){var i=r.getUTCHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h:function(r,a){return je(r.getUTCHours()%12||12,a.length)},H:function(r,a){return je(r.getUTCHours(),a.length)},m:function(r,a){return je(r.getUTCMinutes(),a.length)},s:function(r,a){return je(r.getUTCSeconds(),a.length)},S:function(r,a){var i=a.length,l=r.getUTCMilliseconds(),c=Math.floor(l*Math.pow(10,i-3));return je(c,a.length)}},On={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qg={G:function(r,a,i){var l=r.getUTCFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return i.era(l,{width:"abbreviated"});case"GGGGG":return i.era(l,{width:"narrow"});case"GGGG":default:return i.era(l,{width:"wide"})}},y:function(r,a,i){if(a==="yo"){var l=r.getUTCFullYear(),c=l>0?l:1-l;return i.ordinalNumber(c,{unit:"year"})}return Tr.y(r,a)},Y:function(r,a,i,l){var c=tm(r,l),h=c>0?c:1-c;if(a==="YY"){var y=h%100;return je(y,2)}return a==="Yo"?i.ordinalNumber(h,{unit:"year"}):je(h,a.length)},R:function(r,a){var i=em(r);return je(i,a.length)},u:function(r,a){var i=r.getUTCFullYear();return je(i,a.length)},Q:function(r,a,i){var l=Math.ceil((r.getUTCMonth()+1)/3);switch(a){case"Q":return String(l);case"QQ":return je(l,2);case"Qo":return i.ordinalNumber(l,{unit:"quarter"});case"QQQ":return i.quarter(l,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(l,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(l,{width:"wide",context:"formatting"})}},q:function(r,a,i){var l=Math.ceil((r.getUTCMonth()+1)/3);switch(a){case"q":return String(l);case"qq":return je(l,2);case"qo":return i.ordinalNumber(l,{unit:"quarter"});case"qqq":return i.quarter(l,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(l,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(l,{width:"wide",context:"standalone"})}},M:function(r,a,i){var l=r.getUTCMonth();switch(a){case"M":case"MM":return Tr.M(r,a);case"Mo":return i.ordinalNumber(l+1,{unit:"month"});case"MMM":return i.month(l,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(l,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(l,{width:"wide",context:"formatting"})}},L:function(r,a,i){var l=r.getUTCMonth();switch(a){case"L":return String(l+1);case"LL":return je(l+1,2);case"Lo":return i.ordinalNumber(l+1,{unit:"month"});case"LLL":return i.month(l,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(l,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(l,{width:"wide",context:"standalone"})}},w:function(r,a,i,l){var c=Yg(r,l);return a==="wo"?i.ordinalNumber(c,{unit:"week"}):je(c,a.length)},I:function(r,a,i){var l=Hg(r);return a==="Io"?i.ordinalNumber(l,{unit:"week"}):je(l,a.length)},d:function(r,a,i){return a==="do"?i.ordinalNumber(r.getUTCDate(),{unit:"date"}):Tr.d(r,a)},D:function(r,a,i){var l=$g(r);return a==="Do"?i.ordinalNumber(l,{unit:"dayOfYear"}):je(l,a.length)},E:function(r,a,i){var l=r.getUTCDay();switch(a){case"E":case"EE":case"EEE":return i.day(l,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(l,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(l,{width:"short",context:"formatting"});case"EEEE":default:return i.day(l,{width:"wide",context:"formatting"})}},e:function(r,a,i,l){var c=r.getUTCDay(),h=(c-l.weekStartsOn+8)%7||7;switch(a){case"e":return String(h);case"ee":return je(h,2);case"eo":return i.ordinalNumber(h,{unit:"day"});case"eee":return i.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(c,{width:"short",context:"formatting"});case"eeee":default:return i.day(c,{width:"wide",context:"formatting"})}},c:function(r,a,i,l){var c=r.getUTCDay(),h=(c-l.weekStartsOn+8)%7||7;switch(a){case"c":return String(h);case"cc":return je(h,a.length);case"co":return i.ordinalNumber(h,{unit:"day"});case"ccc":return i.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(c,{width:"narrow",context:"standalone"});case"cccccc":return i.day(c,{width:"short",context:"standalone"});case"cccc":default:return i.day(c,{width:"wide",context:"standalone"})}},i:function(r,a,i){var l=r.getUTCDay(),c=l===0?7:l;switch(a){case"i":return String(c);case"ii":return je(c,a.length);case"io":return i.ordinalNumber(c,{unit:"day"});case"iii":return i.day(l,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(l,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(l,{width:"short",context:"formatting"});case"iiii":default:return i.day(l,{width:"wide",context:"formatting"})}},a:function(r,a,i){var l=r.getUTCHours(),c=l/12>=1?"pm":"am";switch(a){case"a":case"aa":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(c,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(r,a,i){var l=r.getUTCHours(),c;switch(l===12?c=On.noon:l===0?c=On.midnight:c=l/12>=1?"pm":"am",a){case"b":case"bb":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(c,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(r,a,i){var l=r.getUTCHours(),c;switch(l>=17?c=On.evening:l>=12?c=On.afternoon:l>=4?c=On.morning:c=On.night,a){case"B":case"BB":case"BBB":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(c,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(r,a,i){if(a==="ho"){var l=r.getUTCHours()%12;return l===0&&(l=12),i.ordinalNumber(l,{unit:"hour"})}return Tr.h(r,a)},H:function(r,a,i){return a==="Ho"?i.ordinalNumber(r.getUTCHours(),{unit:"hour"}):Tr.H(r,a)},K:function(r,a,i){var l=r.getUTCHours()%12;return a==="Ko"?i.ordinalNumber(l,{unit:"hour"}):je(l,a.length)},k:function(r,a,i){var l=r.getUTCHours();return l===0&&(l=24),a==="ko"?i.ordinalNumber(l,{unit:"hour"}):je(l,a.length)},m:function(r,a,i){return a==="mo"?i.ordinalNumber(r.getUTCMinutes(),{unit:"minute"}):Tr.m(r,a)},s:function(r,a,i){return a==="so"?i.ordinalNumber(r.getUTCSeconds(),{unit:"second"}):Tr.s(r,a)},S:function(r,a){return Tr.S(r,a)},X:function(r,a,i,l){var c=l._originalDate||r,h=c.getTimezoneOffset();if(h===0)return"Z";switch(a){case"X":return ch(h);case"XXXX":case"XX":return Xr(h);case"XXXXX":case"XXX":default:return Xr(h,":")}},x:function(r,a,i,l){var c=l._originalDate||r,h=c.getTimezoneOffset();switch(a){case"x":return ch(h);case"xxxx":case"xx":return Xr(h);case"xxxxx":case"xxx":default:return Xr(h,":")}},O:function(r,a,i,l){var c=l._originalDate||r,h=c.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+uh(h,":");case"OOOO":default:return"GMT"+Xr(h,":")}},z:function(r,a,i,l){var c=l._originalDate||r,h=c.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+uh(h,":");case"zzzz":default:return"GMT"+Xr(h,":")}},t:function(r,a,i,l){var c=l._originalDate||r,h=Math.floor(c.getTime()/1e3);return je(h,a.length)},T:function(r,a,i,l){var c=l._originalDate||r,h=c.getTime();return je(h,a.length)}};function uh(s,r){var a=s>0?"-":"+",i=Math.abs(s),l=Math.floor(i/60),c=i%60;if(c===0)return a+String(l);var h=r;return a+String(l)+h+je(c,2)}function ch(s,r){if(s%60===0){var a=s>0?"-":"+";return a+je(Math.abs(s)/60,2)}return Xr(s,r)}function Xr(s,r){var a=r||"",i=s>0?"-":"+",l=Math.abs(s),c=je(Math.floor(l/60),2),h=je(l%60,2);return i+c+a+h}var dh=function(r,a){switch(r){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},rm=function(r,a){switch(r){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},Gg=function(r,a){var i=r.match(/(P+)(p+)?/)||[],l=i[1],c=i[2];if(!c)return dh(r,a);var h;switch(l){case"P":h=a.dateTime({width:"short"});break;case"PP":h=a.dateTime({width:"medium"});break;case"PPP":h=a.dateTime({width:"long"});break;case"PPPP":default:h=a.dateTime({width:"full"});break}return h.replace("{{date}}",dh(l,a)).replace("{{time}}",rm(c,a))},Xg={p:rm,P:Gg},Jg=["D","DD"],Zg=["YY","YYYY"];function ey(s){return Jg.indexOf(s)!==-1}function ty(s){return Zg.indexOf(s)!==-1}function fh(s,r,a){if(s==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(r,"`) for formatting years to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(s==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(r,"`) for formatting years to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(s==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(r,"`) for formatting days of the month to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(s==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(r,"`) for formatting days of the month to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var ry={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ny=function(r,a,i){var l,c=ry[r];return typeof c=="string"?l=c:a===1?l=c.one:l=c.other.replace("{{count}}",a.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+l:l+" ago":l};function Gl(s){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.width?String(r.width):s.defaultWidth,i=s.formats[a]||s.formats[s.defaultWidth];return i}}var ay={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sy={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iy={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oy={date:Gl({formats:ay,defaultWidth:"full"}),time:Gl({formats:sy,defaultWidth:"full"}),dateTime:Gl({formats:iy,defaultWidth:"full"})},ly={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uy=function(r,a,i,l){return ly[r]};function Ta(s){return function(r,a){var i=a!=null&&a.context?String(a.context):"standalone",l;if(i==="formatting"&&s.formattingValues){var c=s.defaultFormattingWidth||s.defaultWidth,h=a!=null&&a.width?String(a.width):c;l=s.formattingValues[h]||s.formattingValues[c]}else{var y=s.defaultWidth,m=a!=null&&a.width?String(a.width):s.defaultWidth;l=s.values[m]||s.values[y]}var p=s.argumentCallback?s.argumentCallback(r):r;return l[p]}}var cy={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dy={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fy={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hy={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},my={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},py={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gy=function(r,a){var i=Number(r),l=i%100;if(l>20||l<10)switch(l%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},yy={ordinalNumber:gy,era:Ta({values:cy,defaultWidth:"wide"}),quarter:Ta({values:dy,defaultWidth:"wide",argumentCallback:function(r){return r-1}}),month:Ta({values:fy,defaultWidth:"wide"}),day:Ta({values:hy,defaultWidth:"wide"}),dayPeriod:Ta({values:my,defaultWidth:"wide",formattingValues:py,defaultFormattingWidth:"wide"})};function Pa(s){return function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.width,l=i&&s.matchPatterns[i]||s.matchPatterns[s.defaultMatchWidth],c=r.match(l);if(!c)return null;var h=c[0],y=i&&s.parsePatterns[i]||s.parsePatterns[s.defaultParseWidth],m=Array.isArray(y)?xy(y,function(v){return v.test(h)}):vy(y,function(v){return v.test(h)}),p;p=s.valueCallback?s.valueCallback(m):m,p=a.valueCallback?a.valueCallback(p):p;var g=r.slice(h.length);return{value:p,rest:g}}}function vy(s,r){for(var a in s)if(s.hasOwnProperty(a)&&r(s[a]))return a}function xy(s,r){for(var a=0;a<s.length;a++)if(r(s[a]))return a}function wy(s){return function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.match(s.matchPattern);if(!i)return null;var l=i[0],c=r.match(s.parsePattern);if(!c)return null;var h=s.valueCallback?s.valueCallback(c[0]):c[0];h=a.valueCallback?a.valueCallback(h):h;var y=r.slice(l.length);return{value:h,rest:y}}}var ky=/^(\d+)(th|st|nd|rd)?/i,Sy=/\d+/i,Ny={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},by={any:[/^b/i,/^(a|c)/i]},Cy={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jy={any:[/1/i,/2/i,/3/i,/4/i]},Ey={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_y={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ry={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ty={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Py={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Dy={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},My={ordinalNumber:wy({matchPattern:ky,parsePattern:Sy,valueCallback:function(r){return parseInt(r,10)}}),era:Pa({matchPatterns:Ny,defaultMatchWidth:"wide",parsePatterns:by,defaultParseWidth:"any"}),quarter:Pa({matchPatterns:Cy,defaultMatchWidth:"wide",parsePatterns:jy,defaultParseWidth:"any",valueCallback:function(r){return r+1}}),month:Pa({matchPatterns:Ey,defaultMatchWidth:"wide",parsePatterns:_y,defaultParseWidth:"any"}),day:Pa({matchPatterns:Ry,defaultMatchWidth:"wide",parsePatterns:Ty,defaultParseWidth:"any"}),dayPeriod:Pa({matchPatterns:Py,defaultMatchWidth:"any",parsePatterns:Dy,defaultParseWidth:"any"})},Oy={code:"en-US",formatDistance:ny,formatLong:oy,formatRelative:uy,localize:yy,match:My,options:{weekStartsOn:0,firstWeekContainsDate:1}},Iy=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ly=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ay=/^'([^]*?)'?$/,Fy=/''/g,zy=/[a-zA-Z]/;function Xl(s,r,a){var i,l,c,h,y,m,p,g,v,w,S,N,k,b;tt(2,arguments);var _=String(r),j=zi(),P=(i=(l=void 0)!==null&&l!==void 0?l:j.locale)!==null&&i!==void 0?i:Oy,M=cr((c=(h=(y=(m=void 0)!==null&&m!==void 0?m:void 0)!==null&&y!==void 0?y:j.firstWeekContainsDate)!==null&&h!==void 0?h:(p=j.locale)===null||p===void 0||(g=p.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&c!==void 0?c:1);if(!(M>=1&&M<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=cr((v=(w=(S=(N=void 0)!==null&&N!==void 0?N:void 0)!==null&&S!==void 0?S:j.weekStartsOn)!==null&&w!==void 0?w:(k=j.locale)===null||k===void 0||(b=k.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&v!==void 0?v:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!P.localize)throw new RangeError("locale must contain localize property");if(!P.formatLong)throw new RangeError("locale must contain formatLong property");var F=Qt(s);if(!zg(F))throw new RangeError("Invalid time value");var D=Ig(F),V=Ug(F,D),W={firstWeekContainsDate:M,weekStartsOn:A,locale:P,_originalDate:F},se=_.match(Ly).map(function(X){var de=X[0];if(de==="p"||de==="P"){var me=Xg[de];return me(X,P.formatLong)}return X}).join("").match(Iy).map(function(X){if(X==="''")return"'";var de=X[0];if(de==="'")return Uy(X);var me=qg[de];if(me)return ty(X)&&fh(X,r,String(s)),ey(X)&&fh(X,r,String(s)),me(V,X,P.localize,W);if(de.match(zy))throw new RangeError("Format string contains an unescaped latin alphabet character `"+de+"`");return X}).join("");return se}function Uy(s){var r=s.match(Ay);return r?r[1].replace(Fy,"'"):s}function Nt(s,r){var a;tt(1,arguments);var i=cr((a=void 0)!==null&&a!==void 0?a:2);if(i!==2&&i!==1&&i!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof s=="string"||Object.prototype.toString.call(s)==="[object String]"))return new Date(NaN);var l=Ky(s),c;if(l.date){var h=Hy(l.date,i);c=Vy(h.restDateString,h.year)}if(!c||isNaN(c.getTime()))return new Date(NaN);var y=c.getTime(),m=0,p;if(l.time&&(m=Qy(l.time),isNaN(m)))return new Date(NaN);if(l.timezone){if(p=Yy(l.timezone),isNaN(p))return new Date(NaN)}else{var g=new Date(y+m),v=new Date(0);return v.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),v.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),v}return new Date(y+m+p)}var yi={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},By=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,$y=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Wy=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ky(s){var r={},a=s.split(yi.dateTimeDelimiter),i;if(a.length>2)return r;if(/:/.test(a[0])?i=a[0]:(r.date=a[0],i=a[1],yi.timeZoneDelimiter.test(r.date)&&(r.date=s.split(yi.timeZoneDelimiter)[0],i=s.substr(r.date.length,s.length))),i){var l=yi.timezone.exec(i);l?(r.time=i.replace(l[1],""),r.timezone=l[1]):r.time=i}return r}function Hy(s,r){var a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),i=s.match(a);if(!i)return{year:NaN,restDateString:""};var l=i[1]?parseInt(i[1]):null,c=i[2]?parseInt(i[2]):null;return{year:c===null?l:c*100,restDateString:s.slice((i[1]||i[2]).length)}}function Vy(s,r){if(r===null)return new Date(NaN);var a=s.match(By);if(!a)return new Date(NaN);var i=!!a[4],l=Da(a[1]),c=Da(a[2])-1,h=Da(a[3]),y=Da(a[4]),m=Da(a[5])-1;if(i)return Zy(r,y,m)?qy(r,y,m):new Date(NaN);var p=new Date(0);return!Xy(r,c,h)||!Jy(r,l)?new Date(NaN):(p.setUTCFullYear(r,c,Math.max(l,h)),p)}function Da(s){return s?parseInt(s):1}function Qy(s){var r=s.match($y);if(!r)return NaN;var a=Jl(r[1]),i=Jl(r[2]),l=Jl(r[3]);return ev(a,i,l)?a*Zh+i*Jh+l*1e3:NaN}function Jl(s){return s&&parseFloat(s.replace(",","."))||0}function Yy(s){if(s==="Z")return 0;var r=s.match(Wy);if(!r)return 0;var a=r[1]==="+"?-1:1,i=parseInt(r[2]),l=r[3]&&parseInt(r[3])||0;return tv(i,l)?a*(i*Zh+l*Jh):NaN}function qy(s,r,a){var i=new Date(0);i.setUTCFullYear(s,0,4);var l=i.getUTCDay()||7,c=(r-1)*7+a+1-l;return i.setUTCDate(i.getUTCDate()+c),i}var Gy=[31,null,31,30,31,30,31,31,30,31,30,31];function nm(s){return s%400===0||s%4===0&&s%100!==0}function Xy(s,r,a){return r>=0&&r<=11&&a>=1&&a<=(Gy[r]||(nm(s)?29:28))}function Jy(s,r){return r>=1&&r<=(nm(s)?366:365)}function Zy(s,r,a){return r>=1&&r<=53&&a>=0&&a<=6}function ev(s,r,a){return s===24?r===0&&a===0:a>=0&&a<60&&r>=0&&r<60&&s>=0&&s<25}function tv(s,r){return r>=0&&r<=59}class Ue{static getCurrentTimestamp(){return new Date().toISOString()}static formatTime(r,a="HH:mm:ss"){if(!r)return"--:--:--";try{return Xl(Nt(r),a)}catch(i){return console.error("Error formatting time:",i),"--:--:--"}}static formatDate(r,a="MMM dd, yyyy"){if(!r)return"";try{return Xl(Nt(r),a)}catch(i){return console.error("Error formatting date:",i),""}}static formatDuration(r,a){if(!r||!a)return"--:--:--";try{const i=Nt(r),c=Nt(a).getTime()-i.getTime();if(c<0)return"--:--:--";const h=Math.floor(c/(1e3*60*60)),y=Math.floor(c%(1e3*60*60)/(1e3*60)),m=Math.floor(c%(1e3*60)/1e3);return`${h.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}`}catch(i){return console.error("Error formatting duration:",i),"--:--:--"}}static createRaceTimestamp(r,a){try{const i=`${r}T${a}:00`;return new Date(i).toISOString()}catch(i){return console.error("Error creating race timestamp:",i),new Date().toISOString()}}static getSegmentStart(r,a=5){try{const i=Nt(r),l=i.getMinutes(),c=Math.floor(l/a)*a,h=new Date(i);return h.setMinutes(c,0,0),h.toISOString()}catch(i){return console.error("Error getting segment start:",i),r}}static getSegmentEnd(r,a=5){try{const i=this.getSegmentStart(r,a),l=Nt(i);return Ag(l,a).toISOString()}catch(i){return console.error("Error getting segment end:",i),r}}static getSegmentKey(r,a=5){const i=this.getSegmentStart(r,a),l=this.getSegmentEnd(r,a);return`${i}/${l}`}static groupRunnersBySegments(r,a=5){const i=new Map;return r.filter(l=>l.status==="passed"&&l.recordedTime).forEach(l=>{const c=this.getSegmentKey(l.recordedTime,a);if(!i.has(c)){const[h,y]=c.split("/");i.set(c,{startTime:h,endTime:y,runners:[],called:!1})}i.get(c).runners.push(l)}),Array.from(i.values()).sort((l,c)=>new Date(l.startTime).getTime()-new Date(c.startTime).getTime())}static isTimestampInSegment(r,a,i){try{const l=Nt(r),c=Nt(a),h=Nt(i);return l>=c&&l<h}catch(l){return console.error("Error checking timestamp in segment:",l),!1}}static getElapsedTime(r,a=null){const i=a||this.getCurrentTimestamp();return this.formatDuration(r,i)}static calculatePace(r,a,i){if(!r||!a||!i||i<=0)return"--:--";try{const l=Nt(r),h=Nt(a).getTime()-l.getTime();if(h<=0)return"--:--";const y=h/i,m=Math.floor(y/(1e3*60)),p=Math.floor(y%(1e3*60)/1e3);return`${m}:${p.toString().padStart(2,"0")}`}catch(l){return console.error("Error calculating pace:",l),"--:--"}}static parseTimeInput(r){if(!r)return"";const a=/^(\d{1,2}):(\d{2})(?::(\d{2}))?$/,i=r.match(a);if(!i)return"";const l=parseInt(i[1],10),c=parseInt(i[2],10);return l>23||c>59?"":`${l.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`}static validateDateString(r){if(!r||!/^\d{4}-\d{2}-\d{2}$/.test(r))return!1;try{return new Date(r).toISOString().startsWith(r)}catch{return!1}}static getTodayDateString(){return new Date().toISOString().split("T")[0]}static getCurrentTimeString(){const r=new Date;return`${r.getHours().toString().padStart(2,"0")}:${r.getMinutes().toString().padStart(2,"0")}`}static datetimeLocalToISO(r){if(!r)return null;try{return new Date(r).toISOString()}catch(a){return console.error("Error converting datetime-local to ISO:",a),null}}static isoToDatetimeLocal(r){if(!r)return"";try{const a=Nt(r);return Xl(a,"yyyy-MM-dd'T'HH:mm")}catch(a){return console.error("Error converting ISO to datetime-local:",a),""}}static getTimezoneOffset(){const r=new Date().getTimezoneOffset(),a=Math.floor(Math.abs(r)/60),i=Math.abs(r)%60;return`${r<=0?"+":"-"}${a.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}static isBusinessHours(r=null){const i=(r?Nt(r):new Date).getHours();return i>=6&&i<=22}}const pe={NOT_STARTED:"not-started",PASSED:"passed",NON_STARTER:"non-starter",DNF:"dnf"},Ee={SETUP:"setup",CHECKPOINT:"checkpoint",BASE_STATION:"base-station"},hh={darkMode:!1,fontSize:1,statusColors:{"not-started":"#9ca3af",passed:"#10b981","non-starter":"#ef4444",dnf:"#f59e0b"},runnerViewMode:"grid",groupSize:50},mh=5,rv=[10,25,50,100],nv=[{value:.8,label:"Small"},{value:.9,label:"Medium"},{value:1,label:"Normal"},{value:1.1,label:"Large"},{value:1.2,label:"Extra Large"},{value:1.3,label:"Huge"}],Yt=I0(B0((s,r)=>({raceConfig:null,mode:Ee.SETUP,runners:[],calledSegments:[],checkpoints:[],checkpointResults:[],currentCheckpoint:1,settings:hh,isLoading:!1,error:null,currentRaceId:null,setLoading:a=>s({isLoading:a}),setError:a=>s({error:a}),clearError:()=>s({error:null}),createRace:async a=>{s({isLoading:!0,error:null});try{const i=await Ne.saveRace(a),l=await Ne.getRunners(i);return s({raceConfig:{...a,id:i},currentRaceId:i,runners:l,calledSegments:[],mode:Ee.SETUP,isLoading:!1}),i}catch(i){throw s({error:i.message,isLoading:!1}),i}},loadRace:async a=>{s({isLoading:!0,error:null});try{const i=await Ne.getRace(a),l=await Ne.getRunners(a),c=await Ne.getCalledSegments(a),h=await Ne.getCheckpoints(a),y=await Ne.getCheckpointResults(a);s({raceConfig:i,currentRaceId:a,runners:l,calledSegments:c.map(m=>Ue.getSegmentKey(m.startTime)),checkpoints:h,checkpointResults:y,currentCheckpoint:h.length>0?h[0].number:1,isLoading:!1})}catch(i){throw s({error:i.message,isLoading:!1}),i}},loadCurrentRace:async()=>{s({isLoading:!0,error:null});try{const a=await Ne.getCurrentRace();a?await r().loadRace(a.id):s({isLoading:!1})}catch(a){s({error:a.message,isLoading:!1})}},getAllRaces:async()=>{s({isLoading:!0,error:null});try{const a=await Ne.getAllRaces();return s({isLoading:!1}),a}catch(a){throw s({error:a.message,isLoading:!1}),a}},switchToRace:async a=>{s({isLoading:!0,error:null});try{await r().loadRace(a),s({mode:Ee.SETUP})}catch(i){throw s({error:i.message,isLoading:!1}),i}},deleteRace:async a=>{s({isLoading:!0,error:null});try{await Ne.deleteRace(a),r().currentRaceId===a&&s({raceConfig:null,currentRaceId:null,runners:[],calledSegments:[],mode:Ee.SETUP}),s({isLoading:!1})}catch(i){throw s({error:i.message,isLoading:!1}),i}},setMode:a=>s({mode:a}),markRunnerPassed:async(a,i=null)=>{const{currentRaceId:l}=r();if(l){s({isLoading:!0,error:null});try{const c=i||Ue.getCurrentTimestamp();await Ne.markRunnerPassed(l,a,c);const h=r().runners.map(y=>y.number===a?{...y,status:pe.PASSED,recordedTime:c}:y);s({runners:h,isLoading:!1})}catch(c){throw s({error:c.message,isLoading:!1}),c}}},markRunnerStatus:async(a,i)=>{const{currentRaceId:l}=r();if(l){s({isLoading:!0,error:null});try{await Ne.markRunnerStatus(l,a,i);const c=r().runners.map(h=>h.number===a?{...h,status:i,recordedTime:i===pe.PASSED?h.recordedTime:null}:h);s({runners:c,isLoading:!1})}catch(c){throw s({error:c.message,isLoading:!1}),c}}},bulkMarkRunners:async(a,i,l=null)=>{const{currentRaceId:c}=r();if(c){s({isLoading:!0,error:null});try{const h={status:i};i===pe.PASSED?h.recordedTime=l||Ue.getCurrentTimestamp():h.recordedTime=null,await Ne.bulkUpdateRunners(c,a,h);const y=r().runners.map(m=>a.includes(m.number)?{...m,...h}:m);s({runners:y,isLoading:!1})}catch(h){throw s({error:h.message,isLoading:!1}),h}}},markSegmentCalled:async(a,i)=>{const{currentRaceId:l}=r();if(l){s({isLoading:!0,error:null});try{await Ne.markSegmentCalled(l,a,i);const c=`${a}/${i}`,h=[...r().calledSegments,c];s({calledSegments:h,isLoading:!1})}catch(c){throw s({error:c.message,isLoading:!1}),c}}},isSegmentCalled:a=>{const i=Ue.getSegmentKey(a);return r().calledSegments.includes(i)},updateSettings:async a=>{const i={...r().settings,...a};s({settings:i});for(const[l,c]of Object.entries(a))try{await Ne.saveSetting(l,c)}catch(h){console.error(`Failed to save setting ${l}:`,h)}},loadSettings:async()=>{try{const a=await Ne.getAllSettings(),i={...hh,...a};s({settings:i})}catch(a){console.error("Failed to load settings:",a)}},exportRaceConfig:async()=>{const{currentRaceId:a}=r();if(!a)throw new Error("No race to export");try{return await Ne.exportRaceConfig(a)}catch(i){throw s({error:i.message}),i}},exportRaceResults:async(a="csv")=>{const{currentRaceId:i,raceConfig:l,runners:c}=r();if(!i)throw new Error("No race to export");try{return await Ne.exportRaceResults(i,l,c,a)}catch(h){throw s({error:h.message}),h}},importRaceConfig:async a=>{s({isLoading:!0,error:null});try{const i=await Ne.importRaceConfig(a);return await r().loadRace(i),i}catch(i){throw s({error:i.message,isLoading:!1}),i}},getRunnersByStatus:a=>r().runners.filter(i=>i.status===a),getPassedRunners:()=>r().runners.filter(a=>a.status===pe.PASSED&&a.recordedTime),getRunnerCounts:()=>{const a=r().runners;return{total:a.length,notStarted:a.filter(i=>i.status===pe.NOT_STARTED).length,passed:a.filter(i=>i.status===pe.PASSED).length,nonStarter:a.filter(i=>i.status===pe.NON_STARTER).length,dnf:a.filter(i=>i.status===pe.DNF).length}},getTimeSegments:()=>{const a=r().getPassedRunners(),i=Ue.groupRunnersBySegments(a),l=r().calledSegments;return i.map(c=>({...c,called:l.includes(`${c.startTime}/${c.endTime}`)}))},getRunner:a=>r().runners.find(i=>i.number===a),setCurrentCheckpoint:a=>{s({currentCheckpoint:a})},markRunnerAtCheckpoint:async(a,i=null,l=null,c=null,h="passed")=>{const{currentRaceId:y,currentCheckpoint:m}=r();if(!y)return;const p=i||m;s({isLoading:!0,error:null});try{await Ne.markRunnerAtCheckpoint(y,a,p,l,c,h);const g=await Ne.getCheckpointResults(y),v=await Ne.getRunners(y);s({checkpointResults:g,runners:v,isLoading:!1})}catch(g){throw s({error:g.message,isLoading:!1}),g}},bulkMarkRunnersAtCheckpoint:async(a,i=null,l=null,c=null,h="passed")=>{const{currentRaceId:y,currentCheckpoint:m}=r();if(!y)return;const p=i||m;s({isLoading:!0,error:null});try{await Ne.bulkMarkRunnersAtCheckpoint(y,a,p,l,c,h);const g=await Ne.getCheckpointResults(y),v=await Ne.getRunners(y);s({checkpointResults:g,runners:v,isLoading:!1})}catch(g){throw s({error:g.message,isLoading:!1}),g}},exportCheckpointResults:async(a=null)=>{const{currentRaceId:i,currentCheckpoint:l}=r();if(!i)throw new Error("No race to export");const c=a||l;try{return await Ne.exportCheckpointResults(i,c)}catch(h){throw s({error:h.message}),h}},importCheckpointResults:async a=>{s({isLoading:!0,error:null});try{const i=await Ne.importCheckpointResults(a);if(i===r().currentRaceId){const l=await Ne.getCheckpointResults(i),c=await Ne.getRunners(i);s({checkpointResults:l,runners:c})}return s({isLoading:!1}),i}catch(i){throw s({error:i.message,isLoading:!1}),i}},getCheckpointResults:(a=null)=>{const{checkpointResults:i,currentCheckpoint:l}=r(),c=a||l;return i.filter(h=>h.checkpointNumber===c)},getRunnerCheckpointResult:(a,i=null)=>{const{checkpointResults:l,currentCheckpoint:c}=r(),h=i||c;return l.find(y=>y.runnerNumber===a&&y.checkpointNumber===h)},resetRace:()=>{s({raceConfig:null,currentRaceId:null,runners:[],calledSegments:[],checkpoints:[],checkpointResults:[],currentCheckpoint:1,mode:Ee.SETUP,error:null})},clearAllData:async()=>{s({isLoading:!0,error:null});try{await Ne.clearAllData(),r().resetRace(),s({isLoading:!1})}catch(a){throw s({error:a.message,isLoading:!1}),a}}}),{name:"race-tracker-storage",partialize:s=>({currentRaceId:s.currentRaceId,mode:s.mode,settings:s.settings})})),av=({onSettingsClick:s,onImportExportClick:r})=>{const{raceConfig:a,mode:i,setMode:l,getRunnerCounts:c}=Yt(),h=c(),y=()=>{switch(i){case Ee.SETUP:return"Race Setup";case Ee.CHECKPOINT:return"Checkpoint Mode";case Ee.BASE_STATION:return"Base Station Mode";default:return"RaceTracker Pro"}},m=()=>a&&i!==Ee.SETUP,p=()=>{l(Ee.SETUP)};return d.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsx("div",{className:"flex items-center space-x-4",children:d.jsxs("div",{className:"flex items-center",children:[m()&&d.jsx("button",{onClick:p,className:"p-2 mr-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",title:"Back to Race Setup",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),d.jsx("div",{className:"flex-shrink-0",children:d.jsx("img",{src:"/favicon_io/android-chrome-192x192.png",alt:"RaceTracker Pro Logo",className:"h-10 w-10 mr-3"})}),d.jsx("div",{children:d.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:y()})}),a&&d.jsxs("div",{className:"ml-4 flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-300",children:[d.jsx("span",{className:"hidden sm:inline",children:a.name}),d.jsx("span",{className:"hidden md:inline",children:a.date}),d.jsxs("span",{className:"hidden lg:inline",children:["Runners: ",a.minRunner,"-",a.maxRunner]})]})]})}),m()&&d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>l(Ee.CHECKPOINT),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${i===Ee.CHECKPOINT?"bg-primary-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Checkpoint"}),d.jsx("button",{onClick:()=>l(Ee.BASE_STATION),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${i===Ee.BASE_STATION?"bg-primary-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Base Station"})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[a&&i!==Ee.SETUP&&d.jsxs("div",{className:"hidden sm:flex items-center space-x-3 text-sm",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-status-passed"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:h.passed})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-status-not-started"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:h.notStarted})]}),h.nonStarter>0&&d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-status-non-starter"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:h.nonStarter})]}),h.dnf>0&&d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-status-dnf"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:h.dnf})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[a&&d.jsx("button",{onClick:r,className:"p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",title:"Import/Export",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"})})}),d.jsx("button",{onClick:s,className:"p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",title:"Settings",children:d.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]})]})}),a&&d.jsxs("div",{className:"sm:hidden px-4 pb-3 border-t border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600 dark:text-gray-300",children:[d.jsx("span",{children:a.name}),d.jsx("span",{children:a.date})]}),d.jsxs("div",{className:"flex justify-between items-center mt-1 text-xs text-gray-500 dark:text-gray-400",children:[d.jsxs("span",{children:["Runners: ",a.minRunner,"-",a.maxRunner]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("span",{className:"flex items-center",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-status-passed mr-1"}),h.passed]}),d.jsxs("span",{className:"flex items-center",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-status-not-started mr-1"}),h.notStarted]}),h.nonStarter>0&&d.jsxs("span",{className:"flex items-center",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-status-non-starter mr-1"}),h.nonStarter]}),h.dnf>0&&d.jsxs("span",{className:"flex items-center",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-status-dnf mr-1"}),h.dnf]})]})]})]})]})},bu=({size:s="md",message:r="Loading..."})=>{const a={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"};return d.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[d.jsx("div",{className:`spinner ${a[s]} mb-4`}),r&&d.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:r})]})},am=({error:s,onDismiss:r,onRetry:a})=>s?d.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-4",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3 flex-1",children:[d.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Error"}),d.jsx("div",{className:"mt-1 text-sm text-red-700 dark:text-red-300",children:s}),(a||r)&&d.jsxs("div",{className:"mt-3 flex space-x-2",children:[a&&d.jsx("button",{onClick:a,className:"bg-red-100 dark:bg-red-800 text-red-800 dark:text-red-200 px-3 py-1 rounded-md text-sm font-medium hover:bg-red-200 dark:hover:bg-red-700 transition-colors",children:"Try Again"}),r&&d.jsx("button",{onClick:r,className:"text-red-600 dark:text-red-400 px-3 py-1 text-sm font-medium hover:text-red-800 dark:hover:text-red-200 transition-colors",children:"Dismiss"})]})]}),r&&d.jsx("div",{className:"ml-auto pl-3",children:d.jsxs("button",{onClick:r,className:"text-red-400 hover:text-red-600 dark:hover:text-red-200 transition-colors",children:[d.jsx("span",{className:"sr-only",children:"Dismiss"}),d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})}):null,ph=()=>{const{createRace:s,setMode:r,isLoading:a,error:i,clearError:l,getAllRaces:c,switchToRace:h,deleteRace:y,raceConfig:m}=Yt(),[p,g]=oe.useState({name:"",date:Ue.getTodayDateString(),startTime:"08:00",minRunner:"",maxRunner:"",numCheckpoints:1,checkpoints:[{number:1,name:"Checkpoint 1"}]}),[v,w]=oe.useState({}),[S,N]=oe.useState(!1),[k,b]=oe.useState([]),[_,j]=oe.useState(!0),P=U=>{const{name:B,value:q}=U.target;g(z=>({...z,[B]:q})),v[B]&&w(z=>({...z,[B]:""}))},M=U=>{const B=parseInt(U.target.value)||1,q=[];for(let z=1;z<=B;z++)q.push({number:z,name:p.checkpoints[z-1]?.name||`Checkpoint ${z}`});g(z=>({...z,numCheckpoints:B,checkpoints:q}))},A=(U,B)=>{const q=[...p.checkpoints];q[U]={...q[U],name:B},g(z=>({...z,checkpoints:q}))},F=()=>{const U={};p.name.trim()||(U.name="Race name is required"),p.date?Ue.validateDateString(p.date)||(U.date="Invalid date format"):U.date="Race date is required",p.startTime?Ue.parseTimeInput(p.startTime)||(U.startTime="Invalid time format (use HH:MM)"):U.startTime="Start time is required";const B=parseInt(p.minRunner),q=parseInt(p.maxRunner);return(!p.minRunner||isNaN(B)||B<1)&&(U.minRunner="Minimum runner number must be a positive integer"),(!p.maxRunner||isNaN(q)||q<1)&&(U.maxRunner="Maximum runner number must be a positive integer"),!U.minRunner&&!U.maxRunner&&B>=q&&(U.maxRunner="Maximum runner number must be greater than minimum"),!U.minRunner&&!U.maxRunner&&q-B>1e4&&(U.maxRunner="Runner range cannot exceed 10,000 runners"),w(U),Object.keys(U).length===0},D=async U=>{if(U.preventDefault(),l(),!!F())try{const B={name:p.name.trim(),date:p.date,startTime:Ue.parseTimeInput(p.startTime),minRunner:parseInt(p.minRunner),maxRunner:parseInt(p.maxRunner),checkpoints:p.checkpoints};await s(B),N(!1),await me()}catch(B){console.error("Failed to create race:",B)}},V=U=>{r(U)},W=U=>{if(!U.trim())return;const B=U.match(/^(\d+)\s*[-–]\s*(\d+)$/);if(B){const q=parseInt(B[1]),z=parseInt(B[2]);q<z&&g(T=>({...T,minRunner:q.toString(),maxRunner:z.toString()}))}},[se,X]=oe.useState(""),de=U=>{const B=U.target.value;X(B),W(B)};oe.useEffect(()=>{me()},[]);const me=async()=>{try{j(!0);const U=await c();b(U)}catch(U){console.error("Failed to load races:",U)}finally{j(!1)}},ye=async U=>{try{await h(U)}catch(B){console.error("Failed to switch to race:",B)}},Pe=async(U,B)=>{if(window.confirm(`Are you sure you want to delete the race "${B}"? This action cannot be undone.`))try{await y(U),await me()}catch(q){console.error("Failed to delete race:",q)}},G=()=>{N(!0),g({name:"",date:Ue.getTodayDateString(),startTime:"08:00",minRunner:"",maxRunner:"",numCheckpoints:1,checkpoints:[{number:1,name:"Checkpoint 1"}]}),w({}),X("")};return a||_?d.jsx(bu,{message:"Loading races..."}):d.jsx("div",{className:"max-w-4xl mx-auto p-6",children:d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Race Management"}),d.jsx(am,{error:i,onDismiss:l}),!S&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Existing Races"}),d.jsx("button",{onClick:G,className:"btn-primary",children:"Create New Race"})]}),k.length===0?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No races found. Create your first race to get started."}),d.jsx("button",{onClick:G,className:"btn-primary",children:"Create First Race"})]}):d.jsx("div",{className:"grid gap-4",children:k.map(U=>d.jsx("div",{className:`border rounded-lg p-4 transition-colors ${m?.id===U.id?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:U.name}),d.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:[d.jsx("span",{children:U.date}),d.jsx("span",{className:"mx-2",children:"•"}),d.jsx("span",{children:U.startTime}),d.jsx("span",{className:"mx-2",children:"•"}),d.jsxs("span",{children:["Runners: ",U.minRunner,"-",U.maxRunner]})]}),d.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Created: ",new Date(U.createdAt).toLocaleDateString()]})]}),d.jsxs("div",{className:"flex space-x-2 ml-4",children:[m?.id!==U.id&&d.jsx("button",{onClick:()=>ye(U.id),className:"btn-secondary text-sm",children:"Select"}),m?.id===U.id&&d.jsx("span",{className:"text-sm text-primary-600 dark:text-primary-400 font-medium",children:"Current"}),d.jsx("button",{onClick:()=>Pe(U.id,U.name),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 text-sm",children:"Delete"})]})]})},U.id))})]}),S&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Create New Race"}),d.jsx("button",{onClick:()=>N(!1),className:"btn-secondary",children:"Cancel"})]}),d.jsxs("form",{onSubmit:D,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"form-label",children:"Race Name"}),d.jsx("input",{type:"text",id:"name",name:"name",value:p.name,onChange:P,className:`form-input ${v.name?"border-red-500":""}`,placeholder:"Enter race name"}),v.name&&d.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:v.name})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"date",className:"form-label",children:"Race Date"}),d.jsx("input",{type:"date",id:"date",name:"date",value:p.date,onChange:P,className:`form-input ${v.date?"border-red-500":""}`}),v.date&&d.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:v.date})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"startTime",className:"form-label",children:"Start Time"}),d.jsx("input",{type:"time",id:"startTime",name:"startTime",value:p.startTime,onChange:P,className:`form-input ${v.startTime?"border-red-500":""}`}),v.startTime&&d.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:v.startTime})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"rangeInput",className:"form-label",children:"Runner Range (Quick Input)"}),d.jsx("input",{type:"text",id:"rangeInput",value:se,onChange:de,className:"form-input",placeholder:"e.g., 100-200, 1200-1400"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:'Enter a range like "100-200" or set individual numbers below'})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"minRunner",className:"form-label",children:"Minimum Runner Number"}),d.jsx("input",{type:"number",id:"minRunner",name:"minRunner",value:p.minRunner,onChange:P,className:`form-input ${v.minRunner?"border-red-500":""}`,placeholder:"1",min:"1"}),v.minRunner&&d.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:v.minRunner})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"maxRunner",className:"form-label",children:"Maximum Runner Number"}),d.jsx("input",{type:"number",id:"maxRunner",name:"maxRunner",value:p.maxRunner,onChange:P,className:`form-input ${v.maxRunner?"border-red-500":""}`,placeholder:"100",min:"1"}),v.maxRunner&&d.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:v.maxRunner})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Checkpoint Configuration"}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"numCheckpoints",className:"form-label",children:"Number of Checkpoints"}),d.jsx("select",{id:"numCheckpoints",value:p.numCheckpoints,onChange:M,className:"form-input",children:[1,2,3,4,5].map(U=>d.jsx("option",{value:U,children:U},U))}),d.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Select the number of checkpoints for this race"})]}),p.checkpoints.map((U,B)=>d.jsxs("div",{children:[d.jsxs("label",{htmlFor:`checkpoint-${B}`,className:"form-label",children:["Checkpoint ",U.number," Name (Optional)"]}),d.jsx("input",{type:"text",id:`checkpoint-${B}`,value:U.name,onChange:q=>A(B,q.target.value),className:"form-input",placeholder:`Checkpoint ${U.number}`})]},U.number))]}),p.minRunner&&p.maxRunner&&!v.minRunner&&!v.maxRunner&&d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[d.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["Total runners: ",parseInt(p.maxRunner)-parseInt(p.minRunner)+1]}),d.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["Checkpoints: ",p.numCheckpoints," (",p.checkpoints.map(U=>U.name).join(", "),")"]})]}),d.jsx("button",{type:"submit",disabled:a,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating Race...":"Create Race"})]})]}),m&&!S&&d.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:['Select Operation Mode for "',m.name,'"']}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("button",{onClick:()=>V(Ee.CHECKPOINT),className:"p-4 border-2 border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary-500 dark:hover:border-primary-400 transition-colors text-left",children:[d.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Checkpoint Mode"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Track runners passing through checkpoints, manage callouts, and monitor progress"})]}),d.jsxs("button",{onClick:()=>V(Ee.BASE_STATION),className:"p-4 border-2 border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary-500 dark:hover:border-primary-400 transition-colors text-left",children:[d.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Base Station Mode"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Enter finish times, manage race completion data, and track final results"})]})]})]})]})})},gh=()=>{const{runners:s,markRunnerPassed:r,settings:a,isLoading:i,raceConfig:l}=Yt(),[c,h]=oe.useState(""),[y,m]=oe.useState(a.runnerViewMode||"grid"),[p,g]=oe.useState(a.groupSize||50),[v,w]=oe.useState(new Set),S=oe.useMemo(()=>{if(!c)return s;const M=c.toLowerCase();return s.filter(A=>A.number.toString().includes(M))},[s,c]),N=oe.useMemo(()=>{if(!l||l.maxRunner-l.minRunner<p)return[{start:l?.minRunner||1,runners:S}];const M=[],A=l.maxRunner-l.minRunner+1;for(let F=0;F<A;F+=p){const D=l.minRunner+F,V=Math.min(D+p-1,l.maxRunner),W=S.filter(se=>se.number>=D&&se.number<=V);(W.length>0||!c)&&M.push({start:D,end:V,runners:W,label:`${D}-${V}`})}return M},[S,l,p,c]),k=async M=>{if(M.status!==pe.PASSED)try{await r(M.number)}catch(A){console.error("Failed to mark runner as passed:",A)}},b=M=>{const A="runner-button flex items-center justify-center text-sm font-medium rounded-lg border-2 focus-visible:focus";switch(M.status){case pe.PASSED:return`${A} status-passed cursor-default`;case pe.NON_STARTER:return`${A} status-non-starter cursor-default`;case pe.DNF:return`${A} status-dnf cursor-default`;default:return`${A} status-not-started cursor-pointer hover:bg-gray-300 dark:hover:bg-gray-600`}},_=M=>{const A=d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"font-bold",children:M.number}),M.status===pe.PASSED&&M.recordedTime&&d.jsx("span",{className:"text-xs mt-1 opacity-90",children:Ue.formatTime(M.recordedTime,"HH:mm")})]});return y==="list"?d.jsxs("div",{className:"flex items-center justify-between w-full",children:[d.jsx("div",{className:"flex flex-col",children:A}),d.jsxs("div",{className:"text-xs opacity-75",children:[M.status===pe.PASSED&&"✓",M.status===pe.NON_STARTER&&"NS",M.status===pe.DNF&&"DNF"]})]}):d.jsx("div",{className:"flex flex-col items-center",children:A})},j=M=>{const A=new Set(v);A.has(M)?A.delete(M):A.add(M),w(A)},P=M=>{const A=M.filter(D=>D.status===pe.PASSED).length,F=M.length;return{passed:A,total:F,remaining:F-A}};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[d.jsx("div",{className:"flex-1 max-w-md",children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search runner number...",value:c,onChange:M=>h(M.target.value),className:"form-input pl-10"}),d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),d.jsxs("div",{className:"flex items-center space-x-4",children:[l&&l.maxRunner-l.minRunner>=50&&d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Group:"}),d.jsx("select",{value:p,onChange:M=>g(parseInt(M.target.value)),className:"form-input py-1 text-sm",children:rv.map(M=>d.jsx("option",{value:M,children:M},M))})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>m("grid"),className:`p-2 rounded-md ${y==="grid"?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,title:"Grid View",children:d.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),d.jsx("button",{onClick:()=>m("list"),className:`p-2 rounded-md ${y==="list"?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,title:"List View",children:d.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]})]}),c&&d.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Found ",S.length," runner",S.length!==1?"s":""]}),d.jsx("div",{className:"space-y-4",children:N.map(M=>{const A=v.has(M.start)||N.length===1,F=P(M.runners);return d.jsxs("div",{className:"card",children:[N.length>1&&d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>j(M.start),children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:["Runners ",M.label]}),d.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-300",children:[d.jsxs("span",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-status-passed mr-1"}),F.passed]}),d.jsx("span",{children:"/"}),d.jsx("span",{children:F.total})]})]}),d.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${A?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),A&&d.jsx("div",{className:"p-4",children:M.runners.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No runners found in this range"}):d.jsx("div",{className:y==="grid"?"runner-grid":"space-y-2",children:M.runners.map(D=>d.jsx("button",{onClick:()=>k(D),disabled:i||D.status===pe.PASSED,className:`
                            ${b(D)}
                            ${y==="grid"?"h-16 w-full":"h-12 w-full px-4"}
                            disabled:opacity-50
                          `,title:`Runner ${D.number} - ${D.status.replace("-"," ")}`,children:_(D)},D.number))})})]},M.start)})}),d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[d.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Instructions"}),d.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[d.jsx("li",{children:"• Click on a runner number to mark them as passed"}),d.jsx("li",{children:"• Use the search bar to quickly find specific runners"}),d.jsx("li",{children:"• Switch between grid and list view using the toggle buttons"}),d.jsx("li",{children:"• For large ranges, runners are grouped for easier navigation"})]})]})]})},sv=()=>{const{getTimeSegments:s,markSegmentCalled:r,isLoading:a,raceConfig:i}=Yt(),[l,c]=oe.useState(null),h=oe.useMemo(()=>s(),[s]),y=async N=>{if(!(N.called||l===N.startTime)){c(N.startTime);try{await r(N.startTime,N.endTime)}catch(k){console.error("Failed to mark segment as called:",k)}finally{c(null)}}},m=(N,k)=>{const b=Ue.formatTime(N,"HH:mm"),_=Ue.formatTime(k,"HH:mm");return`${b} - ${_}`},p=N=>{if(!i)return"";const k=Ue.createRaceTimestamp(i.date,i.startTime);return Ue.formatDuration(k,N)},g=N=>{const k=N.runners.length,b=N.runners.map(_=>_.number).sort((_,j)=>_-j);return{runnerCount:k,runnerNumbers:b}},v=N=>{const k=N.map(P=>P.number).sort((P,M)=>P-M),b=[];let _=k[0],j=k[0];for(let P=1;P<k.length;P++)k[P]===j+1?j=k[P]:(_===j?b.push(_.toString()):j===_+1?b.push(`${_}, ${j}`):b.push(`${_}-${j}`),_=j=k[P]);return k.length>0&&(_===j?b.push(_.toString()):j===_+1?b.push(`${_}, ${j}`):b.push(`${_}-${j}`)),b.join(", ")},w=h.filter(N=>!N.called),S=h.filter(N=>N.called);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Callout Sheet"}),d.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[mh,"-minute segments"]})]}),w.length>0?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white",children:["Pending Callouts (",w.length,")"]}),d.jsx("div",{className:"space-y-3",children:w.map(N=>{const k=g(N),b=l===N.startTime;return d.jsx("div",{className:"card p-4 border-l-4 border-l-orange-500",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[d.jsx("h5",{className:"font-semibold text-gray-900 dark:text-white",children:m(N.startTime,N.endTime)}),d.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["+",p(N.startTime)]})]}),d.jsx("div",{className:"flex items-center space-x-2 mb-3",children:d.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",children:[k.runnerCount," runner",k.runnerCount!==1?"s":""]})}),d.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[d.jsx("span",{className:"font-medium",children:"Runners: "}),v(N.runners)]})]}),d.jsx("button",{onClick:()=>y(N),disabled:a||b,className:"ml-4 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:b?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 spinner"}),d.jsx("span",{children:"Calling..."})]}):"Mark Called"})]})},`${N.startTime}/${N.endTime}`)})})]}):d.jsx("div",{className:"card p-6 text-center",children:d.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:[d.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("p",{className:"text-lg font-medium mb-2",children:"No pending callouts"}),d.jsx("p",{className:"text-sm",children:"Segments will appear here as runners pass through the checkpoint"})]})}),S.length>0&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white",children:["Called Segments (",S.length,")"]}),d.jsx("div",{className:"space-y-2",children:S.map(N=>{const k=g(N);return d.jsx("div",{className:"card p-3 border-l-4 border-l-green-500 bg-green-50 dark:bg-green-900/20",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:m(N.startTime,N.endTime)}),d.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["+",p(N.startTime)]}),d.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200",children:[k.runnerCount," runner",k.runnerCount!==1?"s":""]})]}),d.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:v(N.runners)})]}),d.jsx("div",{className:"flex items-center text-green-600 dark:text-green-400",children:d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})},`${N.startTime}/${N.endTime}`)})})]}),d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[d.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Callout Instructions"}),d.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[d.jsx("li",{children:"• Segments are automatically created as runners pass through"}),d.jsxs("li",{children:["• Each segment represents a ",mh,"-minute time window"]}),d.jsx("li",{children:'• Click "Mark Called" after reporting the segment to race control'}),d.jsx("li",{children:"• Called segments move to the history section below"}),d.jsx("li",{children:"• Times shown are both clock time and elapsed race time"})]})]})]})},sm=()=>{const{runners:s,markRunnerStatus:r,getRunnerCounts:a,isSegmentCalled:i,mode:l,raceConfig:c,isLoading:h}=Yt(),[y,m]=oe.useState(""),[p,g]=oe.useState("all"),[v,w]=oe.useState("number"),[S,N]=oe.useState("asc"),k=a(),b=oe.useMemo(()=>{let D=s;if(y){const V=y.toLowerCase();D=D.filter(W=>W.number.toString().includes(V))}return p!=="all"&&(D=D.filter(V=>V.status===p)),D.sort((V,W)=>{let se,X;switch(v){case"number":se=V.number,X=W.number;break;case"status":se=V.status,X=W.status;break;case"time":se=V.recordedTime?new Date(V.recordedTime).getTime():0,X=W.recordedTime?new Date(W.recordedTime).getTime():0;break;default:se=V.number,X=W.number}return S==="asc"?se<X?-1:se>X?1:0:se>X?-1:se<X?1:0}),D},[s,y,p,v,S]),_=async(D,V)=>{try{await r(D,V)}catch(W){console.error("Failed to update runner status:",W)}},j=D=>{const V="status-indicator";switch(D){case pe.PASSED:return`${V} status-passed`;case pe.NON_STARTER:return`${V} status-non-starter`;case pe.DNF:return`${V} status-dnf`;default:return`${V} status-not-started`}},P=D=>{switch(D){case pe.PASSED:return"Passed";case pe.NON_STARTER:return"Non-Starter";case pe.DNF:return"DNF";default:return"Not Started"}},M=D=>{if(!c||!D)return"";const V=Ue.createRaceTimestamp(c.date,c.startTime);return Ue.formatDuration(V,D)},A=D=>l===Ee.BASE_STATION||l===Ee.CHECKPOINT&&D.status!==pe.PASSED,F=D=>l===Ee.BASE_STATION?[pe.NOT_STARTED,pe.PASSED,pe.NON_STARTER,pe.DNF]:[pe.NON_STARTER,pe.DNF];return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"card p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k.total}),d.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Total Runners"})]}),d.jsxs("div",{className:"card p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:k.passed}),d.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Passed"})]}),d.jsxs("div",{className:"card p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-500 dark:text-gray-400",children:k.notStarted}),d.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Not Started"})]}),d.jsxs("div",{className:"card p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-red-500 dark:text-red-400",children:k.nonStarter+k.dnf}),d.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"NS + DNF"})]})]}),d.jsxs("div",{className:"card p-4",children:[d.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[d.jsx("div",{className:"flex-1 max-w-md",children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search runner number...",value:y,onChange:D=>m(D.target.value),className:"form-input pl-10"}),d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Status:"}),d.jsxs("select",{value:p,onChange:D=>g(D.target.value),className:"form-input py-1 text-sm",children:[d.jsx("option",{value:"all",children:"All"}),d.jsx("option",{value:pe.NOT_STARTED,children:"Not Started"}),d.jsx("option",{value:pe.PASSED,children:"Passed"}),d.jsx("option",{value:pe.NON_STARTER,children:"Non-Starter"}),d.jsx("option",{value:pe.DNF,children:"DNF"})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Sort:"}),d.jsxs("select",{value:v,onChange:D=>w(D.target.value),className:"form-input py-1 text-sm",children:[d.jsx("option",{value:"number",children:"Number"}),d.jsx("option",{value:"status",children:"Status"}),d.jsx("option",{value:"time",children:"Time"})]}),d.jsx("button",{onClick:()=>N(S==="asc"?"desc":"asc"),className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",title:`Sort ${S==="asc"?"Descending":"Ascending"}`,children:d.jsx("svg",{className:`w-4 h-4 transform ${S==="desc"?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11l5-5m0 0l5 5m-5-5v12"})})})]})]})]}),d.jsxs("div",{className:"mt-4 text-sm text-gray-600 dark:text-gray-300",children:["Showing ",b.length," of ",s.length," runners"]})]}),d.jsxs("div",{className:"card overflow-hidden",children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Runner #"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Time"}),l===Ee.CHECKPOINT&&d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Called"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Elapsed"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:b.map(D=>d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:D.number}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:j(D.status),children:P(D.status)})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:D.recordedTime?Ue.formatTime(D.recordedTime):"--:--:--"}),l===Ee.CHECKPOINT&&d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:D.recordedTime?i(D.recordedTime)?d.jsx("span",{className:"text-green-600 dark:text-green-400",children:"✓"}):d.jsx("span",{className:"text-gray-400",children:"—"}):d.jsx("span",{className:"text-gray-400",children:"—"})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:M(D.recordedTime)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:A(D)&&d.jsx("div",{className:"flex items-center justify-end space-x-2",children:F(D.status).map(V=>d.jsx("button",{onClick:()=>_(D.number,V),disabled:h||D.status===V,className:`px-2 py-1 text-xs rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${V===pe.NON_STARTER?"bg-red-100 text-red-800 hover:bg-red-200 dark:bg-red-900 dark:text-red-200 dark:hover:bg-red-800":V===pe.DNF?"bg-orange-100 text-orange-800 hover:bg-orange-200 dark:bg-orange-900 dark:text-orange-200 dark:hover:bg-orange-800":"bg-gray-100 text-gray-800 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600"}`,children:V===pe.NON_STARTER?"NS":V===pe.DNF?"DNF":V===pe.PASSED?"Pass":"Reset"},V))})})]},D.number))})]})}),b.length===0&&d.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No runners found matching the current filters"})]}),d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[d.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Overview Instructions"}),d.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[d.jsx("li",{children:"• View all runners and their current status"}),d.jsx("li",{children:"• Use filters to find specific runners or status groups"}),d.jsx("li",{children:"• Sort by runner number, status, or recorded time"}),l===Ee.CHECKPOINT&&d.jsxs(d.Fragment,{children:[d.jsx("li",{children:`• "Called" column shows if the runner's time segment has been reported`}),d.jsx("li",{children:"• Mark runners as Non-Starter (NS) or Did Not Finish (DNF) as needed"})]}),l===Ee.BASE_STATION&&d.jsx("li",{children:"• Update runner status using the action buttons"}),d.jsx("li",{children:"• Elapsed time shows duration since race start"})]})]})]})},iv=()=>{const{checkpoints:s,currentCheckpoint:r,setCurrentCheckpoint:a,exportCheckpointResults:i,raceConfig:l}=Yt(),[c,h]=oe.useState("runners"),[y,m]=oe.useState(!1),p=async()=>{m(!0);try{const w=await i(r),S=JSON.stringify(w,null,2),N=new Blob([S],{type:"application/json"}),k=URL.createObjectURL(N),b=document.createElement("a");b.href=k;const _=s.find(j=>j.number===r)?.name||`Checkpoint ${r}`;b.download=`${l?.name||"race"}-${_.replace(/\s+/g,"-")}-results.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(k)}catch(w){console.error("Failed to export checkpoint results:",w)}finally{m(!1)}},g=[{id:"runners",label:"Runner Tracking",component:gh},{id:"callouts",label:"Callout Sheet",component:sv},{id:"overview",label:"Overview",component:sm}],v=g.find(w=>w.id===c)?.component||gh;return d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s&&s.length>1&&d.jsx("div",{className:"mb-6 card p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("label",{htmlFor:"currentCheckpoint",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Current Checkpoint:"}),d.jsx("select",{id:"currentCheckpoint",value:r,onChange:w=>a(parseInt(w.target.value)),className:"form-input w-auto",children:s.map(w=>d.jsx("option",{value:w.number,children:w.name},w.number))})]}),d.jsx("button",{onClick:p,disabled:y,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:y?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 spinner"}),d.jsx("span",{children:"Exporting..."})]}):d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:"Export Results"})]})})]})}),d.jsx("div",{className:"mb-6",children:d.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:d.jsx("nav",{className:"-mb-px flex space-x-8",children:g.map(w=>d.jsx("button",{onClick:()=>h(w.id),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${c===w.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:border-gray-300 dark:hover:border-gray-600"}`,children:w.label},w.id))})})}),d.jsx("div",{className:"min-h-[60vh]",children:d.jsx(v,{})})]})},yh=()=>{const{bulkMarkRunners:s,bulkMarkRunnersAtCheckpoint:r,importCheckpointResults:a,raceConfig:i,runners:l,checkpoints:c,isLoading:h}=Yt(),[y,m]=oe.useState(""),[p,g]=oe.useState(""),[v,w]=oe.useState(1),[S,N]=oe.useState(""),[k,b]=oe.useState({}),[_,j]=oe.useState(!1),[P,M]=oe.useState(!1),A=G=>{m(G.target.value),k.commonTime&&b(U=>({...U,commonTime:""}))},F=G=>{g(G.target.value),k.runners&&b(U=>({...U,runners:""}))},D=G=>{if(!G.trim())return[];const U=[],B=G.split(/[,\n\s]+/).filter(q=>q.trim());for(const q of B){const z=q.trim(),T=z.match(/^(\d+)\s*[-–]\s*(\d+)$/);if(T){const $=parseInt(T[1]),ae=parseInt(T[2]);if($<=ae&&ae-$<=100)for(let ge=$;ge<=ae;ge++)U.push(ge)}else{const $=parseInt(z);!isNaN($)&&$>0&&U.push($)}}return[...new Set(U)].sort((q,z)=>q-z)},V=()=>{const G={};if(y?Ue.datetimeLocalToISO(y)||(G.commonTime="Invalid date/time format"):G.commonTime="Common time is required",!p.trim())G.runners="At least one runner number is required";else{const U=D(p);if(U.length===0)G.runners="No valid runner numbers found";else{const B=U.filter(q=>!i||q<i.minRunner||q>i.maxRunner);B.length>0&&(G.runners=`Invalid runner numbers (outside range ${i?.minRunner}-${i?.maxRunner}): ${B.join(", ")}`)}}return b(G),Object.keys(G).length===0},W=async G=>{if(G.preventDefault(),!!V()){j(!0);try{const U=D(p),B=Ue.datetimeLocalToISO(y);c&&c.length>0?await r(U,v,null,B,pe.PASSED):await s(U,pe.PASSED,B),g("")}catch(U){console.error("Failed to assign times:",U)}finally{j(!1)}}},se=async()=>{if(S.trim()){j(!0);try{const G=JSON.parse(S.trim());await a(G),N(""),M(!1)}catch(G){console.error("Failed to import checkpoint data:",G),b(U=>({...U,import:"Invalid checkpoint data format"}))}finally{j(!1)}}},de=p.trim()?D(p):[],me=()=>{const G=new Date,U=G.getTimezoneOffset()*6e4;return new Date(G.getTime()-U).toISOString().slice(0,16)},ye=()=>{m(me())},Pe=()=>{if(i){const G=Ue.createRaceTimestamp(i.date,i.startTime);m(Ue.isoToDatetimeLocal(G))}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"card p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Data Entry"}),d.jsxs("form",{onSubmit:W,className:"space-y-6",children:[c&&c.length>1&&d.jsxs("div",{children:[d.jsx("label",{htmlFor:"selectedCheckpoint",className:"form-label",children:"Checkpoint"}),d.jsx("select",{id:"selectedCheckpoint",value:v,onChange:G=>w(parseInt(G.target.value)),className:"form-input",children:c.map(G=>d.jsx("option",{value:G.number,children:G.name},G.number))}),d.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Select which checkpoint these times apply to"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"commonTime",className:"form-label",children:"Common Time"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"datetime-local",id:"commonTime",value:y,onChange:A,className:`form-input flex-1 ${k.commonTime?"border-red-500":""}`}),d.jsx("button",{type:"button",onClick:ye,className:"btn-secondary whitespace-nowrap",children:"Now"}),i&&d.jsx("button",{type:"button",onClick:Pe,className:"btn-secondary whitespace-nowrap",children:"Race Start"})]}),k.commonTime&&d.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:k.commonTime}),d.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"This time will be assigned to all entered runners"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"runnerInput",className:"form-label",children:"Runner Numbers"}),d.jsx("textarea",{id:"runnerInput",value:p,onChange:F,rows:6,className:`form-input ${k.runners?"border-red-500":""}`,placeholder:`Enter runner numbers separated by commas, spaces, or new lines.
Examples:
101, 102, 103
150-155
200
210-215`}),k.runners&&d.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:k.runners}),d.jsxs("div",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:[d.jsx("p",{children:"Supported formats:"}),d.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[d.jsx("li",{children:"Individual numbers: 101, 102, 103"}),d.jsx("li",{children:"Ranges: 150-155 (expands to 150, 151, 152, 153, 154, 155)"}),d.jsx("li",{children:"Mixed: 101, 105-107, 110"}),d.jsx("li",{children:"One per line or comma/space separated"})]})]})]}),de.length>0&&d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[d.jsxs("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:["Preview (",de.length," runners)"]}),d.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:de.length<=20?d.jsx("div",{className:"flex flex-wrap gap-1",children:de.map(G=>d.jsx("span",{className:"inline-block bg-blue-100 dark:bg-blue-800 px-2 py-1 rounded",children:G},G))}):d.jsxs("div",{children:[d.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:de.slice(0,20).map(G=>d.jsx("span",{className:"inline-block bg-blue-100 dark:bg-blue-800 px-2 py-1 rounded",children:G},G))}),d.jsxs("p",{className:"text-xs",children:["... and ",de.length-20," more runners"]})]})})]}),d.jsx("button",{type:"submit",disabled:h||_||de.length===0,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:_?d.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 spinner"}),d.jsx("span",{children:"Assigning Times..."})]}):`Assign Time to ${de.length} Runner${de.length!==1?"s":""}`})]})]}),d.jsxs("div",{className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Import Checkpoint Data"}),d.jsxs("button",{type:"button",onClick:()=>M(!P),className:"btn-secondary",children:[P?"Hide":"Show"," Import"]})]}),P&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"importData",className:"form-label",children:"Checkpoint Export Data"}),d.jsx("textarea",{id:"importData",value:S,onChange:G=>N(G.target.value),rows:8,className:`form-input font-mono text-sm ${k.import?"border-red-500":""}`,placeholder:"Paste checkpoint export JSON data here..."}),k.import&&d.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:k.import}),d.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Import checkpoint results from other devices"})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{type:"button",onClick:se,disabled:_||!S.trim(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:_?"Importing...":"Import Checkpoint Data"}),d.jsx("button",{type:"button",onClick:()=>N(""),className:"btn-secondary",children:"Clear"})]}),d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[d.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Import Instructions"}),d.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[d.jsx("li",{children:"• Get checkpoint export data from checkpoint operators"}),d.jsx("li",{children:"• Paste the JSON data into the text area above"}),d.jsx("li",{children:'• Click "Import Checkpoint Data" to merge the results'}),d.jsx("li",{children:"• This will add checkpoint-specific times and call-in data"}),d.jsx("li",{children:"• Duplicate entries will be updated with new data"})]})]})]})]}),d.jsxs("div",{className:"card p-4",children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Quick Actions"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[d.jsx("button",{type:"button",onClick:()=>g(G=>G?`${G}, `:""),className:"btn-secondary text-left",children:d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:"Continue Entry"}),d.jsx("div",{className:"text-xs opacity-75",children:"Add more runners to current input"})]})}),d.jsx("button",{type:"button",onClick:()=>{g(""),b({})},className:"btn-secondary text-left",children:d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:"Clear Runners"}),d.jsx("div",{className:"text-xs opacity-75",children:"Start fresh with new runners"})]})})]})]}),l.filter(G=>G.status===pe.PASSED).length>0&&d.jsxs("div",{className:"card p-4",children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Recent Entries"}),d.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:l.filter(G=>G.status===pe.PASSED&&G.recordedTime).sort((G,U)=>new Date(U.recordedTime).getTime()-new Date(G.recordedTime).getTime()).slice(0,10).map(G=>d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsxs("span",{className:"font-medium",children:["Runner ",G.number]}),d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:Ue.formatTime(G.recordedTime)})]},G.number))})]}),d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[d.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Data Entry Instructions"}),d.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[d.jsx("li",{children:"• Set the common time first (when the group finished)"}),d.jsx("li",{children:"• Enter runner numbers in any format - individual, ranges, or mixed"}),d.jsx("li",{children:'• Use "Now" button for current time or "Race Start" for race beginning'}),d.jsx("li",{children:"• Preview shows exactly which runners will be updated"}),d.jsx("li",{children:'• All entered runners will be marked as "Passed" with the common time'}),d.jsx("li",{children:"• You can process multiple groups with different times"})]})]})]})},ov=()=>{const[s,r]=oe.useState("data-entry"),a=[{id:"data-entry",label:"Data Entry",component:yh},{id:"overview",label:"Race Overview",component:sm}],i=a.find(l=>l.id===s)?.component||yh;return d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[d.jsx("div",{className:"mb-6",children:d.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:d.jsx("nav",{className:"-mb-px flex space-x-8",children:a.map(l=>d.jsx("button",{onClick:()=>r(l.id),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${s===l.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:border-gray-300 dark:hover:border-gray-600"}`,children:l.label},l.id))})})}),d.jsx("div",{className:"min-h-[60vh]",children:d.jsx(i,{})})]})},lv=({isOpen:s,onClose:r})=>{const{settings:a,updateSettings:i}=Yt(),[l,c]=oe.useState(a),[h,y]=oe.useState(!1);oe.useEffect(()=>{c(a),y(!1)},[a,s]),oe.useEffect(()=>{document.documentElement.style.setProperty("--font-size-multiplier",l.fontSize.toString())},[l.fontSize]),oe.useEffect(()=>{l.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[l.darkMode]);const m=(S,N)=>{c(k=>({...k,[S]:N})),y(!0)},p=(S,N)=>{c(k=>({...k,statusColors:{...k.statusColors,[S]:N}})),y(!0)},g=async()=>{try{await i(l),y(!1),r()}catch(S){console.error("Failed to save settings:",S)}},v=()=>{c(a),y(!1),document.documentElement.style.setProperty("--font-size-multiplier",a.fontSize.toString()),a.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),r()},w=()=>{c({darkMode:!1,fontSize:1,statusColors:{"not-started":"#9ca3af",passed:"#10b981","non-starter":"#ef4444",dnf:"#f59e0b"},runnerViewMode:"grid",groupSize:50}),y(!0)};return s?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Settings"}),d.jsx("button",{onClick:v,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Appearance"}),d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Dark Mode"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Switch between light and dark themes"})]}),d.jsx("button",{onClick:()=>m("darkMode",!l.darkMode),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l.darkMode?"bg-primary-600":"bg-gray-200"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l.darkMode?"translate-x-6":"translate-x-1"}`})})]}),d.jsxs("div",{className:"py-3",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block mb-2",children:"Font Size"}),d.jsx("div",{className:"grid grid-cols-3 gap-2",children:nv.map(S=>d.jsx("button",{onClick:()=>m("fontSize",S.value),className:`p-2 text-sm rounded-md border transition-colors ${l.fontSize===S.value?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500 text-gray-900 dark:text-gray-100 hover:text-gray-700 dark:hover:text-gray-200"}`,children:S.label},S.value))}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Changes apply immediately for preview"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Runner Display"}),d.jsxs("div",{className:"py-3",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block mb-2",children:"Default View Mode"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>m("runnerViewMode","grid"),className:`flex-1 p-3 rounded-md border transition-colors ${l.runnerViewMode==="grid"?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500 text-gray-900 dark:text-gray-100 hover:text-gray-700 dark:hover:text-gray-200"}`,children:d.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),d.jsx("span",{className:"text-sm",children:"Grid"})]})}),d.jsx("button",{onClick:()=>m("runnerViewMode","list"),className:`flex-1 p-3 rounded-md border transition-colors ${l.runnerViewMode==="list"?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500 text-gray-900 dark:text-gray-100 hover:text-gray-700 dark:hover:text-gray-200"}`,children:d.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),d.jsx("span",{className:"text-sm",children:"List"})]})})]})]}),d.jsxs("div",{className:"py-3",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block mb-2",children:"Default Group Size"}),d.jsxs("select",{value:l.groupSize,onChange:S=>m("groupSize",parseInt(S.target.value)),className:"form-input",children:[d.jsx("option",{value:10,children:"10 runners"}),d.jsx("option",{value:25,children:"25 runners"}),d.jsx("option",{value:50,children:"50 runners"}),d.jsx("option",{value:100,children:"100 runners"})]}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"For large runner ranges, group runners for easier navigation"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Status Colors"}),d.jsx("div",{className:"space-y-3",children:Object.entries(pe).map(([S,N])=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300 dark:border-gray-600",style:{backgroundColor:l.statusColors[N]}}),d.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 capitalize",children:N.replace("-"," ")})]}),d.jsx("input",{type:"color",value:l.statusColors[N],onChange:k=>p(N,k.target.value),className:"w-8 h-8 rounded border border-gray-300 dark:border-gray-600 cursor-pointer"})]},N))})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700",children:[d.jsx("button",{onClick:w,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Reset to Defaults"}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{onClick:v,className:"btn-secondary",children:"Cancel"}),d.jsx("button",{onClick:g,disabled:!h,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Changes"})]})]})]})}):null};var uv=Object.defineProperty,Li=Object.getOwnPropertySymbols,im=Object.prototype.hasOwnProperty,om=Object.prototype.propertyIsEnumerable,vh=(s,r,a)=>r in s?uv(s,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[r]=a,Ya=(s,r)=>{for(var a in r||(r={}))im.call(r,a)&&vh(s,a,r[a]);if(Li)for(var a of Li(r))om.call(r,a)&&vh(s,a,r[a]);return s},Fu=(s,r)=>{var a={};for(var i in s)im.call(s,i)&&r.indexOf(i)<0&&(a[i]=s[i]);if(s!=null&&Li)for(var i of Li(s))r.indexOf(i)<0&&om.call(s,i)&&(a[i]=s[i]);return a};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var an;(s=>{const r=class{constructor(m,p,g,v){if(this.version=m,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],m<r.MIN_VERSION||m>r.MAX_VERSION)throw new RangeError("Version value out of range");if(v<-1||v>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let w=[];for(let N=0;N<this.size;N++)w.push(!1);for(let N=0;N<this.size;N++)this.modules.push(w.slice()),this.isFunction.push(w.slice());this.drawFunctionPatterns();const S=this.addEccAndInterleave(g);if(this.drawCodewords(S),v==-1){let N=1e9;for(let k=0;k<8;k++){this.applyMask(k),this.drawFormatBits(k);const b=this.getPenaltyScore();b<N&&(v=k,N=b),this.applyMask(k)}}c(0<=v&&v<=7),this.mask=v,this.applyMask(v),this.drawFormatBits(v),this.isFunction=[]}static encodeText(m,p){const g=s.QrSegment.makeSegments(m);return r.encodeSegments(g,p)}static encodeBinary(m,p){const g=s.QrSegment.makeBytes(m);return r.encodeSegments([g],p)}static encodeSegments(m,p,g=1,v=40,w=-1,S=!0){if(!(r.MIN_VERSION<=g&&g<=v&&v<=r.MAX_VERSION)||w<-1||w>7)throw new RangeError("Invalid value");let N,k;for(N=g;;N++){const P=r.getNumDataCodewords(N,p)*8,M=y.getTotalBits(m,N);if(M<=P){k=M;break}if(N>=v)throw new RangeError("Data too long")}for(const P of[r.Ecc.MEDIUM,r.Ecc.QUARTILE,r.Ecc.HIGH])S&&k<=r.getNumDataCodewords(N,P)*8&&(p=P);let b=[];for(const P of m){i(P.mode.modeBits,4,b),i(P.numChars,P.mode.numCharCountBits(N),b);for(const M of P.getData())b.push(M)}c(b.length==k);const _=r.getNumDataCodewords(N,p)*8;c(b.length<=_),i(0,Math.min(4,_-b.length),b),i(0,(8-b.length%8)%8,b),c(b.length%8==0);for(let P=236;b.length<_;P^=253)i(P,8,b);let j=[];for(;j.length*8<b.length;)j.push(0);return b.forEach((P,M)=>j[M>>>3]|=P<<7-(M&7)),new r(N,p,j,w)}getModule(m,p){return 0<=m&&m<this.size&&0<=p&&p<this.size&&this.modules[p][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let g=0;g<this.size;g++)this.setFunctionModule(6,g,g%2==0),this.setFunctionModule(g,6,g%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),p=m.length;for(let g=0;g<p;g++)for(let v=0;v<p;v++)g==0&&v==0||g==0&&v==p-1||g==p-1&&v==0||this.drawAlignmentPattern(m[g],m[v]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const p=this.errorCorrectionLevel.formatBits<<3|m;let g=p;for(let w=0;w<10;w++)g=g<<1^(g>>>9)*1335;const v=(p<<10|g)^21522;c(v>>>15==0);for(let w=0;w<=5;w++)this.setFunctionModule(8,w,l(v,w));this.setFunctionModule(8,7,l(v,6)),this.setFunctionModule(8,8,l(v,7)),this.setFunctionModule(7,8,l(v,8));for(let w=9;w<15;w++)this.setFunctionModule(14-w,8,l(v,w));for(let w=0;w<8;w++)this.setFunctionModule(this.size-1-w,8,l(v,w));for(let w=8;w<15;w++)this.setFunctionModule(8,this.size-15+w,l(v,w));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let g=0;g<12;g++)m=m<<1^(m>>>11)*7973;const p=this.version<<12|m;c(p>>>18==0);for(let g=0;g<18;g++){const v=l(p,g),w=this.size-11+g%3,S=Math.floor(g/3);this.setFunctionModule(w,S,v),this.setFunctionModule(S,w,v)}}drawFinderPattern(m,p){for(let g=-4;g<=4;g++)for(let v=-4;v<=4;v++){const w=Math.max(Math.abs(v),Math.abs(g)),S=m+v,N=p+g;0<=S&&S<this.size&&0<=N&&N<this.size&&this.setFunctionModule(S,N,w!=2&&w!=4)}}drawAlignmentPattern(m,p){for(let g=-2;g<=2;g++)for(let v=-2;v<=2;v++)this.setFunctionModule(m+v,p+g,Math.max(Math.abs(v),Math.abs(g))!=1)}setFunctionModule(m,p,g){this.modules[p][m]=g,this.isFunction[p][m]=!0}addEccAndInterleave(m){const p=this.version,g=this.errorCorrectionLevel;if(m.length!=r.getNumDataCodewords(p,g))throw new RangeError("Invalid argument");const v=r.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][p],w=r.ECC_CODEWORDS_PER_BLOCK[g.ordinal][p],S=Math.floor(r.getNumRawDataModules(p)/8),N=v-S%v,k=Math.floor(S/v);let b=[];const _=r.reedSolomonComputeDivisor(w);for(let P=0,M=0;P<v;P++){let A=m.slice(M,M+k-w+(P<N?0:1));M+=A.length;const F=r.reedSolomonComputeRemainder(A,_);P<N&&A.push(0),b.push(A.concat(F))}let j=[];for(let P=0;P<b[0].length;P++)b.forEach((M,A)=>{(P!=k-w||A>=N)&&j.push(M[P])});return c(j.length==S),j}drawCodewords(m){if(m.length!=Math.floor(r.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let g=this.size-1;g>=1;g-=2){g==6&&(g=5);for(let v=0;v<this.size;v++)for(let w=0;w<2;w++){const S=g-w,k=(g+1&2)==0?this.size-1-v:v;!this.isFunction[k][S]&&p<m.length*8&&(this.modules[k][S]=l(m[p>>>3],7-(p&7)),p++)}}c(p==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let g=0;g<this.size;g++){let v;switch(m){case 0:v=(g+p)%2==0;break;case 1:v=p%2==0;break;case 2:v=g%3==0;break;case 3:v=(g+p)%3==0;break;case 4:v=(Math.floor(g/3)+Math.floor(p/2))%2==0;break;case 5:v=g*p%2+g*p%3==0;break;case 6:v=(g*p%2+g*p%3)%2==0;break;case 7:v=((g+p)%2+g*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][g]&&v&&(this.modules[p][g]=!this.modules[p][g])}}getPenaltyScore(){let m=0;for(let w=0;w<this.size;w++){let S=!1,N=0,k=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[w][b]==S?(N++,N==5?m+=r.PENALTY_N1:N>5&&m++):(this.finderPenaltyAddHistory(N,k),S||(m+=this.finderPenaltyCountPatterns(k)*r.PENALTY_N3),S=this.modules[w][b],N=1);m+=this.finderPenaltyTerminateAndCount(S,N,k)*r.PENALTY_N3}for(let w=0;w<this.size;w++){let S=!1,N=0,k=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][w]==S?(N++,N==5?m+=r.PENALTY_N1:N>5&&m++):(this.finderPenaltyAddHistory(N,k),S||(m+=this.finderPenaltyCountPatterns(k)*r.PENALTY_N3),S=this.modules[b][w],N=1);m+=this.finderPenaltyTerminateAndCount(S,N,k)*r.PENALTY_N3}for(let w=0;w<this.size-1;w++)for(let S=0;S<this.size-1;S++){const N=this.modules[w][S];N==this.modules[w][S+1]&&N==this.modules[w+1][S]&&N==this.modules[w+1][S+1]&&(m+=r.PENALTY_N2)}let p=0;for(const w of this.modules)p=w.reduce((S,N)=>S+(N?1:0),p);const g=this.size*this.size,v=Math.ceil(Math.abs(p*20-g*10)/g)-1;return c(0<=v&&v<=9),m+=v*r.PENALTY_N4,c(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let g=[6];for(let v=this.size-7;g.length<m;v-=p)g.splice(1,0,v);return g}}static getNumRawDataModules(m){if(m<r.MIN_VERSION||m>r.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*m+128)*m+64;if(m>=2){const g=Math.floor(m/7)+2;p-=(25*g-10)*g-55,m>=7&&(p-=36)}return c(208<=p&&p<=29648),p}static getNumDataCodewords(m,p){return Math.floor(r.getNumRawDataModules(m)/8)-r.ECC_CODEWORDS_PER_BLOCK[p.ordinal][m]*r.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let p=[];for(let v=0;v<m-1;v++)p.push(0);p.push(1);let g=1;for(let v=0;v<m;v++){for(let w=0;w<p.length;w++)p[w]=r.reedSolomonMultiply(p[w],g),w+1<p.length&&(p[w]^=p[w+1]);g=r.reedSolomonMultiply(g,2)}return p}static reedSolomonComputeRemainder(m,p){let g=p.map(v=>0);for(const v of m){const w=v^g.shift();g.push(0),p.forEach((S,N)=>g[N]^=r.reedSolomonMultiply(S,w))}return g}static reedSolomonMultiply(m,p){if(m>>>8||p>>>8)throw new RangeError("Byte out of range");let g=0;for(let v=7;v>=0;v--)g=g<<1^(g>>>7)*285,g^=(p>>>v&1)*m;return c(g>>>8==0),g}finderPenaltyCountPatterns(m){const p=m[1];c(p<=this.size*3);const g=p>0&&m[2]==p&&m[3]==p*3&&m[4]==p&&m[5]==p;return(g&&m[0]>=p*4&&m[6]>=p?1:0)+(g&&m[6]>=p*4&&m[0]>=p?1:0)}finderPenaltyTerminateAndCount(m,p,g){return m&&(this.finderPenaltyAddHistory(p,g),p=0),p+=this.size,this.finderPenaltyAddHistory(p,g),this.finderPenaltyCountPatterns(g)}finderPenaltyAddHistory(m,p){p[0]==0&&(m+=this.size),p.pop(),p.unshift(m)}};let a=r;a.MIN_VERSION=1,a.MAX_VERSION=40,a.PENALTY_N1=3,a.PENALTY_N2=3,a.PENALTY_N3=40,a.PENALTY_N4=10,a.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],a.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],s.QrCode=a;function i(m,p,g){if(p<0||p>31||m>>>p)throw new RangeError("Value out of range");for(let v=p-1;v>=0;v--)g.push(m>>>v&1)}function l(m,p){return(m>>>p&1)!=0}function c(m){if(!m)throw new Error("Assertion error")}const h=class{constructor(m,p,g){if(this.mode=m,this.numChars=p,this.bitData=g,p<0)throw new RangeError("Invalid argument");this.bitData=g.slice()}static makeBytes(m){let p=[];for(const g of m)i(g,8,p);return new h(h.Mode.BYTE,m.length,p)}static makeNumeric(m){if(!h.isNumeric(m))throw new RangeError("String contains non-numeric characters");let p=[];for(let g=0;g<m.length;){const v=Math.min(m.length-g,3);i(parseInt(m.substr(g,v),10),v*3+1,p),g+=v}return new h(h.Mode.NUMERIC,m.length,p)}static makeAlphanumeric(m){if(!h.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],g;for(g=0;g+2<=m.length;g+=2){let v=h.ALPHANUMERIC_CHARSET.indexOf(m.charAt(g))*45;v+=h.ALPHANUMERIC_CHARSET.indexOf(m.charAt(g+1)),i(v,11,p)}return g<m.length&&i(h.ALPHANUMERIC_CHARSET.indexOf(m.charAt(g)),6,p),new h(h.Mode.ALPHANUMERIC,m.length,p)}static makeSegments(m){return m==""?[]:h.isNumeric(m)?[h.makeNumeric(m)]:h.isAlphanumeric(m)?[h.makeAlphanumeric(m)]:[h.makeBytes(h.toUtf8ByteArray(m))]}static makeEci(m){let p=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)i(m,8,p);else if(m<16384)i(2,2,p),i(m,14,p);else if(m<1e6)i(6,3,p),i(m,21,p);else throw new RangeError("ECI assignment value out of range");return new h(h.Mode.ECI,0,p)}static isNumeric(m){return h.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return h.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,p){let g=0;for(const v of m){const w=v.mode.numCharCountBits(p);if(v.numChars>=1<<w)return 1/0;g+=4+w+v.bitData.length}return g}static toUtf8ByteArray(m){m=encodeURI(m);let p=[];for(let g=0;g<m.length;g++)m.charAt(g)!="%"?p.push(m.charCodeAt(g)):(p.push(parseInt(m.substr(g+1,2),16)),g+=2);return p}};let y=h;y.NUMERIC_REGEX=/^[0-9]*$/,y.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,y.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",s.QrSegment=y})(an||(an={}));(s=>{(r=>{const a=class{constructor(l,c){this.ordinal=l,this.formatBits=c}};let i=a;i.LOW=new a(0,1),i.MEDIUM=new a(1,0),i.QUARTILE=new a(2,3),i.HIGH=new a(3,2),r.Ecc=i})(s.QrCode||(s.QrCode={}))})(an||(an={}));(s=>{(r=>{const a=class{constructor(l,c){this.modeBits=l,this.numBitsCharCount=c}numCharCountBits(l){return this.numBitsCharCount[Math.floor((l+7)/17)]}};let i=a;i.NUMERIC=new a(1,[10,12,14]),i.ALPHANUMERIC=new a(2,[9,11,13]),i.BYTE=new a(4,[8,16,16]),i.KANJI=new a(8,[8,10,12]),i.ECI=new a(7,[0,0,0]),r.Mode=i})(s.QrSegment||(s.QrSegment={}))})(an||(an={}));var Ln=an;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var lm={L:Ln.QrCode.Ecc.LOW,M:Ln.QrCode.Ecc.MEDIUM,Q:Ln.QrCode.Ecc.QUARTILE,H:Ln.QrCode.Ecc.HIGH},um=128,cm="L",dm="#FFFFFF",fm="#000000",hm=!1,zu=4,cv=.1;function mm(s,r=0){const a=[];return s.forEach(function(i,l){let c=null;i.forEach(function(h,y){if(!h&&c!==null){a.push(`M${c+r} ${l+r}h${y-c}v1H${c+r}z`),c=null;return}if(y===i.length-1){if(!h)return;c===null?a.push(`M${y+r},${l+r} h1v1H${y+r}z`):a.push(`M${c+r},${l+r} h${y+1-c}v1H${c+r}z`);return}h&&c===null&&(c=y)})}),a.join("")}function pm(s,r){return s.slice().map((a,i)=>i<r.y||i>=r.y+r.h?a:a.map((l,c)=>c<r.x||c>=r.x+r.w?l:!1))}function gm(s,r,a,i){if(i==null)return null;const l=a?zu:0,c=s.length+l*2,h=Math.floor(r*cv),y=c/r,m=(i.width||h)*y,p=(i.height||h)*y,g=i.x==null?s.length/2-m/2:i.x*y,v=i.y==null?s.length/2-p/2:i.y*y;let w=null;if(i.excavate){let S=Math.floor(g),N=Math.floor(v),k=Math.ceil(m+g-S),b=Math.ceil(p+v-N);w={x:S,y:N,w:k,h:b}}return{x:g,y:v,h:p,w:m,excavation:w}}var dv=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function fv(s){const r=s,{value:a,size:i=um,level:l=cm,bgColor:c=dm,fgColor:h=fm,includeMargin:y=hm,style:m,imageSettings:p}=r,g=Fu(r,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),v=p?.src,w=et.useRef(null),S=et.useRef(null),[N,k]=et.useState(!1);et.useEffect(()=>{if(w.current!=null){const j=w.current,P=j.getContext("2d");if(!P)return;let M=Ln.QrCode.encodeText(a,lm[l]).getModules();const A=y?zu:0,F=M.length+A*2,D=gm(M,i,y,p),V=S.current,W=D!=null&&V!==null&&V.complete&&V.naturalHeight!==0&&V.naturalWidth!==0;W&&D.excavation!=null&&(M=pm(M,D.excavation));const se=window.devicePixelRatio||1;j.height=j.width=i*se;const X=i/F*se;P.scale(X,X),P.fillStyle=c,P.fillRect(0,0,F,F),P.fillStyle=h,dv?P.fill(new Path2D(mm(M,A))):M.forEach(function(de,me){de.forEach(function(ye,Pe){ye&&P.fillRect(Pe+A,me+A,1,1)})}),W&&P.drawImage(V,D.x+A,D.y+A,D.w,D.h)}}),et.useEffect(()=>{k(!1)},[v]);const b=Ya({height:i,width:i},m);let _=null;return v!=null&&(_=et.createElement("img",{src:v,key:v,style:{display:"none"},onLoad:()=>{k(!0)},ref:S})),et.createElement(et.Fragment,null,et.createElement("canvas",Ya({style:b,height:i,width:i,ref:w},g)),_)}function hv(s){const r=s,{value:a,size:i=um,level:l=cm,bgColor:c=dm,fgColor:h=fm,includeMargin:y=hm,imageSettings:m}=r,p=Fu(r,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let g=Ln.QrCode.encodeText(a,lm[l]).getModules();const v=y?zu:0,w=g.length+v*2,S=gm(g,i,y,m);let N=null;m!=null&&S!=null&&(S.excavation!=null&&(g=pm(g,S.excavation)),N=et.createElement("image",{xlinkHref:m.src,height:S.h,width:S.w,x:S.x+v,y:S.y+v,preserveAspectRatio:"none"}));const k=mm(g,v);return et.createElement("svg",Ya({height:i,width:i,viewBox:`0 0 ${w} ${w}`},p),et.createElement("path",{fill:c,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),et.createElement("path",{fill:h,d:k,shapeRendering:"crispEdges"}),N)}var mv=s=>{const r=s,{renderAs:a}=r,i=Fu(r,["renderAs"]);return a==="svg"?et.createElement(hv,Ya({},i)):et.createElement(fv,Ya({},i))};const pv=({isOpen:s,onClose:r})=>{const{exportRaceConfig:a,exportRaceResults:i,exportCheckpointResults:l,importRaceConfig:c,importCheckpointResults:h,raceConfig:y,checkpoints:m,isLoading:p}=Yt(),[g,v]=oe.useState("export"),[w,S]=oe.useState(null),[N,k]=oe.useState(""),[b,_]=oe.useState(!1),[j,P]=oe.useState(""),[M,A]=oe.useState(""),[F,D]=oe.useState("config"),[V,W]=oe.useState(1),se=oe.useRef(null),X=async()=>{_(!0),P("");try{let z;if(F==="config")z=await a(),S(z),A("Race configuration exported successfully!");else if(F==="results"){z=await i("csv");const T=new Blob([z.content],{type:z.mimeType}),$=URL.createObjectURL(T),ae=document.createElement("a");ae.href=$,ae.download=z.filename,document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),URL.revokeObjectURL($),A("Race results exported successfully!")}else F==="checkpoint"&&(z=await l(V),S(z),A("Checkpoint results exported successfully!"))}catch(z){P("Failed to export: "+z.message)}finally{_(!1)}},de=async()=>{if(!N.trim()){P("Please enter the configuration data");return}_(!0),P(""),A("");try{const z=JSON.parse(N.trim());z.exportType==="checkpoint-results"?(await h(z),A("Checkpoint results imported successfully!")):(await c(z),A("Race configuration imported successfully!")),k(""),setTimeout(()=>{r()},2e3)}catch(z){z instanceof SyntaxError?P("Invalid JSON format. Please check the configuration data."):P("Failed to import data: "+z.message)}finally{_(!1)}},me=()=>{if(!w)return;const z=JSON.stringify(w,null,2),T=new Blob([z],{type:"application/json"}),$=URL.createObjectURL(T),ae=document.createElement("a");ae.href=$,ae.download=`race-config-${y?.name?.replace(/\s+/g,"-")||"export"}.json`,document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),URL.revokeObjectURL($)},ye=z=>{const T=z.target.files[0];if(!T)return;if(T.type!=="application/json"){P("Please select a JSON file");return}const $=new FileReader;$.onload=ae=>{try{const ge=ae.target.result;k(ge),P(""),A('File loaded successfully. Click "Import Configuration" to proceed.')}catch{P("Failed to read file")}},$.readAsText(T)},Pe=()=>{se.current?.click()},G=async()=>{if(w)try{await navigator.clipboard.writeText(JSON.stringify(w,null,2)),A("Configuration copied to clipboard!")}catch{P("Failed to copy to clipboard")}},U=()=>{if(!w)return;const z=encodeURIComponent(`Race Configuration: ${y?.name||"Export"}`),T=encodeURIComponent(`Race Configuration Data:

${JSON.stringify(w,null,2)}

Import this configuration into RaceTracker Pro by copying the JSON data above.`);window.open(`mailto:?subject=${z}&body=${T}`)},B=()=>{P(""),A("")},q=()=>{S(null),k(""),P(""),A(""),v("export"),D("config"),r()};return s?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Import / Export Race Configuration"}),d.jsx("button",{onClick:q,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[d.jsx("button",{onClick:()=>{v("export"),B()},className:`flex-1 py-3 px-4 text-sm font-medium ${g==="export"?"border-b-2 border-primary-500 text-primary-600 dark:text-primary-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:"Export Configuration"}),d.jsx("button",{onClick:()=>{v("import"),B()},className:`flex-1 py-3 px-4 text-sm font-medium ${g==="import"?"border-b-2 border-primary-500 text-primary-600 dark:text-primary-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:"Import Configuration"})]}),d.jsxs("div",{className:"p-6",children:[j&&d.jsx("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),d.jsx("span",{className:"text-sm text-red-800 dark:text-red-200",children:j})]})}),M&&d.jsx("div",{className:"mb-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 text-green-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),d.jsx("span",{className:"text-sm text-green-800 dark:text-green-200",children:M})]})}),g==="export"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Export Type"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[d.jsxs("label",{className:"flex items-center space-x-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[d.jsx("input",{type:"radio",name:"exportType",value:"config",checked:F==="config",onChange:z=>D(z.target.value),className:"text-primary-600"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Race Configuration"}),d.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Export race setup for sharing or backup"})]})]}),d.jsxs("label",{className:"flex items-center space-x-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[d.jsx("input",{type:"radio",name:"exportType",value:"results",checked:F==="results",onChange:z=>D(z.target.value),className:"text-primary-600"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Race Results (CSV)"}),d.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Export runner results and times"})]})]}),m&&m.length>0&&d.jsxs("label",{className:"flex items-center space-x-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[d.jsx("input",{type:"radio",name:"exportType",value:"checkpoint",checked:F==="checkpoint",onChange:z=>D(z.target.value),className:"text-primary-600"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Checkpoint Results"}),d.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Export specific checkpoint data"})]})]})]}),F==="checkpoint"&&m&&m.length>0&&d.jsxs("div",{className:"mt-4",children:[d.jsx("label",{htmlFor:"selectedCheckpoint",className:"form-label",children:"Select Checkpoint"}),d.jsx("select",{id:"selectedCheckpoint",value:V,onChange:z=>W(parseInt(z.target.value)),className:"form-input",children:m.map(z=>d.jsx("option",{value:z.number,children:z.name},z.number))})]})]}),!w&&(F==="config"||F==="checkpoint")?d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:F==="config"?"Export your race configuration to share with other devices or as a backup.":"Export checkpoint results to share with the base station or other devices."}),d.jsx("button",{onClick:X,disabled:b||p||!y,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:b||p?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 spinner"}),d.jsx("span",{children:"Exporting..."})]}):F==="config"?"Export Race Configuration":"Export Checkpoint Results"}),!y&&d.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:"No race configuration available to export"})]}):F==="results"?d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Export race results as a CSV file with runner numbers, statuses, times, and notes."}),d.jsx("button",{onClick:X,disabled:b||p||!y,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:b||p?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 spinner"}),d.jsx("span",{children:"Exporting..."})]}):"Export Race Results (CSV)"}),!y&&d.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:"No race available to export"})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"QR Code"}),d.jsx("div",{className:"inline-block p-4 bg-white rounded-lg",children:d.jsx(mv,{value:JSON.stringify(w),size:200,level:"M",includeMargin:!0})}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:"Scan this QR code with another device to import the configuration"})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[d.jsxs("button",{onClick:G,className:"btn-secondary flex items-center justify-center space-x-2",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),d.jsx("span",{children:"Copy"})]}),d.jsxs("button",{onClick:me,className:"btn-secondary flex items-center justify-center space-x-2",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:"Download"})]}),d.jsxs("button",{onClick:U,className:"btn-secondary flex items-center justify-center space-x-2",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),d.jsx("span",{children:"Email"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Configuration Data"}),d.jsx("textarea",{value:JSON.stringify(w,null,2),readOnly:!0,rows:8,className:"form-input font-mono text-sm"})]})]})]}),g==="import"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Import Race Configuration"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Upload a JSON file, paste the race configuration data below, or scan a QR code from another device."}),d.jsxs("div",{className:"mb-6",children:[d.jsx("input",{ref:se,type:"file",accept:".json,application/json",onChange:ye,className:"hidden"}),d.jsxs("button",{onClick:Pe,className:"btn-secondary flex items-center space-x-2",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),d.jsx("span",{children:"Upload JSON File"})]})]}),d.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 mb-4",children:"or"}),d.jsx("textarea",{value:N,onChange:z=>k(z.target.value),placeholder:"Paste race configuration JSON data here...",rows:10,className:"form-input font-mono text-sm"})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{onClick:de,disabled:b||p||!N.trim(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:b||p?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 spinner"}),d.jsx("span",{children:"Importing..."})]}):"Import Configuration"}),d.jsx("button",{onClick:()=>k(""),className:"btn-secondary",children:"Clear"})]}),d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[d.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Import Instructions"}),d.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[d.jsx("li",{children:"• Copy JSON data from another device (race config or checkpoint results)"}),d.jsx("li",{children:"• Paste it into the text area above"}),d.jsx("li",{children:'• Click "Import Configuration" to load the data'}),d.jsx("li",{children:"• Race configs will create a new race with imported settings"}),d.jsx("li",{children:"• Checkpoint results will merge with existing race data"}),d.jsx("li",{children:"• The system will automatically detect the data type"})]})]})]})]})]})}):null};function gv(){const{mode:s,raceConfig:r,isLoading:a,error:i,clearError:l,loadCurrentRace:c,loadSettings:h,settings:y}=Yt(),[m,p]=oe.useState(!1),[g,v]=oe.useState(!1),[w,S]=oe.useState(!1);if(oe.useEffect(()=>{(async()=>{try{await h(),await c(),S(!0)}catch(b){console.error("Failed to initialize app:",b),S(!0)}})()},[c,h]),oe.useEffect(()=>{y&&(document.documentElement.style.setProperty("--font-size-multiplier",y.fontSize.toString()),y.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),Object.entries(y.statusColors).forEach(([k,b])=>{document.documentElement.style.setProperty(`--status-${k}`,b)}))},[y]),!w)return d.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:d.jsx(bu,{size:"lg",message:"Initializing RaceTracker Pro..."})});const N=()=>{if(!r||s===Ee.SETUP)return d.jsx(ph,{});switch(s){case Ee.CHECKPOINT:return d.jsx(iv,{});case Ee.BASE_STATION:return d.jsx(ov,{});default:return d.jsx(ph,{})}};return d.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[d.jsx(av,{onSettingsClick:()=>p(!0),onImportExportClick:()=>v(!0)}),d.jsxs("main",{className:"pb-8",children:[i&&d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6",children:d.jsx(am,{error:i,onDismiss:l})}),a&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 flex items-center justify-center z-40",children:d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-xl",children:d.jsx(bu,{message:"Processing..."})})}),N()]}),d.jsx(lv,{isOpen:m,onClose:()=>p(!1)}),d.jsx(pv,{isOpen:g,onClose:()=>v(!1)}),d.jsx(yv,{})]})}const yv=()=>{const[s,r]=oe.useState(null),[a,i]=oe.useState(!1);oe.useEffect(()=>{const h=m=>{m.preventDefault(),r(m),i(!0)},y=()=>{i(!1),r(null)};return window.addEventListener("beforeinstallprompt",h),window.addEventListener("appinstalled",y),()=>{window.removeEventListener("beforeinstallprompt",h),window.removeEventListener("appinstalled",y)}},[]);const l=async()=>{if(!s)return;s.prompt();const{outcome:h}=await s.userChoice;console.log(h==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),r(null),i(!1)},c=()=>{i(!1)};return a?d.jsx("div",{className:"fixed bottom-4 left-4 right-4 bg-primary-600 text-white rounded-lg shadow-lg p-4 z-50 max-w-sm mx-auto",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Install RaceTracker Pro"}),d.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Install this app on your device for offline access and better performance."}),d.jsxs("div",{className:"flex space-x-2 mt-3",children:[d.jsx("button",{onClick:l,className:"bg-white text-primary-600 px-3 py-1 rounded text-xs font-medium hover:bg-gray-100 transition-colors",children:"Install"}),d.jsx("button",{onClick:c,className:"text-white px-3 py-1 rounded text-xs hover:bg-primary-700 transition-colors",children:"Later"})]})]}),d.jsx("button",{onClick:c,className:"flex-shrink-0 text-white hover:text-gray-200 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):null};S0.createRoot(document.getElementById("root")).render(d.jsx(et.StrictMode,{children:d.jsx(gv,{})}));
